function jb(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function B_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep={exports:{}},Wl={},tp={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function Fb(){if(iw)return He;iw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),g=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,A={};function N(L,K,ne){this.props=L,this.context=K,this.refs=A,this.updater=ne||C}N.prototype.isReactComponent={},N.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=N.prototype;function $(L,K,ne){this.props=L,this.context=K,this.refs=A,this.updater=ne||C}var q=$.prototype=new U;q.constructor=$,V(q,N.prototype),q.isPureReactComponent=!0;var J=Array.isArray,ee=Object.prototype.hasOwnProperty,re={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(L,K,ne){var ce,ye={},be=null,se=null;if(K!=null)for(ce in K.ref!==void 0&&(se=K.ref),K.key!==void 0&&(be=""+K.key),K)ee.call(K,ce)&&!R.hasOwnProperty(ce)&&(ye[ce]=K[ce]);var he=arguments.length-2;if(he===1)ye.children=ne;else if(1<he){for(var Re=Array(he),De=0;De<he;De++)Re[De]=arguments[De+2];ye.children=Re}if(L&&L.defaultProps)for(ce in he=L.defaultProps,he)ye[ce]===void 0&&(ye[ce]=he[ce]);return{$$typeof:n,type:L,key:be,ref:se,props:ye,_owner:re.current}}function P(L,K){return{$$typeof:n,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function O(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return K[ne]})}var F=/\/+/g;function k(L,K){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):K.toString(36)}function we(L,K,ne,ce,ye){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(be){case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case n:case e:se=!0}}if(se)return se=L,ye=ye(se),L=ce===""?"."+k(se,0):ce,J(ye)?(ne="",L!=null&&(ne=L.replace(F,"$&/")+"/"),we(ye,K,ne,"",function(De){return De})):ye!=null&&(M(ye)&&(ye=P(ye,ne+(!ye.key||se&&se.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+L)),K.push(ye)),1;if(se=0,ce=ce===""?".":ce+":",J(L))for(var he=0;he<L.length;he++){be=L[he];var Re=ce+k(be,he);se+=we(be,K,ne,Re,ye)}else if(Re=T(L),typeof Re=="function")for(L=Re.call(L),he=0;!(be=L.next()).done;)be=be.value,Re=ce+k(be,he++),se+=we(be,K,ne,Re,ye);else if(be==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return se}function Ae(L,K,ne){if(L==null)return L;var ce=[],ye=0;return we(L,ce,"","",function(be){return K.call(ne,be,ye++)}),ce}function ue(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var pe={current:null},B={transition:null},le={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:B,ReactCurrentOwner:re};function X(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Ae,forEach:function(L,K,ne){Ae(L,function(){K.apply(this,arguments)},ne)},count:function(L){var K=0;return Ae(L,function(){K++}),K},toArray:function(L){return Ae(L,function(K){return K})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},He.Component=N,He.Fragment=t,He.Profiler=o,He.PureComponent=$,He.StrictMode=r,He.Suspense=h,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,He.act=X,He.cloneElement=function(L,K,ne){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ce=V({},L.props),ye=L.key,be=L.ref,se=L._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,se=re.current),K.key!==void 0&&(ye=""+K.key),L.type&&L.type.defaultProps)var he=L.type.defaultProps;for(Re in K)ee.call(K,Re)&&!R.hasOwnProperty(Re)&&(ce[Re]=K[Re]===void 0&&he!==void 0?he[Re]:K[Re])}var Re=arguments.length-2;if(Re===1)ce.children=ne;else if(1<Re){he=Array(Re);for(var De=0;De<Re;De++)he[De]=arguments[De+2];ce.children=he}return{$$typeof:n,type:L.type,key:ye,ref:be,props:ce,_owner:se}},He.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},He.createElement=S,He.createFactory=function(L){var K=S.bind(null,L);return K.type=L,K},He.createRef=function(){return{current:null}},He.forwardRef=function(L){return{$$typeof:f,render:L}},He.isValidElement=M,He.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:ue}},He.memo=function(L,K){return{$$typeof:p,type:L,compare:K===void 0?null:K}},He.startTransition=function(L){var K=B.transition;B.transition={};try{L()}finally{B.transition=K}},He.unstable_act=X,He.useCallback=function(L,K){return pe.current.useCallback(L,K)},He.useContext=function(L){return pe.current.useContext(L)},He.useDebugValue=function(){},He.useDeferredValue=function(L){return pe.current.useDeferredValue(L)},He.useEffect=function(L,K){return pe.current.useEffect(L,K)},He.useId=function(){return pe.current.useId()},He.useImperativeHandle=function(L,K,ne){return pe.current.useImperativeHandle(L,K,ne)},He.useInsertionEffect=function(L,K){return pe.current.useInsertionEffect(L,K)},He.useLayoutEffect=function(L,K){return pe.current.useLayoutEffect(L,K)},He.useMemo=function(L,K){return pe.current.useMemo(L,K)},He.useReducer=function(L,K,ne){return pe.current.useReducer(L,K,ne)},He.useRef=function(L){return pe.current.useRef(L)},He.useState=function(L){return pe.current.useState(L)},He.useSyncExternalStore=function(L,K,ne){return pe.current.useSyncExternalStore(L,K,ne)},He.useTransition=function(){return pe.current.useTransition()},He.version="18.3.1",He}var ow;function Im(){return ow||(ow=1,tp.exports=Fb()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function Ub(){if(aw)return Wl;aw=1;var n=Im(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,p){var w,g={},T=null,C=null;p!==void 0&&(T=""+p),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(C=h.ref);for(w in h)r.call(h,w)&&!a.hasOwnProperty(w)&&(g[w]=h[w]);if(f&&f.defaultProps)for(w in h=f.defaultProps,h)g[w]===void 0&&(g[w]=h[w]);return{$$typeof:e,type:f,key:T,ref:C,props:g,_owner:o.current}}return Wl.Fragment=t,Wl.jsx=c,Wl.jsxs=c,Wl}var lw;function zb(){return lw||(lw=1,ep.exports=Ub()),ep.exports}var _=zb(),Bu={},np={exports:{}},An={},rp={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function Bb(){return cw||(cw=1,(function(n){function e(B,le){var X=B.length;B.push(le);e:for(;0<X;){var L=X-1>>>1,K=B[L];if(0<o(K,le))B[L]=le,B[X]=K,X=L;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var le=B[0],X=B.pop();if(X!==le){B[0]=X;e:for(var L=0,K=B.length,ne=K>>>1;L<ne;){var ce=2*(L+1)-1,ye=B[ce],be=ce+1,se=B[be];if(0>o(ye,X))be<K&&0>o(se,ye)?(B[L]=se,B[be]=X,L=be):(B[L]=ye,B[ce]=X,L=ce);else if(be<K&&0>o(se,X))B[L]=se,B[be]=X,L=be;else break e}}return le}function o(B,le){var X=B.sortIndex-le.sortIndex;return X!==0?X:B.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],p=[],w=1,g=null,T=3,C=!1,V=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(B){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=B)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(p)}}function J(B){if(A=!1,q(B),!V)if(t(h)!==null)V=!0,ue(ee);else{var le=t(p);le!==null&&pe(J,le.startTime-B)}}function ee(B,le){V=!1,A&&(A=!1,U(S),S=-1),C=!0;var X=T;try{for(q(le),g=t(h);g!==null&&(!(g.expirationTime>le)||B&&!O());){var L=g.callback;if(typeof L=="function"){g.callback=null,T=g.priorityLevel;var K=L(g.expirationTime<=le);le=n.unstable_now(),typeof K=="function"?g.callback=K:g===t(h)&&r(h),q(le)}else r(h);g=t(h)}if(g!==null)var ne=!0;else{var ce=t(p);ce!==null&&pe(J,ce.startTime-le),ne=!1}return ne}finally{g=null,T=X,C=!1}}var re=!1,R=null,S=-1,P=5,M=-1;function O(){return!(n.unstable_now()-M<P)}function F(){if(R!==null){var B=n.unstable_now();M=B;var le=!0;try{le=R(!0,B)}finally{le?k():(re=!1,R=null)}}else re=!1}var k;if(typeof $=="function")k=function(){$(F)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ae=we.port2;we.port1.onmessage=F,k=function(){Ae.postMessage(null)}}else k=function(){N(F,0)};function ue(B){R=B,re||(re=!0,k())}function pe(B,le){S=N(function(){B(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){V||C||(V=!0,ue(ee))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(B){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var X=T;T=le;try{return B()}finally{T=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,le){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=T;T=B;try{return le()}finally{T=X}},n.unstable_scheduleCallback=function(B,le,X){var L=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?L+X:L):X=L,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,B={id:w++,callback:le,priorityLevel:B,startTime:X,expirationTime:K,sortIndex:-1},X>L?(B.sortIndex=X,e(p,B),t(h)===null&&B===t(p)&&(A?(U(S),S=-1):A=!0,pe(J,X-L))):(B.sortIndex=K,e(h,B),V||C||(V=!0,ue(ee))),B},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(B){var le=T;return function(){var X=T;T=le;try{return B.apply(this,arguments)}finally{T=X}}}})(sp)),sp}var uw;function $b(){return uw||(uw=1,rp.exports=Bb()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function Hb(){if(dw)return An;dw=1;var n=Im(),e=$b();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},g={};function T(s){return h.call(g,s)?!0:h.call(w,s)?!1:p.test(s)?g[s]=!0:(w[s]=!0,!1)}function C(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function V(s,i,l,d){if(i===null||typeof i>"u"||C(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(s,i,l,d,m,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];N[i]=new A(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(U,$);N[i]=new A(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(U,$);N[i]=new A(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(U,$);N[i]=new A(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function q(s,i,l,d){var m=N.hasOwnProperty(i)?N[i]:null;(m!==null?m.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(V(i,l,m,d)&&(l=null),d||m===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(i=m.attributeName,d=m.attributeNamespace,l===null?s.removeAttribute(i):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),re=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),B=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,L;function K(s){if(L===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+s}var ne=!1;function ce(s,i){if(!s||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var d=Q}Reflect.construct(s,[],i)}else{try{i.call()}catch(Q){d=Q}s.call(i.prototype)}else{try{throw Error()}catch(Q){d=Q}s()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),y=d.stack.split(`
`),x=m.length-1,D=y.length-1;1<=x&&0<=D&&m[x]!==y[D];)D--;for(;1<=x&&0<=D;x--,D--)if(m[x]!==y[D]){if(x!==1||D!==1)do if(x--,D--,0>D||m[x]!==y[D]){var j=`
`+m[x].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=x&&0<=D);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?K(s):""}function ye(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case re:return"Portal";case P:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case ue:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function se(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function he(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(s){var i=Re(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,y.call(this,x)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ze(s){s._valueTracker||(s._valueTracker=De(s))}function $e(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Re(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function zt(s,i){var l=i.checked;return X({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Pr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=he(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Nn(s,i){i=i.checked,i!=null&&q(s,"checked",i,!1)}function Qt(s,i){Nn(s,i);var l=he(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Ze(s,i.type,l):i.hasOwnProperty("defaultValue")&&Ze(s,i.type,he(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Bs(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Ze(s,i,l){(i!=="number"||pt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var mt=Array.isArray;function Dn(s,i,l,d){if(s=s.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=i.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+he(l),i=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Vt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Kn(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(mt(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:he(l)}}function Vo(s,i){var l=he(i.value),d=he(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Nr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Dr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $s(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Dr(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var cr,Hs=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,m){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,m)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function En(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dr=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(s){dr.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),ur[i]=ur[s]})});function Or(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ur.hasOwnProperty(s)&&ur[s]?(""+i).trim():i+"px"}function Ws(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Or(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,m):s[l]=m}}var qs=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(s,i){if(i){if(qs[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Gs(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qn=null;function gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fr=null,hr=null,at=null;function Ks(s){if(s=kl(s)){if(typeof fr!="function")throw Error(t(280));var i=s.stateNode;i&&(i=ru(i),fr(s.stateNode,s.type,i))}}function Oe(s){hr?at?at.push(s):at=[s]:hr=s}function rt(){if(hr){var s=hr,i=at;if(at=hr=null,Ks(s),i)for(s=0;s<i.length;s++)Ks(i[s])}}function Tt(s,i){return s(i)}function Bt(){}var yn=!1;function _t(s,i,l){if(yn)return s(i,l);yn=!0;try{return Tt(s,i,l)}finally{yn=!1,(hr!==null||at!==null)&&(Bt(),rt())}}function At(s,i){var l=s.stateNode;if(l===null)return null;var d=ru(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var On=!1;if(f)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){On=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{On=!1}function sn(s,i,l,d,m,y,x,D,j){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(oe){this.onError(oe)}}var Yn=!1,$t=null,$i=!1,Xn=null,Mc={onError:function(s){Yn=!0,$t=s}};function Vc(s,i,l,d,m,y,x,D,j){Yn=!1,$t=null,sn.apply(Mc,arguments)}function sl(s,i,l,d,m,y,x,D,j){if(Vc.apply(this,arguments),Yn){if(Yn){var Q=$t;Yn=!1,$t=null}else throw Error(t(198));$i||($i=!0,Xn=Q)}}function pr(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function il(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Lc(s){if(pr(s)!==s)throw Error(t(188))}function jc(s){var i=s.alternate;if(!i){if(i=pr(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,d=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Lc(m),s;if(y===d)return Lc(m),i;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var x=!1,D=m.child;D;){if(D===l){x=!0,l=m,d=y;break}if(D===d){x=!0,d=m,l=y;break}D=D.sibling}if(!x){for(D=y.child;D;){if(D===l){x=!0,l=y,d=m;break}if(D===d){x=!0,d=y,l=m;break}D=D.sibling}if(!x)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Fc(s){return s=jc(s),s!==null?Hi(s):null}function Hi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Hi(s);if(i!==null)return i;s=s.sibling}return null}var ol=e.unstable_scheduleCallback,Lo=e.unstable_cancelCallback,Wi=e.unstable_shouldYield,ps=e.unstable_requestPaint,lt=e.unstable_now,Pf=e.unstable_getCurrentPriorityLevel,jo=e.unstable_ImmediatePriority,al=e.unstable_UserBlockingPriority,qi=e.unstable_NormalPriority,ll=e.unstable_LowPriority,Fo=e.unstable_IdlePriority,Gi=null,Mn=null;function Uc(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Gi,s,void 0,(s.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Ki,Mr=Math.log,Jn=Math.LN2;function Ki(s){return s>>>=0,s===0?32:31-(Mr(s)/Jn|0)|0}var Vr=64,Qs=4194304;function Je(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ms(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,x=l&268435455;if(x!==0){var D=x&~m;D!==0?d=Je(D):(y&=x,y!==0&&(d=Je(y)))}else x=l&~m,x!==0?d=Je(x):y!==0&&(d=Je(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&m)===0&&(m=d&-d,y=i&-i,m>=y||m===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Vn(i),m=1<<l,d|=s[l],i&=~m;return d}function Qi(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var x=31-Vn(y),D=1<<x,j=m[x];j===-1?((D&l)===0||(D&d)!==0)&&(m[x]=Qi(D,i)):j<=i&&(s.expiredLanes|=D),y&=~D}}function cl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ul(){var s=Vr;return Vr<<=1,(Vr&4194240)===0&&(Vr=64),s}function dl(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Xi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Vn(i),s[i]=l}function Nf(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-Vn(l),y=1<<m;i[m]=0,d[m]=-1,s[m]=-1,l&=~y}}function fl(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Vn(l),m=1<<d;m&i|s[d]&i&&(s[d]|=i),l&=~m}}var Ke=0;function Lr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var hl,Uo,pl,ml,gl,jr=!1,zo=[],Fr=null,Ur=null,Yt=null,Ji=new Map,gs=new Map,Ln=[],zc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ys(s,i){switch(s){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(i.pointerId)}}function mr(s,i,l,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},i!==null&&(i=kl(i),i!==null&&Uo(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Bc(s,i,l,d,m){switch(i){case"focusin":return Fr=mr(Fr,s,i,l,d,m),!0;case"dragenter":return Ur=mr(Ur,s,i,l,d,m),!0;case"mouseover":return Yt=mr(Yt,s,i,l,d,m),!0;case"pointerover":var y=m.pointerId;return Ji.set(y,mr(Ji.get(y)||null,s,i,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,gs.set(y,mr(gs.get(y)||null,s,i,l,d,m)),!0}return!1}function Bo(s){var i=no(s.target);if(i!==null){var l=pr(i);if(l!==null){if(i=l.tag,i===13){if(i=il(l),i!==null){s.blockedOn=i,gl(s.priority,function(){pl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function st(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=$o(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Qn=d,l.target.dispatchEvent(d),Qn=null}else return i=kl(l),i!==null&&Uo(i),s.blockedOn=l,!1;i.shift()}return!0}function $c(s,i,l){st(s)&&l.delete(i)}function Df(){jr=!1,Fr!==null&&st(Fr)&&(Fr=null),Ur!==null&&st(Ur)&&(Ur=null),Yt!==null&&st(Yt)&&(Yt=null),Ji.forEach($c),gs.forEach($c)}function Xs(s,i){s.blockedOn===i&&(s.blockedOn=null,jr||(jr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Df)))}function Js(s){function i(m){return Xs(m,s)}if(0<zo.length){Xs(zo[0],s);for(var l=1;l<zo.length;l++){var d=zo[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Fr!==null&&Xs(Fr,s),Ur!==null&&Xs(Ur,s),Yt!==null&&Xs(Yt,s),Ji.forEach(i),gs.forEach(i),l=0;l<Ln.length;l++)d=Ln[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Ln.length&&(l=Ln[0],l.blockedOn===null);)Bo(l),l.blockedOn===null&&Ln.shift()}var ys=J.ReactCurrentBatchConfig,vs=!0;function zr(s,i,l,d){var m=Ke,y=ys.transition;ys.transition=null;try{Ke=1,yl(s,i,l,d)}finally{Ke=m,ys.transition=y}}function Hc(s,i,l,d){var m=Ke,y=ys.transition;ys.transition=null;try{Ke=4,yl(s,i,l,d)}finally{Ke=m,ys.transition=y}}function yl(s,i,l,d){if(vs){var m=$o(s,i,l,d);if(m===null)Hf(s,i,d,Br,l),Ys(s,d);else if(Bc(m,s,i,l,d))d.stopPropagation();else if(Ys(s,d),i&4&&-1<zc.indexOf(s)){for(;m!==null;){var y=kl(m);if(y!==null&&hl(y),y=$o(s,i,l,d),y===null&&Hf(s,i,d,Br,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Hf(s,i,d,null,l)}}var Br=null;function $o(s,i,l,d){if(Br=null,s=gn(d),s=no(s),s!==null)if(i=pr(s),i===null)s=null;else if(l=i.tag,l===13){if(s=il(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Br=s,null}function Ho(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case jo:return 1;case al:return 4;case qi:case ll:return 16;case Fo:return 536870912;default:return 16}default:return 16}}var jn=null,Wo=null,ws=null;function Wc(){if(ws)return ws;var s,i=Wo,l=i.length,d,m="value"in jn?jn.value:jn.textContent,y=m.length;for(s=0;s<l&&i[s]===m[s];s++);var x=l-s;for(d=1;d<=x&&i[l-d]===m[y-d];d++);return ws=m.slice(s,1<d?1-d:void 0)}function Zi(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function $r(){return!0}function vl(){return!1}function on(s){function i(l,d,m,y,x){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(l=s[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$r:vl,this.isPropagationStopped=vl,this}return X(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),i}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=on(Hr),Zs=X({},Hr,{view:0,detail:0}),qo=on(Zs),Go,Ko,Fn,to=X({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fn&&(Fn&&s.type==="mousemove"?(Go=s.screenX-Fn.screenX,Ko=s.screenY-Fn.screenY):Ko=Go=0,Fn=s),Go)},movementY:function(s){return"movementY"in s?s.movementY:Ko}}),wl=on(to),qc=X({},to,{dataTransfer:0}),Gc=on(qc),Qo=X({},Zs,{relatedTarget:0}),Xt=on(Qo),Kc=X({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=on(Kc),ei=X({},Hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=on(ei),v=X({},Hr,{data:0}),E=on(v),b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Y[s])?!!i[s]:!1}function Fe(){return me}var St=X({},Zs,{key:function(s){if(s.key){var i=b[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Zi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(s){return s.type==="keypress"?Zi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tt=on(St),kt=X({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Un=on(kt),_s=X({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),Wr=on(_s),qr=X({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=on(qr),_l=X({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),NI=on(_l),DI=[9,13,27,32],Of=f&&"CompositionEvent"in window,El=null;f&&"documentMode"in document&&(El=document.documentMode);var OI=f&&"TextEvent"in window&&!El,Xg=f&&(!Of||El&&8<El&&11>=El),Jg=" ",Zg=!1;function ey(s,i){switch(s){case"keyup":return DI.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function MI(s,i){switch(s){case"compositionend":return ty(i);case"keypress":return i.which!==32?null:(Zg=!0,Jg);case"textInput":return s=i.data,s===Jg&&Zg?null:s;default:return null}}function VI(s,i){if(Xo)return s==="compositionend"||!Of&&ey(s,i)?(s=Wc(),ws=Wo=jn=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xg&&i.locale!=="ko"?null:i.data;default:return null}}var LI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!LI[s.type]:i==="textarea"}function ry(s,i,l,d){Oe(d),i=eu(i,"onChange"),0<i.length&&(l=new eo("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var xl=null,Tl=null;function jI(s){Ey(s,0)}function Yc(s){var i=na(s);if($e(i))return s}function FI(s,i){if(s==="change")return i}var sy=!1;if(f){var Mf;if(f){var Vf="oninput"in document;if(!Vf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Vf=typeof iy.oninput=="function"}Mf=Vf}else Mf=!1;sy=Mf&&(!document.documentMode||9<document.documentMode)}function oy(){xl&&(xl.detachEvent("onpropertychange",ay),Tl=xl=null)}function ay(s){if(s.propertyName==="value"&&Yc(Tl)){var i=[];ry(i,Tl,s,gn(s)),_t(jI,i)}}function UI(s,i,l){s==="focusin"?(oy(),xl=i,Tl=l,xl.attachEvent("onpropertychange",ay)):s==="focusout"&&oy()}function zI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yc(Tl)}function BI(s,i){if(s==="click")return Yc(i)}function $I(s,i){if(s==="input"||s==="change")return Yc(i)}function HI(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var gr=typeof Object.is=="function"?Object.is:HI;function Sl(s,i){if(gr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(i,m)||!gr(s[m],i[m]))return!1}return!0}function ly(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cy(s,i){var l=ly(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ly(l)}}function uy(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?uy(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function dy(){for(var s=window,i=pt();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=pt(s.document)}return i}function Lf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function WI(s){var i=dy(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&uy(l.ownerDocument.documentElement,l)){if(d!==null&&Lf(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!s.extend&&y>d&&(m=d,d=y,y=m),m=cy(l,y);var x=cy(l,d);m&&x&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),y>d?(s.addRange(i),s.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qI=f&&"documentMode"in document&&11>=document.documentMode,Jo=null,jf=null,Il=null,Ff=!1;function fy(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ff||Jo==null||Jo!==pt(d)||(d=Jo,"selectionStart"in d&&Lf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Il&&Sl(Il,d)||(Il=d,d=eu(jf,"onSelect"),0<d.length&&(i=new eo("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Jo)))}function Xc(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Zo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Uf={},hy={};f&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Jc(s){if(Uf[s])return Uf[s];if(!Zo[s])return s;var i=Zo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in hy)return Uf[s]=i[l];return s}var py=Jc("animationend"),my=Jc("animationiteration"),gy=Jc("animationstart"),yy=Jc("transitionend"),vy=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(s,i){vy.set(s,i),a(i,[s])}for(var zf=0;zf<wy.length;zf++){var Bf=wy[zf],GI=Bf.toLowerCase(),KI=Bf[0].toUpperCase()+Bf.slice(1);ti(GI,"on"+KI)}ti(py,"onAnimationEnd"),ti(my,"onAnimationIteration"),ti(gy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(yy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QI=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function _y(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,sl(d,i,void 0,s),s.currentTarget=null}function Ey(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var x=d.length-1;0<=x;x--){var D=d[x],j=D.instance,Q=D.currentTarget;if(D=D.listener,j!==y&&m.isPropagationStopped())break e;_y(m,D,Q),y=j}else for(x=0;x<d.length;x++){if(D=d[x],j=D.instance,Q=D.currentTarget,D=D.listener,j!==y&&m.isPropagationStopped())break e;_y(m,D,Q),y=j}}}if($i)throw s=Xn,$i=!1,Xn=null,s}function ct(s,i){var l=i[Yf];l===void 0&&(l=i[Yf]=new Set);var d=s+"__bubble";l.has(d)||(xy(i,s,2,!1),l.add(d))}function $f(s,i,l){var d=0;i&&(d|=4),xy(l,s,d,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Cl(s){if(!s[Zc]){s[Zc]=!0,r.forEach(function(l){l!=="selectionchange"&&(QI.has(l)||$f(l,!1,s),$f(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,$f("selectionchange",!1,i))}}function xy(s,i,l,d){switch(Ho(i)){case 1:var m=zr;break;case 4:m=Hc;break;default:m=yl}l=m.bind(null,i,l,s),m=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(i,l,{capture:!0,passive:m}):s.addEventListener(i,l,!0):m!==void 0?s.addEventListener(i,l,{passive:m}):s.addEventListener(i,l,!1)}function Hf(s,i,l,d,m){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var D=d.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(x===4)for(x=d.return;x!==null;){var j=x.tag;if((j===3||j===4)&&(j=x.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;x=x.return}for(;D!==null;){if(x=no(D),x===null)return;if(j=x.tag,j===5||j===6){d=y=x;continue e}D=D.parentNode}}d=d.return}_t(function(){var Q=y,oe=gn(l),ae=[];e:{var ie=vy.get(s);if(ie!==void 0){var ve=eo,xe=s;switch(s){case"keypress":if(Zi(l)===0)break e;case"keydown":case"keyup":ve=tt;break;case"focusin":xe="focus",ve=Xt;break;case"focusout":xe="blur",ve=Xt;break;case"beforeblur":case"afterblur":ve=Xt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Wr;break;case py:case my:case gy:ve=Qc;break;case yy:ve=Yo;break;case"scroll":ve=qo;break;case"wheel":ve=NI;break;case"copy":case"cut":case"paste":ve=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Un}var Ie=(i&4)!==0,It=!Ie&&s==="scroll",H=Ie?ie!==null?ie+"Capture":null:ie;Ie=[];for(var z=Q,G;z!==null;){G=z;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,H!==null&&(de=At(z,H),de!=null&&Ie.push(Al(z,de,G)))),It)break;z=z.return}0<Ie.length&&(ie=new ve(ie,xe,null,l,oe),ae.push({event:ie,listeners:Ie}))}}if((i&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",ie&&l!==Qn&&(xe=l.relatedTarget||l.fromElement)&&(no(xe)||xe[Es]))break e;if((ve||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ve?(xe=l.relatedTarget||l.toElement,ve=Q,xe=xe?no(xe):null,xe!==null&&(It=pr(xe),xe!==It||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ve=null,xe=Q),ve!==xe)){if(Ie=wl,de="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Un,de="onPointerLeave",H="onPointerEnter",z="pointer"),It=ve==null?ie:na(ve),G=xe==null?ie:na(xe),ie=new Ie(de,z+"leave",ve,l,oe),ie.target=It,ie.relatedTarget=G,de=null,no(oe)===Q&&(Ie=new Ie(H,z+"enter",xe,l,oe),Ie.target=G,Ie.relatedTarget=It,de=Ie),It=de,ve&&xe)t:{for(Ie=ve,H=xe,z=0,G=Ie;G;G=ea(G))z++;for(G=0,de=H;de;de=ea(de))G++;for(;0<z-G;)Ie=ea(Ie),z--;for(;0<G-z;)H=ea(H),G--;for(;z--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=ea(Ie),H=ea(H)}Ie=null}else Ie=null;ve!==null&&Ty(ae,ie,ve,Ie,!1),xe!==null&&It!==null&&Ty(ae,It,xe,Ie,!0)}}e:{if(ie=Q?na(Q):window,ve=ie.nodeName&&ie.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ie.type==="file")var Ce=FI;else if(ny(ie))if(sy)Ce=$I;else{Ce=zI;var Pe=UI}else(ve=ie.nodeName)&&ve.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ce=BI);if(Ce&&(Ce=Ce(s,Q))){ry(ae,Ce,l,oe);break e}Pe&&Pe(s,ie,Q),s==="focusout"&&(Pe=ie._wrapperState)&&Pe.controlled&&ie.type==="number"&&Ze(ie,"number",ie.value)}switch(Pe=Q?na(Q):window,s){case"focusin":(ny(Pe)||Pe.contentEditable==="true")&&(Jo=Pe,jf=Q,Il=null);break;case"focusout":Il=jf=Jo=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,fy(ae,l,oe);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":fy(ae,l,oe)}var Ne;if(Of)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Xo?ey(s,l)&&(Le="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(Xg&&l.locale!=="ko"&&(Xo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Xo&&(Ne=Wc()):(jn=oe,Wo="value"in jn?jn.value:jn.textContent,Xo=!0)),Pe=eu(Q,Le),0<Pe.length&&(Le=new E(Le,s,null,l,oe),ae.push({event:Le,listeners:Pe}),Ne?Le.data=Ne:(Ne=ty(l),Ne!==null&&(Le.data=Ne)))),(Ne=OI?MI(s,l):VI(s,l))&&(Q=eu(Q,"onBeforeInput"),0<Q.length&&(oe=new E("onBeforeInput","beforeinput",null,l,oe),ae.push({event:oe,listeners:Q}),oe.data=Ne))}Ey(ae,i)})}function Al(s,i,l){return{instance:s,listener:i,currentTarget:l}}function eu(s,i){for(var l=i+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=At(s,l),y!=null&&d.unshift(Al(s,y,m)),y=At(s,i),y!=null&&d.push(Al(s,y,m))),s=s.return}return d}function ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ty(s,i,l,d,m){for(var y=i._reactName,x=[];l!==null&&l!==d;){var D=l,j=D.alternate,Q=D.stateNode;if(j!==null&&j===d)break;D.tag===5&&Q!==null&&(D=Q,m?(j=At(l,y),j!=null&&x.unshift(Al(l,j,D))):m||(j=At(l,y),j!=null&&x.push(Al(l,j,D)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var YI=/\r\n?/g,XI=/\u0000|\uFFFD/g;function Sy(s){return(typeof s=="string"?s:""+s).replace(YI,`
`).replace(XI,"")}function tu(s,i,l){if(i=Sy(i),Sy(s)!==i&&l)throw Error(t(425))}function nu(){}var Wf=null,qf=null;function Gf(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,JI=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(s){return Iy.resolve(null).then(s).catch(eb)}:Kf;function eb(s){setTimeout(function(){throw s})}function Qf(s,i){var l=i,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),Js(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Js(i)}function ni(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function by(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Gr="__reactFiber$"+ta,Rl="__reactProps$"+ta,Es="__reactContainer$"+ta,Yf="__reactEvents$"+ta,tb="__reactListeners$"+ta,nb="__reactHandles$"+ta;function no(s){var i=s[Gr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Es]||l[Gr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=by(s);s!==null;){if(l=s[Gr])return l;s=by(s)}return i}s=l,l=s.parentNode}return null}function kl(s){return s=s[Gr]||s[Es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ru(s){return s[Rl]||null}var Xf=[],ra=-1;function ri(s){return{current:s}}function ut(s){0>ra||(s.current=Xf[ra],Xf[ra]=null,ra--)}function it(s,i){ra++,Xf[ra]=s.current,s.current=i}var si={},an=ri(si),Tn=ri(!1),ro=si;function sa(s,i){var l=s.type.contextTypes;if(!l)return si;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=i[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function Sn(s){return s=s.childContextTypes,s!=null}function su(){ut(Tn),ut(an)}function Cy(s,i,l){if(an.current!==si)throw Error(t(168));it(an,i),it(Tn,l)}function Ay(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in i))throw Error(t(108,se(s)||"Unknown",m));return X({},l,d)}function iu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||si,ro=an.current,it(an,s),it(Tn,Tn.current),!0}function Ry(s,i,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=Ay(s,i,ro),d.__reactInternalMemoizedMergedChildContext=s,ut(Tn),ut(an),it(an,s)):ut(Tn),it(Tn,l)}var xs=null,ou=!1,Jf=!1;function ky(s){xs===null?xs=[s]:xs.push(s)}function rb(s){ou=!0,ky(s)}function ii(){if(!Jf&&xs!==null){Jf=!0;var s=0,i=Ke;try{var l=xs;for(Ke=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}xs=null,ou=!1}catch(m){throw xs!==null&&(xs=xs.slice(s+1)),ol(jo,ii),m}finally{Ke=i,Jf=!1}}return null}var ia=[],oa=0,au=null,lu=0,Zn=[],er=0,so=null,Ts=1,Ss="";function io(s,i){ia[oa++]=lu,ia[oa++]=au,au=s,lu=i}function Py(s,i,l){Zn[er++]=Ts,Zn[er++]=Ss,Zn[er++]=so,so=s;var d=Ts;s=Ss;var m=32-Vn(d)-1;d&=~(1<<m),l+=1;var y=32-Vn(i)+m;if(30<y){var x=m-m%5;y=(d&(1<<x)-1).toString(32),d>>=x,m-=x,Ts=1<<32-Vn(i)+m|l<<m|d,Ss=y+s}else Ts=1<<y|l<<m|d,Ss=s}function Zf(s){s.return!==null&&(io(s,1),Py(s,1,0))}function eh(s){for(;s===au;)au=ia[--oa],ia[oa]=null,lu=ia[--oa],ia[oa]=null;for(;s===so;)so=Zn[--er],Zn[er]=null,Ss=Zn[--er],Zn[er]=null,Ts=Zn[--er],Zn[er]=null}var zn=null,Bn=null,ht=!1,yr=null;function Ny(s,i){var l=sr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Dy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,zn=s,Bn=ni(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,zn=s,Bn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=so!==null?{id:Ts,overflow:Ss}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=sr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,zn=s,Bn=null,!0):!1;default:return!1}}function th(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nh(s){if(ht){var i=Bn;if(i){var l=i;if(!Dy(s,i)){if(th(s))throw Error(t(418));i=ni(l.nextSibling);var d=zn;i&&Dy(s,i)?Ny(d,l):(s.flags=s.flags&-4097|2,ht=!1,zn=s)}}else{if(th(s))throw Error(t(418));s.flags=s.flags&-4097|2,ht=!1,zn=s}}}function Oy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function cu(s){if(s!==zn)return!1;if(!ht)return Oy(s),ht=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Gf(s.type,s.memoizedProps)),i&&(i=Bn)){if(th(s))throw My(),Error(t(418));for(;i;)Ny(s,i),i=ni(i.nextSibling)}if(Oy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Bn=ni(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Bn=null}}else Bn=zn?ni(s.stateNode.nextSibling):null;return!0}function My(){for(var s=Bn;s;)s=ni(s.nextSibling)}function aa(){Bn=zn=null,ht=!1}function rh(s){yr===null?yr=[s]:yr.push(s)}var sb=J.ReactCurrentBatchConfig;function Pl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var m=d,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var D=m.refs;x===null?delete D[y]:D[y]=x},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function uu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Vy(s){var i=s._init;return i(s._payload)}function Ly(s){function i(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)i(H,z),z=z.sibling;return null}function d(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=hi(H,z),H.index=0,H.sibling=null,H}function y(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=2,z):G):(H.flags|=2,z)):(H.flags|=1048576,z)}function x(H){return s&&H.alternate===null&&(H.flags|=2),H}function D(H,z,G,de){return z===null||z.tag!==6?(z=Kh(G,H.mode,de),z.return=H,z):(z=m(z,G),z.return=H,z)}function j(H,z,G,de){var Ce=G.type;return Ce===R?oe(H,z,G.props.children,de,G.key):z!==null&&(z.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ue&&Vy(Ce)===z.type)?(de=m(z,G.props),de.ref=Pl(H,z,G),de.return=H,de):(de=Ou(G.type,G.key,G.props,null,H.mode,de),de.ref=Pl(H,z,G),de.return=H,de)}function Q(H,z,G,de){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Qh(G,H.mode,de),z.return=H,z):(z=m(z,G.children||[]),z.return=H,z)}function oe(H,z,G,de,Ce){return z===null||z.tag!==7?(z=po(G,H.mode,de,Ce),z.return=H,z):(z=m(z,G),z.return=H,z)}function ae(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Kh(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:return G=Ou(z.type,z.key,z.props,null,H.mode,G),G.ref=Pl(H,null,z),G.return=H,G;case re:return z=Qh(z,H.mode,G),z.return=H,z;case ue:var de=z._init;return ae(H,de(z._payload),G)}if(mt(z)||le(z))return z=po(z,H.mode,G,null),z.return=H,z;uu(H,z)}return null}function ie(H,z,G,de){var Ce=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ce!==null?null:D(H,z,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ee:return G.key===Ce?j(H,z,G,de):null;case re:return G.key===Ce?Q(H,z,G,de):null;case ue:return Ce=G._init,ie(H,z,Ce(G._payload),de)}if(mt(G)||le(G))return Ce!==null?null:oe(H,z,G,de,null);uu(H,G)}return null}function ve(H,z,G,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number")return H=H.get(G)||null,D(z,H,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case ee:return H=H.get(de.key===null?G:de.key)||null,j(z,H,de,Ce);case re:return H=H.get(de.key===null?G:de.key)||null,Q(z,H,de,Ce);case ue:var Pe=de._init;return ve(H,z,G,Pe(de._payload),Ce)}if(mt(de)||le(de))return H=H.get(G)||null,oe(z,H,de,Ce,null);uu(z,de)}return null}function xe(H,z,G,de){for(var Ce=null,Pe=null,Ne=z,Le=z=0,qt=null;Ne!==null&&Le<G.length;Le++){Ne.index>Le?(qt=Ne,Ne=null):qt=Ne.sibling;var Xe=ie(H,Ne,G[Le],de);if(Xe===null){Ne===null&&(Ne=qt);break}s&&Ne&&Xe.alternate===null&&i(H,Ne),z=y(Xe,z,Le),Pe===null?Ce=Xe:Pe.sibling=Xe,Pe=Xe,Ne=qt}if(Le===G.length)return l(H,Ne),ht&&io(H,Le),Ce;if(Ne===null){for(;Le<G.length;Le++)Ne=ae(H,G[Le],de),Ne!==null&&(z=y(Ne,z,Le),Pe===null?Ce=Ne:Pe.sibling=Ne,Pe=Ne);return ht&&io(H,Le),Ce}for(Ne=d(H,Ne);Le<G.length;Le++)qt=ve(Ne,H,Le,G[Le],de),qt!==null&&(s&&qt.alternate!==null&&Ne.delete(qt.key===null?Le:qt.key),z=y(qt,z,Le),Pe===null?Ce=qt:Pe.sibling=qt,Pe=qt);return s&&Ne.forEach(function(pi){return i(H,pi)}),ht&&io(H,Le),Ce}function Ie(H,z,G,de){var Ce=le(G);if(typeof Ce!="function")throw Error(t(150));if(G=Ce.call(G),G==null)throw Error(t(151));for(var Pe=Ce=null,Ne=z,Le=z=0,qt=null,Xe=G.next();Ne!==null&&!Xe.done;Le++,Xe=G.next()){Ne.index>Le?(qt=Ne,Ne=null):qt=Ne.sibling;var pi=ie(H,Ne,Xe.value,de);if(pi===null){Ne===null&&(Ne=qt);break}s&&Ne&&pi.alternate===null&&i(H,Ne),z=y(pi,z,Le),Pe===null?Ce=pi:Pe.sibling=pi,Pe=pi,Ne=qt}if(Xe.done)return l(H,Ne),ht&&io(H,Le),Ce;if(Ne===null){for(;!Xe.done;Le++,Xe=G.next())Xe=ae(H,Xe.value,de),Xe!==null&&(z=y(Xe,z,Le),Pe===null?Ce=Xe:Pe.sibling=Xe,Pe=Xe);return ht&&io(H,Le),Ce}for(Ne=d(H,Ne);!Xe.done;Le++,Xe=G.next())Xe=ve(Ne,H,Le,Xe.value,de),Xe!==null&&(s&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Le:Xe.key),z=y(Xe,z,Le),Pe===null?Ce=Xe:Pe.sibling=Xe,Pe=Xe);return s&&Ne.forEach(function(Lb){return i(H,Lb)}),ht&&io(H,Le),Ce}function It(H,z,G,de){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case ee:e:{for(var Ce=G.key,Pe=z;Pe!==null;){if(Pe.key===Ce){if(Ce=G.type,Ce===R){if(Pe.tag===7){l(H,Pe.sibling),z=m(Pe,G.props.children),z.return=H,H=z;break e}}else if(Pe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ue&&Vy(Ce)===Pe.type){l(H,Pe.sibling),z=m(Pe,G.props),z.ref=Pl(H,Pe,G),z.return=H,H=z;break e}l(H,Pe);break}else i(H,Pe);Pe=Pe.sibling}G.type===R?(z=po(G.props.children,H.mode,de,G.key),z.return=H,H=z):(de=Ou(G.type,G.key,G.props,null,H.mode,de),de.ref=Pl(H,z,G),de.return=H,H=de)}return x(H);case re:e:{for(Pe=G.key;z!==null;){if(z.key===Pe)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(H,z.sibling),z=m(z,G.children||[]),z.return=H,H=z;break e}else{l(H,z);break}else i(H,z);z=z.sibling}z=Qh(G,H.mode,de),z.return=H,H=z}return x(H);case ue:return Pe=G._init,It(H,z,Pe(G._payload),de)}if(mt(G))return xe(H,z,G,de);if(le(G))return Ie(H,z,G,de);uu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(l(H,z.sibling),z=m(z,G),z.return=H,H=z):(l(H,z),z=Kh(G,H.mode,de),z.return=H,H=z),x(H)):l(H,z)}return It}var la=Ly(!0),jy=Ly(!1),du=ri(null),fu=null,ca=null,sh=null;function ih(){sh=ca=fu=null}function oh(s){var i=du.current;ut(du),s._currentValue=i}function ah(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ua(s,i){fu=s,sh=ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(In=!0),s.firstContext=null)}function tr(s){var i=s._currentValue;if(sh!==s)if(s={context:s,memoizedValue:i,next:null},ca===null){if(fu===null)throw Error(t(308));ca=s,fu.dependencies={lanes:0,firstContext:s}}else ca=ca.next=s;return i}var oo=null;function lh(s){oo===null?oo=[s]:oo.push(s)}function Fy(s,i,l,d){var m=i.interleaved;return m===null?(l.next=l,lh(i)):(l.next=m.next,m.next=l),i.interleaved=l,Is(s,d)}function Is(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var oi=!1;function ch(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bs(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ai(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ye&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,Is(s,l)}return m=d.interleaved,m===null?(i.next=i,lh(d)):(i.next=m.next,m.next=i),d.interleaved=i,Is(s,l)}function hu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,fl(s,l)}}function zy(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function pu(s,i,l,d){var m=s.updateQueue;oi=!1;var y=m.firstBaseUpdate,x=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,Q=j.next;j.next=null,x===null?y=Q:x.next=Q,x=j;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==x&&(D===null?oe.firstBaseUpdate=Q:D.next=Q,oe.lastBaseUpdate=j))}if(y!==null){var ae=m.baseState;x=0,oe=Q=j=null,D=y;do{var ie=D.lane,ve=D.eventTime;if((d&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var xe=s,Ie=D;switch(ie=i,ve=l,Ie.tag){case 1:if(xe=Ie.payload,typeof xe=="function"){ae=xe.call(ve,ae,ie);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ie.payload,ie=typeof xe=="function"?xe.call(ve,ae,ie):xe,ie==null)break e;ae=X({},ae,ie);break e;case 2:oi=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ie=m.effects,ie===null?m.effects=[D]:ie.push(D))}else ve={eventTime:ve,lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Q=oe=ve,j=ae):oe=oe.next=ve,x|=ie;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(oe===null&&(j=ae),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=oe,i=m.shared.interleaved,i!==null){m=i;do x|=m.lane,m=m.next;while(m!==i)}else y===null&&(m.shared.lanes=0);co|=x,s.lanes=x,s.memoizedState=ae}}function By(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Nl={},Kr=ri(Nl),Dl=ri(Nl),Ol=ri(Nl);function ao(s){if(s===Nl)throw Error(t(174));return s}function uh(s,i){switch(it(Ol,i),it(Dl,s),it(Kr,Nl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:$s(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=$s(i,s)}ut(Kr),it(Kr,i)}function da(){ut(Kr),ut(Dl),ut(Ol)}function $y(s){ao(Ol.current);var i=ao(Kr.current),l=$s(i,s.type);i!==l&&(it(Dl,s),it(Kr,l))}function dh(s){Dl.current===s&&(ut(Kr),ut(Dl))}var gt=ri(0);function mu(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fh=[];function hh(){for(var s=0;s<fh.length;s++)fh[s]._workInProgressVersionPrimary=null;fh.length=0}var gu=J.ReactCurrentDispatcher,ph=J.ReactCurrentBatchConfig,lo=0,yt=null,Lt=null,Ht=null,yu=!1,Ml=!1,Vl=0,ib=0;function ln(){throw Error(t(321))}function mh(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!gr(s[l],i[l]))return!1;return!0}function gh(s,i,l,d,m,y){if(lo=y,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,gu.current=s===null||s.memoizedState===null?cb:ub,s=l(d,m),Ml){y=0;do{if(Ml=!1,Vl=0,25<=y)throw Error(t(301));y+=1,Ht=Lt=null,i.updateQueue=null,gu.current=db,s=l(d,m)}while(Ml)}if(gu.current=_u,i=Lt!==null&&Lt.next!==null,lo=0,Ht=Lt=yt=null,yu=!1,i)throw Error(t(300));return s}function yh(){var s=Vl!==0;return Vl=0,s}function Qr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?yt.memoizedState=Ht=s:Ht=Ht.next=s,Ht}function nr(){if(Lt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var i=Ht===null?yt.memoizedState:Ht.next;if(i!==null)Ht=i,Lt=s;else{if(s===null)throw Error(t(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?yt.memoizedState=Ht=s:Ht=Ht.next=s}return Ht}function Ll(s,i){return typeof i=="function"?i(s):i}function vh(s){var i=nr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=Lt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var x=m.next;m.next=y.next,y.next=x}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var D=x=null,j=null,Q=y;do{var oe=Q.lane;if((lo&oe)===oe)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:s(d,Q.action);else{var ae={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(D=j=ae,x=d):j=j.next=ae,yt.lanes|=oe,co|=oe}Q=Q.next}while(Q!==null&&Q!==y);j===null?x=d:j.next=D,gr(d,i.memoizedState)||(In=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=j,l.lastRenderedState=d}if(s=l.interleaved,s!==null){m=s;do y=m.lane,yt.lanes|=y,co|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function wh(s){var i=nr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do y=s(y,x.action),x=x.next;while(x!==m);gr(y,i.memoizedState)||(In=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,d]}function Hy(){}function Wy(s,i){var l=yt,d=nr(),m=i(),y=!gr(d.memoizedState,m);if(y&&(d.memoizedState=m,In=!0),d=d.queue,_h(Ky.bind(null,l,d,s),[s]),d.getSnapshot!==i||y||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,jl(9,Gy.bind(null,l,d,m,i),void 0,null),Wt===null)throw Error(t(349));(lo&30)!==0||qy(l,i,m)}return m}function qy(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=yt.updateQueue,i===null?(i={lastEffect:null,stores:null},yt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Gy(s,i,l,d){i.value=l,i.getSnapshot=d,Qy(i)&&Yy(s)}function Ky(s,i,l){return l(function(){Qy(i)&&Yy(s)})}function Qy(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!gr(s,l)}catch{return!0}}function Yy(s){var i=Is(s,1);i!==null&&Er(i,s,1,-1)}function Xy(s){var i=Qr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:s},i.queue=s,s=s.dispatch=lb.bind(null,yt,s),[i.memoizedState,s]}function jl(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=yt.updateQueue,i===null?(i={lastEffect:null,stores:null},yt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function Jy(){return nr().memoizedState}function vu(s,i,l,d){var m=Qr();yt.flags|=s,m.memoizedState=jl(1|i,l,void 0,d===void 0?null:d)}function wu(s,i,l,d){var m=nr();d=d===void 0?null:d;var y=void 0;if(Lt!==null){var x=Lt.memoizedState;if(y=x.destroy,d!==null&&mh(d,x.deps)){m.memoizedState=jl(i,l,y,d);return}}yt.flags|=s,m.memoizedState=jl(1|i,l,y,d)}function Zy(s,i){return vu(8390656,8,s,i)}function _h(s,i){return wu(2048,8,s,i)}function ev(s,i){return wu(4,2,s,i)}function tv(s,i){return wu(4,4,s,i)}function nv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function rv(s,i,l){return l=l!=null?l.concat([s]):null,wu(4,4,nv.bind(null,i,s),l)}function Eh(){}function sv(s,i){var l=nr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&mh(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function iv(s,i){var l=nr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&mh(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function ov(s,i,l){return(lo&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=l):(gr(l,i)||(l=ul(),yt.lanes|=l,co|=l,s.baseState=!0),i)}function ob(s,i){var l=Ke;Ke=l!==0&&4>l?l:4,s(!0);var d=ph.transition;ph.transition={};try{s(!1),i()}finally{Ke=l,ph.transition=d}}function av(){return nr().memoizedState}function ab(s,i,l){var d=di(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},lv(s))cv(i,l);else if(l=Fy(s,i,l,d),l!==null){var m=wn();Er(l,s,d,m),uv(l,i,d)}}function lb(s,i,l){var d=di(s),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(lv(s))cv(i,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,D=y(x,l);if(m.hasEagerState=!0,m.eagerState=D,gr(D,x)){var j=i.interleaved;j===null?(m.next=m,lh(i)):(m.next=j.next,j.next=m),i.interleaved=m;return}}catch{}finally{}l=Fy(s,i,m,d),l!==null&&(m=wn(),Er(l,s,d,m),uv(l,i,d))}}function lv(s){var i=s.alternate;return s===yt||i!==null&&i===yt}function cv(s,i){Ml=yu=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function uv(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,fl(s,l)}}var _u={readContext:tr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},cb={readContext:tr,useCallback:function(s,i){return Qr().memoizedState=[s,i===void 0?null:i],s},useContext:tr,useEffect:Zy,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,vu(4194308,4,nv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return vu(4194308,4,s,i)},useInsertionEffect:function(s,i){return vu(4,2,s,i)},useMemo:function(s,i){var l=Qr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Qr();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=ab.bind(null,yt,s),[d.memoizedState,s]},useRef:function(s){var i=Qr();return s={current:s},i.memoizedState=s},useState:Xy,useDebugValue:Eh,useDeferredValue:function(s){return Qr().memoizedState=s},useTransition:function(){var s=Xy(!1),i=s[0];return s=ob.bind(null,s[1]),Qr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=yt,m=Qr();if(ht){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Wt===null)throw Error(t(349));(lo&30)!==0||qy(d,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,Zy(Ky.bind(null,d,y,s),[s]),d.flags|=2048,jl(9,Gy.bind(null,d,y,l,i),void 0,null),l},useId:function(){var s=Qr(),i=Wt.identifierPrefix;if(ht){var l=Ss,d=Ts;l=(d&~(1<<32-Vn(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Vl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=ib++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},ub={readContext:tr,useCallback:sv,useContext:tr,useEffect:_h,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:vh,useRef:Jy,useState:function(){return vh(Ll)},useDebugValue:Eh,useDeferredValue:function(s){var i=nr();return ov(i,Lt.memoizedState,s)},useTransition:function(){var s=vh(Ll)[0],i=nr().memoizedState;return[s,i]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:av,unstable_isNewReconciler:!1},db={readContext:tr,useCallback:sv,useContext:tr,useEffect:_h,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:wh,useRef:Jy,useState:function(){return wh(Ll)},useDebugValue:Eh,useDeferredValue:function(s){var i=nr();return Lt===null?i.memoizedState=s:ov(i,Lt.memoizedState,s)},useTransition:function(){var s=wh(Ll)[0],i=nr().memoizedState;return[s,i]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:av,unstable_isNewReconciler:!1};function vr(s,i){if(s&&s.defaultProps){i=X({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function xh(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:X({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Eu={isMounted:function(s){return(s=s._reactInternals)?pr(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=wn(),m=di(s),y=bs(d,m);y.payload=i,l!=null&&(y.callback=l),i=ai(s,y,m),i!==null&&(Er(i,s,m,d),hu(i,s,m))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=wn(),m=di(s),y=bs(d,m);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ai(s,y,m),i!==null&&(Er(i,s,m,d),hu(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=wn(),d=di(s),m=bs(l,d);m.tag=2,i!=null&&(m.callback=i),i=ai(s,m,d),i!==null&&(Er(i,s,d,l),hu(i,s,d))}};function dv(s,i,l,d,m,y,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,x):i.prototype&&i.prototype.isPureReactComponent?!Sl(l,d)||!Sl(m,y):!0}function fv(s,i,l){var d=!1,m=si,y=i.contextType;return typeof y=="object"&&y!==null?y=tr(y):(m=Sn(i)?ro:an.current,d=i.contextTypes,y=(d=d!=null)?sa(s,m):si),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Eu,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),i}function hv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Eu.enqueueReplaceState(i,i.state,null)}function Th(s,i,l,d){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},ch(s);var y=i.contextType;typeof y=="object"&&y!==null?m.context=tr(y):(y=Sn(i)?ro:an.current,m.context=sa(s,y)),m.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(xh(s,i,y,l),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Eu.enqueueReplaceState(m,m.state,null),pu(s,l,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function fa(s,i){try{var l="",d=i;do l+=ye(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:m,digest:null}}function Sh(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Ih(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var fb=typeof WeakMap=="function"?WeakMap:Map;function pv(s,i,l){l=bs(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Au||(Au=!0,Uh=d),Ih(s,i)},l}function mv(s,i,l){l=bs(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=i.value;l.payload=function(){return d(m)},l.callback=function(){Ih(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ih(s,i),typeof d!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),l}function gv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new fb;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(l)||(m.add(l),s=bb.bind(null,s,i,l),i.then(s,s))}function yv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function vv(s,i,l,d,m){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=bs(-1,1),i.tag=2,ai(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var hb=J.ReactCurrentOwner,In=!1;function vn(s,i,l,d){i.child=s===null?jy(i,null,l,d):la(i,s.child,l,d)}function wv(s,i,l,d,m){l=l.render;var y=i.ref;return ua(i,m),d=gh(s,i,l,d,y,m),l=yh(),s!==null&&!In?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Cs(s,i,m)):(ht&&l&&Zf(i),i.flags|=1,vn(s,i,d,m),i.child)}function _v(s,i,l,d,m){if(s===null){var y=l.type;return typeof y=="function"&&!Gh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Ev(s,i,y,d,m)):(s=Ou(l.type,null,d,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&m)===0){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:Sl,l(x,d)&&s.ref===i.ref)return Cs(s,i,m)}return i.flags|=1,s=hi(y,d),s.ref=i.ref,s.return=i,i.child=s}function Ev(s,i,l,d,m){if(s!==null){var y=s.memoizedProps;if(Sl(y,d)&&s.ref===i.ref)if(In=!1,i.pendingProps=d=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(In=!0);else return i.lanes=s.lanes,Cs(s,i,m)}return bh(s,i,l,d,m)}function xv(s,i,l){var d=i.pendingProps,m=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(pa,$n),$n|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,it(pa,$n),$n|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,it(pa,$n),$n|=d}else y!==null?(d=y.baseLanes|l,i.memoizedState=null):d=l,it(pa,$n),$n|=d;return vn(s,i,m,l),i.child}function Tv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function bh(s,i,l,d,m){var y=Sn(l)?ro:an.current;return y=sa(i,y),ua(i,m),l=gh(s,i,l,d,y,m),d=yh(),s!==null&&!In?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,Cs(s,i,m)):(ht&&d&&Zf(i),i.flags|=1,vn(s,i,l,m),i.child)}function Sv(s,i,l,d,m){if(Sn(l)){var y=!0;iu(i)}else y=!1;if(ua(i,m),i.stateNode===null)Tu(s,i),fv(i,l,d),Th(i,l,d,m),d=!0;else if(s===null){var x=i.stateNode,D=i.memoizedProps;x.props=D;var j=x.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=tr(Q):(Q=Sn(l)?ro:an.current,Q=sa(i,Q));var oe=l.getDerivedStateFromProps,ae=typeof oe=="function"||typeof x.getSnapshotBeforeUpdate=="function";ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==d||j!==Q)&&hv(i,x,d,Q),oi=!1;var ie=i.memoizedState;x.state=ie,pu(i,d,x,m),j=i.memoizedState,D!==d||ie!==j||Tn.current||oi?(typeof oe=="function"&&(xh(i,l,oe,d),j=i.memoizedState),(D=oi||dv(i,l,D,d,ie,j,Q))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=j),x.props=d,x.state=j,x.context=Q,d=D):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Uy(s,i),D=i.memoizedProps,Q=i.type===i.elementType?D:vr(i.type,D),x.props=Q,ae=i.pendingProps,ie=x.context,j=l.contextType,typeof j=="object"&&j!==null?j=tr(j):(j=Sn(l)?ro:an.current,j=sa(i,j));var ve=l.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==ae||ie!==j)&&hv(i,x,d,j),oi=!1,ie=i.memoizedState,x.state=ie,pu(i,d,x,m);var xe=i.memoizedState;D!==ae||ie!==xe||Tn.current||oi?(typeof ve=="function"&&(xh(i,l,ve,d),xe=i.memoizedState),(Q=oi||dv(i,l,Q,d,ie,xe,j)||!1)?(oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,xe,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,xe,j)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=xe),x.props=d,x.state=xe,x.context=j,d=Q):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ie===s.memoizedState||(i.flags|=1024),d=!1)}return Ch(s,i,l,d,y,m)}function Ch(s,i,l,d,m,y){Tv(s,i);var x=(i.flags&128)!==0;if(!d&&!x)return m&&Ry(i,l,!1),Cs(s,i,y);d=i.stateNode,hb.current=i;var D=x&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&x?(i.child=la(i,s.child,null,y),i.child=la(i,null,D,y)):vn(s,i,D,y),i.memoizedState=d.state,m&&Ry(i,l,!0),i.child}function Iv(s){var i=s.stateNode;i.pendingContext?Cy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Cy(s,i.context,!1),uh(s,i.containerInfo)}function bv(s,i,l,d,m){return aa(),rh(m),i.flags|=256,vn(s,i,l,d),i.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Rh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cv(s,i,l){var d=i.pendingProps,m=gt.current,y=!1,x=(i.flags&128)!==0,D;if((D=x)||(D=s!==null&&s.memoizedState===null?!1:(m&2)!==0),D?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),it(gt,m&1),s===null)return nh(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,s=d.fallback,y?(d=i.mode,y=i.child,x={mode:"hidden",children:x},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=Mu(x,d,0,null),s=po(s,d,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=Rh(l),i.memoizedState=Ah,s):kh(i,x));if(m=s.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return pb(s,i,x,d,D,m,l);if(y){y=d.fallback,x=i.mode,m=s.child,D=m.sibling;var j={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==m?(d=i.child,d.childLanes=0,d.pendingProps=j,i.deletions=null):(d=hi(m,j),d.subtreeFlags=m.subtreeFlags&14680064),D!==null?y=hi(D,y):(y=po(y,x,l,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,x=s.child.memoizedState,x=x===null?Rh(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=s.childLanes&~l,i.memoizedState=Ah,d}return y=s.child,s=y.sibling,d=hi(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function kh(s,i){return i=Mu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function xu(s,i,l,d){return d!==null&&rh(d),la(i,s.child,null,l),s=kh(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function pb(s,i,l,d,m,y,x){if(l)return i.flags&256?(i.flags&=-257,d=Sh(Error(t(422))),xu(s,i,x,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=d.fallback,m=i.mode,d=Mu({mode:"visible",children:d.children},m,0,null),y=po(y,m,x,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&la(i,s.child,null,x),i.child.memoizedState=Rh(x),i.memoizedState=Ah,y);if((i.mode&1)===0)return xu(s,i,x,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var D=d.dgst;return d=D,y=Error(t(419)),d=Sh(y,d,void 0),xu(s,i,x,d)}if(D=(x&s.childLanes)!==0,In||D){if(d=Wt,d!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|x))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Is(s,m),Er(d,s,m,-1))}return qh(),d=Sh(Error(t(421))),xu(s,i,x,d)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=Cb.bind(null,s),m._reactRetry=i,null):(s=y.treeContext,Bn=ni(m.nextSibling),zn=i,ht=!0,yr=null,s!==null&&(Zn[er++]=Ts,Zn[er++]=Ss,Zn[er++]=so,Ts=s.id,Ss=s.overflow,so=i),i=kh(i,d.children),i.flags|=4096,i)}function Av(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),ah(s.return,i,l)}function Ph(s,i,l,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Rv(s,i,l){var d=i.pendingProps,m=d.revealOrder,y=d.tail;if(vn(s,i,d.children,l),d=gt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Av(s,l,i);else if(s.tag===19)Av(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(it(gt,d),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(l=i.child,m=null;l!==null;)s=l.alternate,s!==null&&mu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),Ph(i,!1,m,l,y);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&mu(s)===null){i.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Ph(i,!0,l,null,y);break;case"together":Ph(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Tu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Cs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),co|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=hi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=hi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function mb(s,i,l){switch(i.tag){case 3:Iv(i),aa();break;case 5:$y(i);break;case 1:Sn(i.type)&&iu(i);break;case 4:uh(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,m=i.memoizedProps.value;it(du,d._currentValue),d._currentValue=m;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(it(gt,gt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Cv(s,i,l):(it(gt,gt.current&1),s=Cs(s,i,l),s!==null?s.sibling:null);it(gt,gt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return Rv(s,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(gt,gt.current),d)break;return null;case 22:case 23:return i.lanes=0,xv(s,i,l)}return Cs(s,i,l)}var kv,Nh,Pv,Nv;kv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nh=function(){},Pv=function(s,i,l,d){var m=s.memoizedProps;if(m!==d){s=i.stateNode,ao(Kr.current);var y=null;switch(l){case"input":m=zt(s,m),d=zt(s,d),y=[];break;case"select":m=X({},m,{value:void 0}),d=X({},d,{value:void 0}),y=[];break;case"textarea":m=Vt(s,m),d=Vt(s,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=nu)}xn(l,d);var x;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var D=m[Q];for(x in D)D.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var j=d[Q];if(D=m?.[Q],d.hasOwnProperty(Q)&&j!==D&&(j!=null||D!=null))if(Q==="style")if(D){for(x in D)!D.hasOwnProperty(x)||j&&j.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in j)j.hasOwnProperty(x)&&D[x]!==j[x]&&(l||(l={}),l[x]=j[x])}else l||(y||(y=[]),y.push(Q,l)),l=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(y=y||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(y=y||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&ct("scroll",s),y||D===j||(y=[])):(y=y||[]).push(Q,j))}l&&(y=y||[]).push("style",l);var Q=y;(i.updateQueue=Q)&&(i.flags|=4)}},Nv=function(s,i,l,d){l!==d&&(i.flags|=4)};function Fl(s,i){if(!ht)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function cn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function gb(s,i,l){var d=i.pendingProps;switch(eh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(i),null;case 1:return Sn(i.type)&&su(),cn(i),null;case 3:return d=i.stateNode,da(),ut(Tn),ut(an),hh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(cu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yr!==null&&($h(yr),yr=null))),Nh(s,i),cn(i),null;case 5:dh(i);var m=ao(Ol.current);if(l=i.type,s!==null&&i.stateNode!=null)Pv(s,i,l,d,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return cn(i),null}if(s=ao(Kr.current),cu(i)){d=i.stateNode,l=i.type;var y=i.memoizedProps;switch(d[Gr]=i,d[Rl]=y,s=(i.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(m=0;m<bl.length;m++)ct(bl[m],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":Pr(d,y),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},ct("invalid",d);break;case"textarea":Kn(d,y),ct("invalid",d)}xn(l,y),m=null;for(var x in y)if(y.hasOwnProperty(x)){var D=y[x];x==="children"?typeof D=="string"?d.textContent!==D&&(y.suppressHydrationWarning!==!0&&tu(d.textContent,D,s),m=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&tu(d.textContent,D,s),m=["children",""+D]):o.hasOwnProperty(x)&&D!=null&&x==="onScroll"&&ct("scroll",d)}switch(l){case"input":ze(d),Bs(d,y,!0);break;case"textarea":ze(d),Nr(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=nu)}d=m,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Dr(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=x.createElement(l,{is:d.is}):(s=x.createElement(l),l==="select"&&(x=s,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):s=x.createElementNS(s,l),s[Gr]=i,s[Rl]=d,kv(s,i,!1,!1),i.stateNode=s;e:{switch(x=Gs(l,d),l){case"dialog":ct("cancel",s),ct("close",s),m=d;break;case"iframe":case"object":case"embed":ct("load",s),m=d;break;case"video":case"audio":for(m=0;m<bl.length;m++)ct(bl[m],s);m=d;break;case"source":ct("error",s),m=d;break;case"img":case"image":case"link":ct("error",s),ct("load",s),m=d;break;case"details":ct("toggle",s),m=d;break;case"input":Pr(s,d),m=zt(s,d),ct("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=X({},d,{value:void 0}),ct("invalid",s);break;case"textarea":Kn(s,d),m=Vt(s,d),ct("invalid",s);break;default:m=d}xn(l,m),D=m;for(y in D)if(D.hasOwnProperty(y)){var j=D[y];y==="style"?Ws(s,j):y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Hs(s,j)):y==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&En(s,j):typeof j=="number"&&En(s,""+j):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?j!=null&&y==="onScroll"&&ct("scroll",s):j!=null&&q(s,y,j,x))}switch(l){case"input":ze(s),Bs(s,d,!1);break;case"textarea":ze(s),Nr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+he(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?Dn(s,!!d.multiple,y,!1):d.defaultValue!=null&&Dn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=nu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return cn(i),null;case 6:if(s&&i.stateNode!=null)Nv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=ao(Ol.current),ao(Kr.current),cu(i)){if(d=i.stateNode,l=i.memoizedProps,d[Gr]=i,(y=d.nodeValue!==l)&&(s=zn,s!==null))switch(s.tag){case 3:tu(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&tu(d.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Gr]=i,i.stateNode=d}return cn(i),null;case 13:if(ut(gt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&Bn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)My(),aa(),i.flags|=98560,y=!1;else if(y=cu(i),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Gr]=i}else aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;cn(i),y=!1}else yr!==null&&($h(yr),yr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(gt.current&1)!==0?jt===0&&(jt=3):qh())),i.updateQueue!==null&&(i.flags|=4),cn(i),null);case 4:return da(),Nh(s,i),s===null&&Cl(i.stateNode.containerInfo),cn(i),null;case 10:return oh(i.type._context),cn(i),null;case 17:return Sn(i.type)&&su(),cn(i),null;case 19:if(ut(gt),y=i.memoizedState,y===null)return cn(i),null;if(d=(i.flags&128)!==0,x=y.rendering,x===null)if(d)Fl(y,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=mu(s),x!==null){for(i.flags|=128,Fl(y,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)y=l,s=d,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,s=x.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return it(gt,gt.current&1|2),i.child}s=s.sibling}y.tail!==null&&lt()>ma&&(i.flags|=128,d=!0,Fl(y,!1),i.lanes=4194304)}else{if(!d)if(s=mu(x),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Fl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!ht)return cn(i),null}else 2*lt()-y.renderingStartTime>ma&&l!==1073741824&&(i.flags|=128,d=!0,Fl(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(l=y.last,l!==null?l.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=lt(),i.sibling=null,l=gt.current,it(gt,d?l&1|2:l&1),i):(cn(i),null);case 22:case 23:return Wh(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?($n&1073741824)!==0&&(cn(i),i.subtreeFlags&6&&(i.flags|=8192)):cn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function yb(s,i){switch(eh(i),i.tag){case 1:return Sn(i.type)&&su(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return da(),ut(Tn),ut(an),hh(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return dh(i),null;case 13:if(ut(gt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));aa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ut(gt),null;case 4:return da(),null;case 10:return oh(i.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Su=!1,un=!1,vb=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ha(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Et(s,i,d)}else l.current=null}function Dh(s,i,l){try{l()}catch(d){Et(s,i,d)}}var Dv=!1;function wb(s,i){if(Wf=vs,s=dy(),Lf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,D=-1,j=-1,Q=0,oe=0,ae=s,ie=null;t:for(;;){for(var ve;ae!==l||m!==0&&ae.nodeType!==3||(D=x+m),ae!==y||d!==0&&ae.nodeType!==3||(j=x+d),ae.nodeType===3&&(x+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)ie=ae,ae=ve;for(;;){if(ae===s)break t;if(ie===l&&++Q===m&&(D=x),ie===y&&++oe===d&&(j=x),(ve=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=ve}l=D===-1||j===-1?null:{start:D,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(qf={focusedElem:s,selectionRange:l},vs=!1,Ee=i;Ee!==null;)if(i=Ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ee=s;else for(;Ee!==null;){i=Ee;try{var xe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Ie=xe.memoizedProps,It=xe.memoizedState,H=i.stateNode,z=H.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:vr(i.type,Ie),It);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Et(i,i.return,de)}if(s=i.sibling,s!==null){s.return=i.return,Ee=s;break}Ee=i.return}return xe=Dv,Dv=!1,xe}function Ul(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Dh(i,l,y)}m=m.next}while(m!==d)}}function Iu(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Oh(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Ov(s){var i=s.alternate;i!==null&&(s.alternate=null,Ov(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Gr],delete i[Rl],delete i[Yf],delete i[tb],delete i[nb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Mv(s){return s.tag===5||s.tag===3||s.tag===4}function Vv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mh(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=nu));else if(d!==4&&(s=s.child,s!==null))for(Mh(s,i,l),s=s.sibling;s!==null;)Mh(s,i,l),s=s.sibling}function Vh(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Vh(s,i,l),s=s.sibling;s!==null;)Vh(s,i,l),s=s.sibling}var Jt=null,wr=!1;function li(s,i,l){for(l=l.child;l!==null;)Lv(s,i,l),l=l.sibling}function Lv(s,i,l){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Gi,l)}catch{}switch(l.tag){case 5:un||ha(l,i);case 6:var d=Jt,m=wr;Jt=null,li(s,i,l),Jt=d,wr=m,Jt!==null&&(wr?(s=Jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(wr?(s=Jt,l=l.stateNode,s.nodeType===8?Qf(s.parentNode,l):s.nodeType===1&&Qf(s,l),Js(s)):Qf(Jt,l.stateNode));break;case 4:d=Jt,m=wr,Jt=l.stateNode.containerInfo,wr=!0,li(s,i,l),Jt=d,wr=m;break;case 0:case 11:case 14:case 15:if(!un&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Dh(l,i,x),m=m.next}while(m!==d)}li(s,i,l);break;case 1:if(!un&&(ha(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){Et(l,i,D)}li(s,i,l);break;case 21:li(s,i,l);break;case 22:l.mode&1?(un=(d=un)||l.memoizedState!==null,li(s,i,l),un=d):li(s,i,l);break;default:li(s,i,l)}}function jv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new vb),i.forEach(function(d){var m=Ab.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}}function _r(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=s,x=i,D=x;e:for(;D!==null;){switch(D.tag){case 5:Jt=D.stateNode,wr=!1;break e;case 3:Jt=D.stateNode.containerInfo,wr=!0;break e;case 4:Jt=D.stateNode.containerInfo,wr=!0;break e}D=D.return}if(Jt===null)throw Error(t(160));Lv(y,x,m),Jt=null,wr=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Q){Et(m,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Fv(i,s),i=i.sibling}function Fv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(i,s),Yr(s),d&4){try{Ul(3,s,s.return),Iu(3,s)}catch(Ie){Et(s,s.return,Ie)}try{Ul(5,s,s.return)}catch(Ie){Et(s,s.return,Ie)}}break;case 1:_r(i,s),Yr(s),d&512&&l!==null&&ha(l,l.return);break;case 5:if(_r(i,s),Yr(s),d&512&&l!==null&&ha(l,l.return),s.flags&32){var m=s.stateNode;try{En(m,"")}catch(Ie){Et(s,s.return,Ie)}}if(d&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,x=l!==null?l.memoizedProps:y,D=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Nn(m,y),Gs(D,x);var Q=Gs(D,y);for(x=0;x<j.length;x+=2){var oe=j[x],ae=j[x+1];oe==="style"?Ws(m,ae):oe==="dangerouslySetInnerHTML"?Hs(m,ae):oe==="children"?En(m,ae):q(m,oe,ae,Q)}switch(D){case"input":Qt(m,y);break;case"textarea":Vo(m,y);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ve=y.value;ve!=null?Dn(m,!!y.multiple,ve,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Dn(m,!!y.multiple,y.defaultValue,!0):Dn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Rl]=y}catch(Ie){Et(s,s.return,Ie)}}break;case 6:if(_r(i,s),Yr(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(Ie){Et(s,s.return,Ie)}}break;case 3:if(_r(i,s),Yr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Js(i.containerInfo)}catch(Ie){Et(s,s.return,Ie)}break;case 4:_r(i,s),Yr(s);break;case 13:_r(i,s),Yr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Fh=lt())),d&4&&jv(s);break;case 22:if(oe=l!==null&&l.memoizedState!==null,s.mode&1?(un=(Q=un)||oe,_r(i,s),un=Q):_r(i,s),Yr(s),d&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!oe&&(s.mode&1)!==0)for(Ee=s,oe=s.child;oe!==null;){for(ae=Ee=oe;Ee!==null;){switch(ie=Ee,ve=ie.child,ie.tag){case 0:case 11:case 14:case 15:Ul(4,ie,ie.return);break;case 1:ha(ie,ie.return);var xe=ie.stateNode;if(typeof xe.componentWillUnmount=="function"){d=ie,l=ie.return;try{i=d,xe.props=i.memoizedProps,xe.state=i.memoizedState,xe.componentWillUnmount()}catch(Ie){Et(d,l,Ie)}}break;case 5:ha(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Bv(ae);continue}}ve!==null?(ve.return=ie,Ee=ve):Bv(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,Q?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ae.stateNode,j=ae.memoizedProps.style,x=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=Or("display",x))}catch(Ie){Et(s,s.return,Ie)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Q?"":ae.memoizedProps}catch(Ie){Et(s,s.return,Ie)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:_r(i,s),Yr(s),d&4&&jv(s);break;case 21:break;default:_r(i,s),Yr(s)}}function Yr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Mv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(En(m,""),d.flags&=-33);var y=Vv(s);Vh(s,y,m);break;case 3:case 4:var x=d.stateNode.containerInfo,D=Vv(s);Mh(s,D,x);break;default:throw Error(t(161))}}catch(j){Et(s,s.return,j)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function _b(s,i,l){Ee=s,Uv(s)}function Uv(s,i,l){for(var d=(s.mode&1)!==0;Ee!==null;){var m=Ee,y=m.child;if(m.tag===22&&d){var x=m.memoizedState!==null||Su;if(!x){var D=m.alternate,j=D!==null&&D.memoizedState!==null||un;D=Su;var Q=un;if(Su=x,(un=j)&&!Q)for(Ee=m;Ee!==null;)x=Ee,j=x.child,x.tag===22&&x.memoizedState!==null?$v(m):j!==null?(j.return=x,Ee=j):$v(m);for(;y!==null;)Ee=y,Uv(y),y=y.sibling;Ee=m,Su=D,un=Q}zv(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Ee=y):zv(s)}}function zv(s){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:un||Iu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!un)if(l===null)d.componentDidMount();else{var m=i.elementType===i.type?l.memoizedProps:vr(i.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&By(i,y,d);break;case 3:var x=i.updateQueue;if(x!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}By(i,x,l)}break;case 5:var D=i.stateNode;if(l===null&&i.flags&4){l=D;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Js(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||i.flags&512&&Oh(i)}catch(ie){Et(i,i.return,ie)}}if(i===s){Ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function Bv(s){for(;Ee!==null;){var i=Ee;if(i===s){Ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function $v(s){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Iu(4,i)}catch(j){Et(i,l,j)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var m=i.return;try{d.componentDidMount()}catch(j){Et(i,m,j)}}var y=i.return;try{Oh(i)}catch(j){Et(i,y,j)}break;case 5:var x=i.return;try{Oh(i)}catch(j){Et(i,x,j)}}}catch(j){Et(i,i.return,j)}if(i===s){Ee=null;break}var D=i.sibling;if(D!==null){D.return=i.return,Ee=D;break}Ee=i.return}}var Eb=Math.ceil,bu=J.ReactCurrentDispatcher,Lh=J.ReactCurrentOwner,rr=J.ReactCurrentBatchConfig,Ye=0,Wt=null,Pt=null,Zt=0,$n=0,pa=ri(0),jt=0,zl=null,co=0,Cu=0,jh=0,Bl=null,bn=null,Fh=0,ma=1/0,As=null,Au=!1,Uh=null,ci=null,Ru=!1,ui=null,ku=0,$l=0,zh=null,Pu=-1,Nu=0;function wn(){return(Ye&6)!==0?lt():Pu!==-1?Pu:Pu=lt()}function di(s){return(s.mode&1)===0?1:(Ye&2)!==0&&Zt!==0?Zt&-Zt:sb.transition!==null?(Nu===0&&(Nu=ul()),Nu):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:Ho(s.type)),s)}function Er(s,i,l,d){if(50<$l)throw $l=0,zh=null,Error(t(185));Xi(s,l,d),((Ye&2)===0||s!==Wt)&&(s===Wt&&((Ye&2)===0&&(Cu|=l),jt===4&&fi(s,Zt)),Cn(s,d),l===1&&Ye===0&&(i.mode&1)===0&&(ma=lt()+500,ou&&ii()))}function Cn(s,i){var l=s.callbackNode;Yi(s,i);var d=ms(s,s===Wt?Zt:0);if(d===0)l!==null&&Lo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Lo(l),i===1)s.tag===0?rb(Wv.bind(null,s)):ky(Wv.bind(null,s)),ZI(function(){(Ye&6)===0&&ii()}),l=null;else{switch(Lr(d)){case 1:l=jo;break;case 4:l=al;break;case 16:l=qi;break;case 536870912:l=Fo;break;default:l=qi}l=Zv(l,Hv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Hv(s,i){if(Pu=-1,Nu=0,(Ye&6)!==0)throw Error(t(327));var l=s.callbackNode;if(ga()&&s.callbackNode!==l)return null;var d=ms(s,s===Wt?Zt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Du(s,d);else{i=d;var m=Ye;Ye|=2;var y=Gv();(Wt!==s||Zt!==i)&&(As=null,ma=lt()+500,fo(s,i));do try{Sb();break}catch(D){qv(s,D)}while(!0);ih(),bu.current=y,Ye=m,Pt!==null?i=0:(Wt=null,Zt=0,i=jt)}if(i!==0){if(i===2&&(m=cl(s),m!==0&&(d=m,i=Bh(s,m))),i===1)throw l=zl,fo(s,0),fi(s,d),Cn(s,lt()),l;if(i===6)fi(s,d);else{if(m=s.current.alternate,(d&30)===0&&!xb(m)&&(i=Du(s,d),i===2&&(y=cl(s),y!==0&&(d=y,i=Bh(s,y))),i===1))throw l=zl,fo(s,0),fi(s,d),Cn(s,lt()),l;switch(s.finishedWork=m,s.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ho(s,bn,As);break;case 3:if(fi(s,d),(d&130023424)===d&&(i=Fh+500-lt(),10<i)){if(ms(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){wn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Kf(ho.bind(null,s,bn,As),i);break}ho(s,bn,As);break;case 4:if(fi(s,d),(d&4194240)===d)break;for(i=s.eventTimes,m=-1;0<d;){var x=31-Vn(d);y=1<<x,x=i[x],x>m&&(m=x),d&=~y}if(d=m,d=lt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Eb(d/1960))-d,10<d){s.timeoutHandle=Kf(ho.bind(null,s,bn,As),d);break}ho(s,bn,As);break;case 5:ho(s,bn,As);break;default:throw Error(t(329))}}}return Cn(s,lt()),s.callbackNode===l?Hv.bind(null,s):null}function Bh(s,i){var l=Bl;return s.current.memoizedState.isDehydrated&&(fo(s,i).flags|=256),s=Du(s,i),s!==2&&(i=bn,bn=l,i!==null&&$h(i)),s}function $h(s){bn===null?bn=s:bn.push.apply(bn,s)}function xb(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!gr(y(),m))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fi(s,i){for(i&=~jh,i&=~Cu,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Vn(i),d=1<<l;s[l]=-1,i&=~d}}function Wv(s){if((Ye&6)!==0)throw Error(t(327));ga();var i=ms(s,0);if((i&1)===0)return Cn(s,lt()),null;var l=Du(s,i);if(s.tag!==0&&l===2){var d=cl(s);d!==0&&(i=d,l=Bh(s,d))}if(l===1)throw l=zl,fo(s,0),fi(s,i),Cn(s,lt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ho(s,bn,As),Cn(s,lt()),null}function Hh(s,i){var l=Ye;Ye|=1;try{return s(i)}finally{Ye=l,Ye===0&&(ma=lt()+500,ou&&ii())}}function uo(s){ui!==null&&ui.tag===0&&(Ye&6)===0&&ga();var i=Ye;Ye|=1;var l=rr.transition,d=Ke;try{if(rr.transition=null,Ke=1,s)return s()}finally{Ke=d,rr.transition=l,Ye=i,(Ye&6)===0&&ii()}}function Wh(){$n=pa.current,ut(pa)}function fo(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,JI(l)),Pt!==null)for(l=Pt.return;l!==null;){var d=l;switch(eh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&su();break;case 3:da(),ut(Tn),ut(an),hh();break;case 5:dh(d);break;case 4:da();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:oh(d.type._context);break;case 22:case 23:Wh()}l=l.return}if(Wt=s,Pt=s=hi(s.current,null),Zt=$n=i,jt=0,zl=null,jh=Cu=co=0,bn=Bl=null,oo!==null){for(i=0;i<oo.length;i++)if(l=oo[i],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var x=y.next;y.next=m,d.next=x}l.pending=d}oo=null}return s}function qv(s,i){do{var l=Pt;try{if(ih(),gu.current=_u,yu){for(var d=yt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}yu=!1}if(lo=0,Ht=Lt=yt=null,Ml=!1,Vl=0,Lh.current=null,l===null||l.return===null){jt=1,zl=i,Pt=null;break}e:{var y=s,x=l.return,D=l,j=i;if(i=Zt,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,oe=D,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=yv(x);if(ve!==null){ve.flags&=-257,vv(ve,x,D,y,i),ve.mode&1&&gv(y,Q,i),i=ve,j=Q;var xe=i.updateQueue;if(xe===null){var Ie=new Set;Ie.add(j),i.updateQueue=Ie}else xe.add(j);break e}else{if((i&1)===0){gv(y,Q,i),qh();break e}j=Error(t(426))}}else if(ht&&D.mode&1){var It=yv(x);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),vv(It,x,D,y,i),rh(fa(j,D));break e}}y=j=fa(j,D),jt!==4&&(jt=2),Bl===null?Bl=[y]:Bl.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var H=pv(y,j,i);zy(y,H);break e;case 1:D=j;var z=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ci===null||!ci.has(G)))){y.flags|=65536,i&=-i,y.lanes|=i;var de=mv(y,D,i);zy(y,de);break e}}y=y.return}while(y!==null)}Qv(l)}catch(Ce){i=Ce,Pt===l&&l!==null&&(Pt=l=l.return);continue}break}while(!0)}function Gv(){var s=bu.current;return bu.current=_u,s===null?_u:s}function qh(){(jt===0||jt===3||jt===2)&&(jt=4),Wt===null||(co&268435455)===0&&(Cu&268435455)===0||fi(Wt,Zt)}function Du(s,i){var l=Ye;Ye|=2;var d=Gv();(Wt!==s||Zt!==i)&&(As=null,fo(s,i));do try{Tb();break}catch(m){qv(s,m)}while(!0);if(ih(),Ye=l,bu.current=d,Pt!==null)throw Error(t(261));return Wt=null,Zt=0,jt}function Tb(){for(;Pt!==null;)Kv(Pt)}function Sb(){for(;Pt!==null&&!Wi();)Kv(Pt)}function Kv(s){var i=Jv(s.alternate,s,$n);s.memoizedProps=s.pendingProps,i===null?Qv(s):Pt=i,Lh.current=null}function Qv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=gb(l,i,$n),l!==null){Pt=l;return}}else{if(l=yb(l,i),l!==null){l.flags&=32767,Pt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,Pt=null;return}}if(i=i.sibling,i!==null){Pt=i;return}Pt=i=s}while(i!==null);jt===0&&(jt=5)}function ho(s,i,l){var d=Ke,m=rr.transition;try{rr.transition=null,Ke=1,Ib(s,i,l,d)}finally{rr.transition=m,Ke=d}return null}function Ib(s,i,l,d){do ga();while(ui!==null);if((Ye&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Nf(s,y),s===Wt&&(Pt=Wt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ru||(Ru=!0,Zv(qi,function(){return ga(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=rr.transition,rr.transition=null;var x=Ke;Ke=1;var D=Ye;Ye|=4,Lh.current=null,wb(s,l),Fv(l,s),WI(qf),vs=!!Wf,qf=Wf=null,s.current=l,_b(l),ps(),Ye=D,Ke=x,rr.transition=y}else s.current=l;if(Ru&&(Ru=!1,ui=s,ku=m),y=s.pendingLanes,y===0&&(ci=null),Uc(l.stateNode),Cn(s,lt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)m=i[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Au)throw Au=!1,s=Uh,Uh=null,s;return(ku&1)!==0&&s.tag!==0&&ga(),y=s.pendingLanes,(y&1)!==0?s===zh?$l++:($l=0,zh=s):$l=0,ii(),null}function ga(){if(ui!==null){var s=Lr(ku),i=rr.transition,l=Ke;try{if(rr.transition=null,Ke=16>s?16:s,ui===null)var d=!1;else{if(s=ui,ui=null,ku=0,(Ye&6)!==0)throw Error(t(331));var m=Ye;for(Ye|=4,Ee=s.current;Ee!==null;){var y=Ee,x=y.child;if((Ee.flags&16)!==0){var D=y.deletions;if(D!==null){for(var j=0;j<D.length;j++){var Q=D[j];for(Ee=Q;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:Ul(8,oe,y)}var ae=oe.child;if(ae!==null)ae.return=oe,Ee=ae;else for(;Ee!==null;){oe=Ee;var ie=oe.sibling,ve=oe.return;if(Ov(oe),oe===Q){Ee=null;break}if(ie!==null){ie.return=ve,Ee=ie;break}Ee=ve}}}var xe=y.alternate;if(xe!==null){var Ie=xe.child;if(Ie!==null){xe.child=null;do{var It=Ie.sibling;Ie.sibling=null,Ie=It}while(Ie!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,Ee=x;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ul(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,Ee=H;break e}Ee=y.return}}var z=s.current;for(Ee=z;Ee!==null;){x=Ee;var G=x.child;if((x.subtreeFlags&2064)!==0&&G!==null)G.return=x,Ee=G;else e:for(x=z;Ee!==null;){if(D=Ee,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Iu(9,D)}}catch(Ce){Et(D,D.return,Ce)}if(D===x){Ee=null;break e}var de=D.sibling;if(de!==null){de.return=D.return,Ee=de;break e}Ee=D.return}}if(Ye=m,ii(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Gi,s)}catch{}d=!0}return d}finally{Ke=l,rr.transition=i}}return!1}function Yv(s,i,l){i=fa(l,i),i=pv(s,i,1),s=ai(s,i,1),i=wn(),s!==null&&(Xi(s,1,i),Cn(s,i))}function Et(s,i,l){if(s.tag===3)Yv(s,s,l);else for(;i!==null;){if(i.tag===3){Yv(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ci===null||!ci.has(d))){s=fa(l,s),s=mv(i,s,1),i=ai(i,s,1),s=wn(),i!==null&&(Xi(i,1,s),Cn(i,s));break}}i=i.return}}function bb(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=wn(),s.pingedLanes|=s.suspendedLanes&l,Wt===s&&(Zt&l)===l&&(jt===4||jt===3&&(Zt&130023424)===Zt&&500>lt()-Fh?fo(s,0):jh|=l),Cn(s,i)}function Xv(s,i){i===0&&((s.mode&1)===0?i=1:(i=Qs,Qs<<=1,(Qs&130023424)===0&&(Qs=4194304)));var l=wn();s=Is(s,i),s!==null&&(Xi(s,i,l),Cn(s,l))}function Cb(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Xv(s,l)}function Ab(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Xv(s,l)}var Jv;Jv=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Tn.current)In=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return In=!1,mb(s,i,l);In=(s.flags&131072)!==0}else In=!1,ht&&(i.flags&1048576)!==0&&Py(i,lu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Tu(s,i),s=i.pendingProps;var m=sa(i,an.current);ua(i,l),m=gh(null,i,d,s,m,l);var y=yh();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Sn(d)?(y=!0,iu(i)):y=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ch(i),m.updater=Eu,i.stateNode=m,m._reactInternals=i,Th(i,d,s,l),i=Ch(null,i,d,!0,y,l)):(i.tag=0,ht&&y&&Zf(i),vn(null,i,m,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Tu(s,i),s=i.pendingProps,m=d._init,d=m(d._payload),i.type=d,m=i.tag=kb(d),s=vr(d,s),m){case 0:i=bh(null,i,d,s,l);break e;case 1:i=Sv(null,i,d,s,l);break e;case 11:i=wv(null,i,d,s,l);break e;case 14:i=_v(null,i,d,vr(d.type,s),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:vr(d,m),bh(s,i,d,m,l);case 1:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:vr(d,m),Sv(s,i,d,m,l);case 3:e:{if(Iv(i),s===null)throw Error(t(387));d=i.pendingProps,y=i.memoizedState,m=y.element,Uy(s,i),pu(i,d,null,l);var x=i.memoizedState;if(d=x.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){m=fa(Error(t(423)),i),i=bv(s,i,d,l,m);break e}else if(d!==m){m=fa(Error(t(424)),i),i=bv(s,i,d,l,m);break e}else for(Bn=ni(i.stateNode.containerInfo.firstChild),zn=i,ht=!0,yr=null,l=jy(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(aa(),d===m){i=Cs(s,i,l);break e}vn(s,i,d,l)}i=i.child}return i;case 5:return $y(i),s===null&&nh(i),d=i.type,m=i.pendingProps,y=s!==null?s.memoizedProps:null,x=m.children,Gf(d,m)?x=null:y!==null&&Gf(d,y)&&(i.flags|=32),Tv(s,i),vn(s,i,x,l),i.child;case 6:return s===null&&nh(i),null;case 13:return Cv(s,i,l);case 4:return uh(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=la(i,null,d,l):vn(s,i,d,l),i.child;case 11:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:vr(d,m),wv(s,i,d,m,l);case 7:return vn(s,i,i.pendingProps,l),i.child;case 8:return vn(s,i,i.pendingProps.children,l),i.child;case 12:return vn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,m=i.pendingProps,y=i.memoizedProps,x=m.value,it(du,d._currentValue),d._currentValue=x,y!==null)if(gr(y.value,x)){if(y.children===m.children&&!Tn.current){i=Cs(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var D=y.dependencies;if(D!==null){x=y.child;for(var j=D.firstContext;j!==null;){if(j.context===d){if(y.tag===1){j=bs(-1,l&-l),j.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?j.next=j:(j.next=oe.next,oe.next=j),Q.pending=j}}y.lanes|=l,j=y.alternate,j!==null&&(j.lanes|=l),ah(y.return,l,i),D.lanes|=l;break}j=j.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=l,D=x.alternate,D!==null&&(D.lanes|=l),ah(x,l,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}vn(s,i,m.children,l),i=i.child}return i;case 9:return m=i.type,d=i.pendingProps.children,ua(i,l),m=tr(m),d=d(m),i.flags|=1,vn(s,i,d,l),i.child;case 14:return d=i.type,m=vr(d,i.pendingProps),m=vr(d.type,m),_v(s,i,d,m,l);case 15:return Ev(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,m=i.pendingProps,m=i.elementType===d?m:vr(d,m),Tu(s,i),i.tag=1,Sn(d)?(s=!0,iu(i)):s=!1,ua(i,l),fv(i,d,m),Th(i,d,m,l),Ch(null,i,d,!0,s,l);case 19:return Rv(s,i,l);case 22:return xv(s,i,l)}throw Error(t(156,i.tag))};function Zv(s,i){return ol(s,i)}function Rb(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(s,i,l,d){return new Rb(s,i,l,d)}function Gh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kb(s){if(typeof s=="function")return Gh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ae)return 14}return 2}function hi(s,i){var l=s.alternate;return l===null?(l=sr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Ou(s,i,l,d,m,y){var x=2;if(d=s,typeof s=="function")Gh(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case R:return po(l.children,m,y,i);case S:x=8,m|=8;break;case P:return s=sr(12,l,i,m|2),s.elementType=P,s.lanes=y,s;case k:return s=sr(13,l,i,m),s.elementType=k,s.lanes=y,s;case we:return s=sr(19,l,i,m),s.elementType=we,s.lanes=y,s;case pe:return Mu(l,m,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:x=10;break e;case O:x=9;break e;case F:x=11;break e;case Ae:x=14;break e;case ue:x=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=sr(x,l,i,m),i.elementType=s,i.type=d,i.lanes=y,i}function po(s,i,l,d){return s=sr(7,s,d,i),s.lanes=l,s}function Mu(s,i,l,d){return s=sr(22,s,d,i),s.elementType=pe,s.lanes=l,s.stateNode={isHidden:!1},s}function Kh(s,i,l){return s=sr(6,s,null,i),s.lanes=l,s}function Qh(s,i,l){return i=sr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function Pb(s,i,l,d,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yh(s,i,l,d,m,y,x,D,j){return s=new Pb(s,i,l,D,j),i===1?(i=1,y===!0&&(i|=8)):i=0,y=sr(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(y),s}function Nb(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function ew(s){if(!s)return si;s=s._reactInternals;e:{if(pr(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Sn(l))return Ay(s,l,i)}return i}function tw(s,i,l,d,m,y,x,D,j){return s=Yh(l,d,!0,s,m,y,x,D,j),s.context=ew(null),l=s.current,d=wn(),m=di(l),y=bs(d,m),y.callback=i??null,ai(l,y,m),s.current.lanes=m,Xi(s,m,d),Cn(s,d),s}function Vu(s,i,l,d){var m=i.current,y=wn(),x=di(m);return l=ew(l),i.context===null?i.context=l:i.pendingContext=l,i=bs(y,x),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=ai(m,i,x),s!==null&&(Er(s,m,x,y),hu(s,m,x)),x}function Lu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nw(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Xh(s,i){nw(s,i),(s=s.alternate)&&nw(s,i)}function Db(){return null}var rw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jh(s){this._internalRoot=s}ju.prototype.render=Jh.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Vu(s,i,null,null)},ju.prototype.unmount=Jh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;uo(function(){Vu(null,s,null,null)}),i[Es]=null}};function ju(s){this._internalRoot=s}ju.prototype.unstable_scheduleHydration=function(s){if(s){var i=ml();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Ln.length&&i!==0&&i<Ln[l].priority;l++);Ln.splice(l,0,s),l===0&&Bo(s)}};function Zh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function sw(){}function Ob(s,i,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Q=Lu(x);y.call(Q)}}var x=tw(i,d,s,0,null,!1,!1,"",sw);return s._reactRootContainer=x,s[Es]=x.current,Cl(s.nodeType===8?s.parentNode:s),uo(),x}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var D=d;d=function(){var Q=Lu(j);D.call(Q)}}var j=Yh(s,0,!1,null,null,!1,!1,"",sw);return s._reactRootContainer=j,s[Es]=j.current,Cl(s.nodeType===8?s.parentNode:s),uo(function(){Vu(i,j,l,d)}),j}function Uu(s,i,l,d,m){var y=l._reactRootContainer;if(y){var x=y;if(typeof m=="function"){var D=m;m=function(){var j=Lu(x);D.call(j)}}Vu(i,x,s,m)}else x=Ob(l,i,s,m,d);return Lu(x)}hl=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Je(i.pendingLanes);l!==0&&(fl(i,l|1),Cn(i,lt()),(Ye&6)===0&&(ma=lt()+500,ii()))}break;case 13:uo(function(){var d=Is(s,1);if(d!==null){var m=wn();Er(d,s,1,m)}}),Xh(s,1)}},Uo=function(s){if(s.tag===13){var i=Is(s,134217728);if(i!==null){var l=wn();Er(i,s,134217728,l)}Xh(s,134217728)}},pl=function(s){if(s.tag===13){var i=di(s),l=Is(s,i);if(l!==null){var d=wn();Er(l,s,i,d)}Xh(s,i)}},ml=function(){return Ke},gl=function(s,i){var l=Ke;try{return Ke=s,i()}finally{Ke=l}},fr=function(s,i,l){switch(i){case"input":if(Qt(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var m=ru(d);if(!m)throw Error(t(90));$e(d),Qt(d,m)}}}break;case"textarea":Vo(s,l);break;case"select":i=l.value,i!=null&&Dn(s,!!l.multiple,i,!1)}},Tt=Hh,Bt=uo;var Mb={usingClientEntryPoint:!1,Events:[kl,na,ru,Oe,rt,Hh]},Hl={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vb={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Fc(s),s===null?null:s.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Gi=zu.inject(Vb),Mn=zu}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb,An.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(i))throw Error(t(200));return Nb(s,i,null,l)},An.createRoot=function(s,i){if(!Zh(s))throw Error(t(299));var l=!1,d="",m=rw;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=Yh(s,1,!1,null,null,l,!1,d,m),s[Es]=i.current,Cl(s.nodeType===8?s.parentNode:s),new Jh(i)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Fc(i),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return uo(s)},An.hydrate=function(s,i,l){if(!Fu(i))throw Error(t(200));return Uu(null,s,i,!0,l)},An.hydrateRoot=function(s,i,l){if(!Zh(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",x=rw;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),i=tw(i,null,s,1,l??null,m,!1,y,x),s[Es]=i.current,Cl(s),d)for(s=0;s<d.length;s++)l=d[s],m=l._getVersion,m=m(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,m]:i.mutableSourceEagerHydrationData.push(l,m);return new ju(i)},An.render=function(s,i,l){if(!Fu(i))throw Error(t(200));return Uu(null,s,i,!1,l)},An.unmountComponentAtNode=function(s){if(!Fu(s))throw Error(t(40));return s._reactRootContainer?(uo(function(){Uu(null,null,s,!1,function(){s._reactRootContainer=null,s[Es]=null})}),!0):!1},An.unstable_batchedUpdates=Hh,An.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Fu(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Uu(s,i,l,!1,d)},An.version="18.3.1-next-f1338f8080-20240426",An}var fw;function $_(){if(fw)return np.exports;fw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=Hb(),np.exports}var hw;function Wb(){if(hw)return Bu;hw=1;var n=$_();return Bu.createRoot=n.createRoot,Bu.hydrateRoot=n.hydrateRoot,Bu}var qb=Wb(),I=Im();const fe=B_(I),bm=jb({__proto__:null,default:fe},[I]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),pw=n=>{const e=Kb(n);return e.charAt(0).toUpperCase()+e.slice(1)},H_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...f},h)=>I.createElement("svg",{ref:h,...Qb,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:H_("lucide",o),...f},[...c.map(([p,w])=>I.createElement(p,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(n,e)=>{const t=I.forwardRef(({className:r,...o},a)=>I.createElement(Yb,{ref:a,iconNode:e,className:H_(`lucide-${Gb(pw(n))}`,`lucide-${n}`,r),...o}));return t.displayName=pw(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jb=rn("arrow-left",Xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cm=rn("check",Zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],W_=rn("chevron-down",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],n1=rn("chevron-up",t1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Am=rn("circle-alert",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mw=rn("circle-check",s1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ip=rn("circle",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],a1=rn("copy",o1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wd=rn("loader-circle",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],u1=rn("mail",c1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gw=rn("plus",d1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h1=rn("send",f1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Op=rn("sparkles",p1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],g1=rn("trending-up",m1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v1=rn("triangle-alert",y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yw=rn("users",w1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vw=rn("x",_1),E1=({text:n,disabled:e=!1,speed:t=5,className:r=""})=>{const o=`${t}s`;return _.jsx("div",{className:`shiny-text ${e?"disabled":""} ${r}`,style:{animationDuration:o},children:n})};function ww(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function $a(...n){return e=>{let t=!1;const r=n.map(o=>{const a=ww(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():ww(n[o],null)}}}}function Mt(...n){return I.useCallback($a(...n),n)}var x1=Symbol.for("react.lazy"),vd=bm[" use ".trim().toString()];function T1(n){return typeof n=="object"&&n!==null&&"then"in n}function q_(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===x1&&"_payload"in n&&T1(n._payload)}function Rm(n){const e=S1(n),t=I.forwardRef((r,o)=>{let{children:a,...c}=r;q_(a)&&typeof vd=="function"&&(a=vd(a._payload));const f=I.Children.toArray(a),h=f.find(b1);if(h){const p=h.props.children,w=f.map(g=>g===h?I.Children.count(p)>1?I.Children.only(null):I.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:o,children:I.isValidElement(p)?I.cloneElement(p,void 0,w):null})}return _.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var G_=Rm("Slot");function S1(n){const e=I.forwardRef((t,r)=>{let{children:o,...a}=t;if(q_(o)&&typeof vd=="function"&&(o=vd(o._payload)),I.isValidElement(o)){const c=A1(o),f=C1(a,o.props);return o.type!==I.Fragment&&(f.ref=r?$a(r,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var I1=Symbol("radix.slottable");function b1(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===I1}function C1(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const h=a(...f);return o(...f),h}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function A1(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function K_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=K_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Q_(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=K_(n))&&(r&&(r+=" "),r+=e);return r}const _w=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Ew=Q_,km=(n,e)=>t=>{var r;if(e?.variants==null)return Ew(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(p=>{const w=t?.[p],g=a?.[p];if(w===null)return null;const T=_w(w)||_w(g);return o[p][T]}),f=t&&Object.entries(t).reduce((p,w)=>{let[g,T]=w;return T===void 0||(p[g]=T),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,w)=>{let{class:g,className:T,...C}=w;return Object.entries(C).every(V=>{let[A,N]=V;return Array.isArray(N)?N.includes({...a,...f}[A]):{...a,...f}[A]===N})?[...p,g,T]:p},[]);return Ew(n,c,h,t?.class,t?.className)},Pm="-",R1=n=>{const e=P1(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{const f=c.split(Pm);return f[0]===""&&f.length!==1&&f.shift(),Y_(f,e)||k1(c)},getConflictingClassGroupIds:(c,f)=>{const h=t[c]||[];return f&&r[c]?[...h,...r[c]]:h}}},Y_=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?Y_(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Pm);return e.validators.find(({validator:c})=>c(a))?.classGroupId},xw=/^\[(.+)\]$/,k1=n=>{if(xw.test(n)){const e=xw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},P1=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)Mp(t[o],r,o,e);return r},Mp=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Tw(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(N1(o)){Mp(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{Mp(c,Tw(e,a),t,r)})})},Tw=(n,e)=>{let t=n;return e.split(Pm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},N1=n=>n.isThemeGetter,D1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},Vp="!",Lp=":",O1=Lp.length,M1=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let c=0,f=0,h=0,p;for(let V=0;V<o.length;V++){let A=o[V];if(c===0&&f===0){if(A===Lp){a.push(o.slice(h,V)),h=V+O1;continue}if(A==="/"){p=V;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const w=a.length===0?o:o.substring(h),g=V1(w),T=g!==w,C=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:g,maybePostfixModifierPosition:C}};if(e){const o=e+Lp,a=r;r=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},V1=n=>n.endsWith(Vp)?n.substring(0,n.length-1):n.startsWith(Vp)?n.substring(1):n,L1=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},j1=n=>({cache:D1(n.cacheSize),parseClassName:M1(n),sortModifiers:L1(n),...R1(n)}),F1=/\s+/,U1=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],f=n.trim().split(F1);let h="";for(let p=f.length-1;p>=0;p-=1){const w=f[p],{isExternal:g,modifiers:T,hasImportantModifier:C,baseClassName:V,maybePostfixModifierPosition:A}=t(w);if(g){h=w+(h.length>0?" "+h:h);continue}let N=!!A,U=r(N?V.substring(0,A):V);if(!U){if(!N){h=w+(h.length>0?" "+h:h);continue}if(U=r(V),!U){h=w+(h.length>0?" "+h:h);continue}N=!1}const $=a(T).join(":"),q=C?$+Vp:$,J=q+U;if(c.includes(J))continue;c.push(J);const ee=o(U,N);for(let re=0;re<ee.length;++re){const R=ee[re];c.push(q+R)}h=w+(h.length>0?" "+h:h)}return h};function z1(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=X_(e))&&(r&&(r+=" "),r+=t);return r}const X_=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=X_(n[r]))&&(t&&(t+=" "),t+=e);return t};function B1(n,...e){let t,r,o,a=c;function c(h){const p=e.reduce((w,g)=>g(w),n());return t=j1(p),r=t.cache.get,o=t.cache.set,a=f,f(h)}function f(h){const p=r(h);if(p)return p;const w=U1(h,t);return o(h,w),w}return function(){return a(z1.apply(null,arguments))}}const Ft=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},J_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Z_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$1=/^\d+\/\d+$/,H1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=n=>$1.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),mi=n=>!!n&&Number.isInteger(Number(n)),op=n=>n.endsWith("%")&&Be(n.slice(0,-1)),Rs=n=>H1.test(n),Q1=()=>!0,Y1=n=>W1.test(n)&&!q1.test(n),eE=()=>!1,X1=n=>G1.test(n),J1=n=>K1.test(n),Z1=n=>!Te(n)&&!Se(n),eC=n=>Ha(n,rE,eE),Te=n=>J_.test(n),mo=n=>Ha(n,sE,Y1),ap=n=>Ha(n,iC,Be),Sw=n=>Ha(n,tE,eE),tC=n=>Ha(n,nE,J1),$u=n=>Ha(n,iE,X1),Se=n=>Z_.test(n),ql=n=>Wa(n,sE),nC=n=>Wa(n,oC),Iw=n=>Wa(n,tE),rC=n=>Wa(n,rE),sC=n=>Wa(n,nE),Hu=n=>Wa(n,iE,!0),Ha=(n,e,t)=>{const r=J_.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Wa=(n,e,t=!1)=>{const r=Z_.exec(n);return r?r[1]?e(r[1]):t:!1},tE=n=>n==="position"||n==="percentage",nE=n=>n==="image"||n==="url",rE=n=>n==="length"||n==="size"||n==="bg-size",sE=n=>n==="length",iC=n=>n==="number",oC=n=>n==="family-name",iE=n=>n==="shadow",aC=()=>{const n=Ft("color"),e=Ft("font"),t=Ft("text"),r=Ft("font-weight"),o=Ft("tracking"),a=Ft("leading"),c=Ft("breakpoint"),f=Ft("container"),h=Ft("spacing"),p=Ft("radius"),w=Ft("shadow"),g=Ft("inset-shadow"),T=Ft("text-shadow"),C=Ft("drop-shadow"),V=Ft("blur"),A=Ft("perspective"),N=Ft("aspect"),U=Ft("ease"),$=Ft("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...J(),Se,Te],re=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[Se,Te,h],P=()=>[ya,"full","auto",...S()],M=()=>[mi,"none","subgrid",Se,Te],O=()=>["auto",{span:["full",mi,Se,Te]},mi,Se,Te],F=()=>[mi,"auto",Se,Te],k=()=>["auto","min","max","fr",Se,Te],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ue=()=>["auto",...S()],pe=()=>[ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],B=()=>[n,Se,Te],le=()=>[...J(),Iw,Sw,{position:[Se,Te]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",rC,eC,{size:[Se,Te]}],K=()=>[op,ql,mo],ne=()=>["","none","full",p,Se,Te],ce=()=>["",Be,ql,mo],ye=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[Be,op,Iw,Sw],he=()=>["","none",V,Se,Te],Re=()=>["none",Be,Se,Te],De=()=>["none",Be,Se,Te],ze=()=>[Be,Se,Te],$e=()=>[ya,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rs],breakpoint:[Rs],color:[Q1],container:[Rs],"drop-shadow":[Rs],ease:["in","out","in-out"],font:[Z1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rs],shadow:[Rs],spacing:["px",Be],text:[Rs],"text-shadow":[Rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ya,Te,Se,N]}],container:["container"],columns:[{columns:[Be,Te,Se,f]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[mi,"auto",Se,Te]}],basis:[{basis:[ya,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,ya,"auto","initial","none",Te]}],grow:[{grow:["",Be,Se,Te]}],shrink:[{shrink:["",Be,Se,Te]}],order:[{order:[mi,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ue()}],mx:[{mx:ue()}],my:[{my:ue()}],ms:[{ms:ue()}],me:[{me:ue()}],mt:[{mt:ue()}],mr:[{mr:ue()}],mb:[{mb:ue()}],ml:[{ml:ue()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[f,"screen",...pe()]}],"min-w":[{"min-w":[f,"screen","none",...pe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",t,ql,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",op,Te]}],"font-family":[{font:[nC,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Se,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Se,ap]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Se,mo]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Be,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mi,Se,Te],radial:["",Se,Te],conic:[mi,Se,Te]},sC,tC]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Se,Te]}],"outline-w":[{outline:["",Be,ql,mo]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",w,Hu,$u]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",g,Hu,$u]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Be,mo]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",T,Hu,$u]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Be,Se,Te]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:he()}],brightness:[{brightness:[Be,Se,Te]}],contrast:[{contrast:[Be,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",C,Hu,$u]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Be,Se,Te]}],"hue-rotate":[{"hue-rotate":[Be,Se,Te]}],invert:[{invert:["",Be,Se,Te]}],saturate:[{saturate:[Be,Se,Te]}],sepia:[{sepia:["",Be,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Se,Te]}],ease:[{ease:["linear","initial",U,Se,Te]}],delay:[{delay:[Be,Se,Te]}],animate:[{animate:["none",$,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Se,Te]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Be,ql,mo,ap]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lC=B1(aC);function ft(...n){return lC(Q_(n))}const cC=km("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-[var(--lc-accent)]/70 focus:ring-offset-0 disabled:opacity-60 disabled:cursor-not-allowed",{variants:{variant:{default:"bg-[var(--lc-accent)] text-white hover:bg-[var(--lc-accent-soft)]",primary:"bg-[var(--lc-accent)] text-white hover:bg-[var(--lc-accent-soft)]",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-[var(--lc-border)] text-[var(--lc-text)] hover:bg-[var(--lc-surface)]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"text-[var(--lc-muted)] hover:text-[var(--lc-text)] hover:bg-[var(--lc-surface)]/80",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Sr({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?G_:"button";return _.jsx(a,{"data-slot":"button",className:ft(cC({variant:e,size:t,className:n})),...o})}function ts({className:n,type:e,...t}){return _.jsx("input",{type:e,"data-slot":"input",className:ft("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function uC({onLogin:n,onLogout:e,isLoggedIn:t}){const[r,o]=I.useState(""),[a,c]=I.useState(""),f=h=>{h.preventDefault(),n(r,a)};return _.jsxs("header",{className:`w-full border-b border-[var(--lc-border)] bg-[var(--lc-bg)] relative ${t?"py-4":"flex flex-col items-center justify-center py-8"}`,children:[t&&_.jsx("div",{className:"flex items-center h-full px-8",children:_.jsxs(Sr,{variant:"ghost",onClick:e,className:"text-[var(--lc-text)] hover:bg-[var(--lc-surface)]",children:[_.jsx(Jb,{className:"w-5 h-5 mr-2"}),"Back"]})}),!t&&_.jsxs(_.Fragment,{children:[_.jsx(E1,{text:"Nemora",disabled:!1,speed:3,className:"text-5xl sm:text-6xl md:text-7xl font-semibold tracking-[0.18em]"}),_.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mt-4 text-[var(--lc-text)] mx-auto text-center",style:{fontFamily:"'Roboto', sans-serif",fontWeight:400,fontSize:"clamp(1rem, 2.5vw, 1.5rem)",maxWidth:"90%",textAlign:"center"},children:"Welcome to Nemora, your new nemotron powered product management tool!"})]}),!t&&_.jsx("div",{className:"w-full max-w-md",style:{marginTop:"96px"},children:_.jsx("div",{className:"rounded-lg border-2 border-blue-400 bg-[var(--lc-surface-soft)] shadow-lg p-8",style:{borderColor:"#60a5fa"},children:_.jsxs("form",{onSubmit:f,className:"flex flex-col gap-6",children:[_.jsx("h3",{className:"text-2xl font-bold text-[var(--lc-text)] text-center mb-2",children:"Login"}),_.jsxs("div",{className:"space-y-5",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-[var(--lc-text)]",children:"Email address"}),_.jsx(ts,{type:"email",placeholder:"Enter email",value:r,onChange:h=>o(h.target.value),className:"!bg-blue-400/10 !border-2 !border-blue-400 w-full rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15 h-11",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"},required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-[var(--lc-text)]",children:"Password"}),_.jsx(ts,{type:"password",placeholder:"Password",value:a,onChange:h=>c(h.target.value),className:"!bg-blue-400/10 !border-2 !border-blue-400 w-full rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15 h-11",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"},required:!0})]})]}),_.jsx(Sr,{type:"submit",variant:"primary",className:"w-full h-11 mt-2",children:"Login"})]})})})]})}const dC=km("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Nm({className:n,variant:e,...t}){return _.jsx("div",{"data-slot":"alert",role:"alert",className:ft(dC({variant:e}),n),...t})}function Dm({className:n,...e}){return _.jsx("div",{"data-slot":"alert-description",className:ft("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}const vi="";function lp(n,e){return n instanceof Error?n.message.includes("Failed to fetch")||n.message.includes("NetworkError")?new Error("Unable to connect to the backend server. Please make sure the backend is running on port 5002."):n.message.includes("CORS")||n.message.includes("cross-origin")?new Error("CORS error: Backend server may not be configured to allow requests from this origin."):n:new Error(e)}async function fC(){try{const n=vi?`${vi}/health`:"/health";return(await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch(n){return console.error("Backend health check failed:",n),!1}}const cp={async generateLifecycle(n){try{const e=vi?`${vi}/api/generate-lifecycle`:"/api/generate-lifecycle",t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){const a=(await t.json().catch(()=>({}))).error||`HTTP error! status: ${t.status}`;throw new Error(a)}return await t.json()}catch(e){throw console.error("API Client Error (generateLifecycle):",e),lp(e,"Failed to generate lifecycle plan")}},async generateStatus(n,e){try{const t=vi?`${vi}/api/generate-status`:"/api/generate-status",r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lifecycleData:n,productInput:e})});if(!r.ok){const c=(await r.json().catch(()=>({}))).error||`HTTP error! status: ${r.status}`;throw new Error(c)}return await r.json()}catch(t){throw console.error("API Client Error (generateStatus):",t),lp(t,"Failed to generate status report")}},async sendToSlack(n){try{const e=vi?`${vi}/api/send-slack`:"/api/send-slack",t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok){const o=(await t.json().catch(()=>({}))).error||`HTTP error! status: ${t.status}`;throw new Error(o)}await t.json()}catch(e){throw console.error("API Client Error (sendToSlack):",e),lp(e,"Failed to send to Slack")}}};function hC(){const[n,e]=I.useState(null),[t,r]=I.useState(!0);return I.useEffect(()=>{const o=async()=>{r(!0);try{const c=await fC();e(c)}catch(c){console.error("Backend health check error:",c),e(!1)}finally{r(!1)}};o();const a=setInterval(o,3e4);return()=>clearInterval(a)},[]),n===!1||t?_.jsxs(Nm,{className:`mb-6 ${n===!1?"bg-amber-900/20 border-amber-700":"bg-blue-900/20 border-blue-700"}`,children:[t?_.jsx(Wd,{className:"h-4 w-4 text-blue-400 animate-spin"}):_.jsx(Am,{className:"h-4 w-4 text-amber-400"}),_.jsx(Dm,{className:"text-sm text-[var(--lc-text)]",children:t?_.jsx("span",{className:"text-blue-300",children:"Checking backend connection..."}):_.jsxs("div",{children:[_.jsx("span",{className:"font-medium text-amber-300",children:"Backend server not connected."}),_.jsx("span",{className:"ml-1 text-amber-400",children:"Please make sure the backend server is running on port 5002."}),_.jsxs("div",{className:"mt-2 text-xs text-amber-400",children:[" Start the backend: ",_.jsx("code",{className:"bg-amber-900/50 px-1.5 py-0.5 rounded text-amber-200",children:"cd backend && npm run dev"})]})]})})]}):null}function qa({className:n,...e}){return _.jsx("div",{"data-slot":"card",className:ft("rounded-lg border border-[var(--lc-border)] bg-[var(--lc-surface-soft)]/95 shadow-sm px-5 py-4",n),...e})}function pC({className:n,...e}){return _.jsx("textarea",{"data-slot":"textarea",className:ft("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}var wc=$_();const oE=B_(wc);var mC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gC=mC.reduce((n,e)=>{const t=Rm(`Primitive.${e}`),r=I.forwardRef((o,a)=>{const{asChild:c,...f}=o,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(h,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),yC="Label",aE=I.forwardRef((n,e)=>_.jsx(gC.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));aE.displayName=yC;var vC=aE;function Wu({className:n,...e}){return _.jsx(vC,{"data-slot":"label",className:ft("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function bw(n,[e,t]){return Math.min(t,Math.max(e,n))}function dt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function qd(n,e=[]){let t=[];function r(a,c){const f=I.createContext(c),h=t.length;t=[...t,c];const p=g=>{const{scope:T,children:C,...V}=g,A=T?.[n]?.[h]||f,N=I.useMemo(()=>V,Object.values(V));return _.jsx(A.Provider,{value:N,children:C})};p.displayName=a+"Provider";function w(g,T){const C=T?.[n]?.[h]||f,V=I.useContext(C);if(V)return V;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[p,w]}const o=()=>{const a=t.map(c=>I.createContext(c));return function(f){const h=f?.[n]||a;return I.useMemo(()=>({[`__scope${n}`]:{...f,[n]:h}}),[f,h])}};return o.scopeName=n,[r,wC(o,...e)]}function wC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((f,{useScope:h,scopeName:p})=>{const g=h(a)[`__scope${p}`];return{...f,...g}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Cw(n){const e=_C(n),t=I.forwardRef((r,o)=>{const{children:a,...c}=r,f=I.Children.toArray(a),h=f.find(xC);if(h){const p=h.props.children,w=f.map(g=>g===h?I.Children.count(p)>1?I.Children.only(null):I.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:o,children:I.isValidElement(p)?I.cloneElement(p,void 0,w):null})}return _.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function _C(n){const e=I.forwardRef((t,r)=>{const{children:o,...a}=t;if(I.isValidElement(o)){const c=SC(o),f=TC(a,o.props);return o.type!==I.Fragment&&(f.ref=r?$a(r,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var EC=Symbol("radix.slottable");function xC(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===EC}function TC(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const h=a(...f);return o(...f),h}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function SC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function IC(n){const e=n+"CollectionProvider",[t,r]=qd(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:N,children:U}=A,$=fe.useRef(null),q=fe.useRef(new Map).current;return _.jsx(o,{scope:N,itemMap:q,collectionRef:$,children:U})};c.displayName=e;const f=n+"CollectionSlot",h=Cw(f),p=fe.forwardRef((A,N)=>{const{scope:U,children:$}=A,q=a(f,U),J=Mt(N,q.collectionRef);return _.jsx(h,{ref:J,children:$})});p.displayName=f;const w=n+"CollectionItemSlot",g="data-radix-collection-item",T=Cw(w),C=fe.forwardRef((A,N)=>{const{scope:U,children:$,...q}=A,J=fe.useRef(null),ee=Mt(N,J),re=a(w,U);return fe.useEffect(()=>(re.itemMap.set(J,{ref:J,...q}),()=>void re.itemMap.delete(J))),_.jsx(T,{[g]:"",ref:ee,children:$})});C.displayName=w;function V(A){const N=a(n+"CollectionConsumer",A);return fe.useCallback(()=>{const $=N.collectionRef.current;if(!$)return[];const q=Array.from($.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((re,R)=>q.indexOf(re.ref.current)-q.indexOf(R.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:p,ItemSlot:C},V,r]}var bC=I.createContext(void 0);function CC(n){const e=I.useContext(bC);return n||e||"ltr"}function AC(n){const e=RC(n),t=I.forwardRef((r,o)=>{const{children:a,...c}=r,f=I.Children.toArray(a),h=f.find(PC);if(h){const p=h.props.children,w=f.map(g=>g===h?I.Children.count(p)>1?I.Children.only(null):I.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:o,children:I.isValidElement(p)?I.cloneElement(p,void 0,w):null})}return _.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function RC(n){const e=I.forwardRef((t,r)=>{const{children:o,...a}=t;if(I.isValidElement(o)){const c=DC(o),f=NC(a,o.props);return o.type!==I.Fragment&&(f.ref=r?$a(r,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var kC=Symbol("radix.slottable");function PC(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===kC}function NC(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const h=a(...f);return o(...f),h}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function DC(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var OC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=OC.reduce((n,e)=>{const t=AC(`Primitive.${e}`),r=I.forwardRef((o,a)=>{const{asChild:c,...f}=o,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(h,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function MC(n,e){n&&wc.flushSync(()=>n.dispatchEvent(e))}function _o(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>e.current?.(...t),[])}function VC(n,e=globalThis?.document){const t=_o(n);I.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var LC="DismissableLayer",jp="dismissableLayer.update",jC="dismissableLayer.pointerDownOutside",FC="dismissableLayer.focusOutside",Aw,lE=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Om=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:f,...h}=n,p=I.useContext(lE),[w,g]=I.useState(null),T=w?.ownerDocument??globalThis?.document,[,C]=I.useState({}),V=Mt(e,R=>g(R)),A=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),U=A.indexOf(N),$=w?A.indexOf(w):-1,q=p.layersWithOutsidePointerEventsDisabled.size>0,J=$>=U,ee=BC(R=>{const S=R.target,P=[...p.branches].some(M=>M.contains(S));!J||P||(o?.(R),c?.(R),R.defaultPrevented||f?.())},T),re=$C(R=>{const S=R.target;[...p.branches].some(M=>M.contains(S))||(a?.(R),c?.(R),R.defaultPrevented||f?.())},T);return VC(R=>{$===p.layers.size-1&&(r?.(R),!R.defaultPrevented&&f&&(R.preventDefault(),f()))},T),I.useEffect(()=>{if(w)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Aw=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(w)),p.layers.add(w),Rw(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Aw)}},[w,T,t,p]),I.useEffect(()=>()=>{w&&(p.layers.delete(w),p.layersWithOutsidePointerEventsDisabled.delete(w),Rw())},[w,p]),I.useEffect(()=>{const R=()=>C({});return document.addEventListener(jp,R),()=>document.removeEventListener(jp,R)},[]),_.jsx(wt.div,{...h,ref:V,style:{pointerEvents:q?J?"auto":"none":void 0,...n.style},onFocusCapture:dt(n.onFocusCapture,re.onFocusCapture),onBlurCapture:dt(n.onBlurCapture,re.onBlurCapture),onPointerDownCapture:dt(n.onPointerDownCapture,ee.onPointerDownCapture)})});Om.displayName=LC;var UC="DismissableLayerBranch",zC=I.forwardRef((n,e)=>{const t=I.useContext(lE),r=I.useRef(null),o=Mt(e,r);return I.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),_.jsx(wt.div,{...n,ref:o})});zC.displayName=UC;function BC(n,e=globalThis?.document){const t=_o(n),r=I.useRef(!1),o=I.useRef(()=>{});return I.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let h=function(){cE(jC,t,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function $C(n,e=globalThis?.document){const t=_o(n),r=I.useRef(!1);return I.useEffect(()=>{const o=a=>{a.target&&!r.current&&cE(FC,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Rw(){const n=new CustomEvent(jp);document.dispatchEvent(n)}function cE(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?MC(o,a):o.dispatchEvent(a)}var up=0;function uE(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??kw()),document.body.insertAdjacentElement("beforeend",n[1]??kw()),up++,()=>{up===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),up--}},[])}function kw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var dp="focusScope.autoFocusOnMount",fp="focusScope.autoFocusOnUnmount",Pw={bubbles:!1,cancelable:!0},HC="FocusScope",Mm=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[f,h]=I.useState(null),p=_o(o),w=_o(a),g=I.useRef(null),T=Mt(e,A=>h(A)),C=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let A=function(q){if(C.paused||!f)return;const J=q.target;f.contains(J)?g.current=J:yi(g.current,{select:!0})},N=function(q){if(C.paused||!f)return;const J=q.relatedTarget;J!==null&&(f.contains(J)||yi(g.current,{select:!0}))},U=function(q){if(document.activeElement===document.body)for(const ee of q)ee.removedNodes.length>0&&yi(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",N);const $=new MutationObserver(U);return f&&$.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",N),$.disconnect()}}},[r,f,C.paused]),I.useEffect(()=>{if(f){Dw.add(C);const A=document.activeElement;if(!f.contains(A)){const U=new CustomEvent(dp,Pw);f.addEventListener(dp,p),f.dispatchEvent(U),U.defaultPrevented||(WC(YC(dE(f)),{select:!0}),document.activeElement===A&&yi(f))}return()=>{f.removeEventListener(dp,p),setTimeout(()=>{const U=new CustomEvent(fp,Pw);f.addEventListener(fp,w),f.dispatchEvent(U),U.defaultPrevented||yi(A??document.body,{select:!0}),f.removeEventListener(fp,w),Dw.remove(C)},0)}}},[f,p,w,C]);const V=I.useCallback(A=>{if(!t&&!r||C.paused)return;const N=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,U=document.activeElement;if(N&&U){const $=A.currentTarget,[q,J]=qC($);q&&J?!A.shiftKey&&U===J?(A.preventDefault(),t&&yi(q,{select:!0})):A.shiftKey&&U===q&&(A.preventDefault(),t&&yi(J,{select:!0})):U===$&&A.preventDefault()}},[t,r,C.paused]);return _.jsx(wt.div,{tabIndex:-1,...c,ref:T,onKeyDown:V})});Mm.displayName=HC;function WC(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(yi(r,{select:e}),document.activeElement!==t)return}function qC(n){const e=dE(n),t=Nw(e,n),r=Nw(e.reverse(),n);return[t,r]}function dE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Nw(n,e){for(const t of n)if(!GC(t,{upTo:e}))return t}function GC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function KC(n){return n instanceof HTMLInputElement&&"select"in n}function yi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&KC(n)&&e&&n.select()}}var Dw=QC();function QC(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Ow(n,e),n.unshift(e)},remove(e){n=Ow(n,e),n[0]?.resume()}}}function Ow(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function YC(n){return n.filter(e=>e.tagName!=="A")}var pn=globalThis?.document?I.useLayoutEffect:()=>{},XC=bm[" useId ".trim().toString()]||(()=>{}),JC=0;function Gd(n){const[e,t]=I.useState(XC());return pn(()=>{t(r=>r??String(JC++))},[n]),n||(e?`radix-${e}`:"")}const ZC=["top","right","bottom","left"],Ai=Math.min,Hn=Math.max,wd=Math.round,qu=Math.floor,ns=n=>({x:n,y:n}),eA={left:"right",right:"left",bottom:"top",top:"bottom"},tA={start:"end",end:"start"};function Fp(n,e,t){return Hn(n,Ai(e,t))}function Os(n,e){return typeof n=="function"?n(e):n}function Ms(n){return n.split("-")[0]}function Ga(n){return n.split("-")[1]}function Vm(n){return n==="x"?"y":"x"}function Lm(n){return n==="y"?"height":"width"}const nA=new Set(["top","bottom"]);function es(n){return nA.has(Ms(n))?"y":"x"}function jm(n){return Vm(es(n))}function rA(n,e,t){t===void 0&&(t=!1);const r=Ga(n),o=jm(n),a=Lm(o);let c=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=_d(c)),[c,_d(c)]}function sA(n){const e=_d(n);return[Up(n),e,Up(e)]}function Up(n){return n.replace(/start|end/g,e=>tA[e])}const Mw=["left","right"],Vw=["right","left"],iA=["top","bottom"],oA=["bottom","top"];function aA(n,e,t){switch(n){case"top":case"bottom":return t?e?Vw:Mw:e?Mw:Vw;case"left":case"right":return e?iA:oA;default:return[]}}function lA(n,e,t,r){const o=Ga(n);let a=aA(Ms(n),t==="start",r);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Up)))),a}function _d(n){return n.replace(/left|right|bottom|top/g,e=>eA[e])}function cA(n){return{top:0,right:0,bottom:0,left:0,...n}}function fE(n){return typeof n!="number"?cA(n):{top:n,right:n,bottom:n,left:n}}function Ed(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function Lw(n,e,t){let{reference:r,floating:o}=n;const a=es(e),c=jm(e),f=Lm(c),h=Ms(e),p=a==="y",w=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,T=r[f]/2-o[f]/2;let C;switch(h){case"top":C={x:w,y:r.y-o.height};break;case"bottom":C={x:w,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:g};break;case"left":C={x:r.x-o.width,y:g};break;default:C={x:r.x,y:r.y}}switch(Ga(e)){case"start":C[c]-=T*(t&&p?-1:1);break;case"end":C[c]+=T*(t&&p?-1:1);break}return C}const uA=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,f=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:w,y:g}=Lw(p,r,h),T=r,C={},V=0;for(let A=0;A<f.length;A++){const{name:N,fn:U}=f[A],{x:$,y:q,data:J,reset:ee}=await U({x:w,y:g,initialPlacement:r,placement:T,strategy:o,middlewareData:C,rects:p,platform:c,elements:{reference:n,floating:e}});w=$??w,g=q??g,C={...C,[N]:{...C[N],...J}},ee&&V<=50&&(V++,typeof ee=="object"&&(ee.placement&&(T=ee.placement),ee.rects&&(p=ee.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):ee.rects),{x:w,y:g}=Lw(p,T,h)),A=-1)}return{x:w,y:g,placement:T,strategy:o,middlewareData:C}};async function lc(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:c,elements:f,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:w="viewport",elementContext:g="floating",altBoundary:T=!1,padding:C=0}=Os(e,n),V=fE(C),N=f[T?g==="floating"?"reference":"floating":g],U=Ed(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(N)))==null||t?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:p,rootBoundary:w,strategy:h})),$=g==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),J=await(a.isElement==null?void 0:a.isElement(q))?await(a.getScale==null?void 0:a.getScale(q))||{x:1,y:1}:{x:1,y:1},ee=Ed(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:q,strategy:h}):$);return{top:(U.top-ee.top+V.top)/J.y,bottom:(ee.bottom-U.bottom+V.bottom)/J.y,left:(U.left-ee.left+V.left)/J.x,right:(ee.right-U.right+V.right)/J.x}}const dA=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:c,elements:f,middlewareData:h}=e,{element:p,padding:w=0}=Os(n,e)||{};if(p==null)return{};const g=fE(w),T={x:t,y:r},C=jm(o),V=Lm(C),A=await c.getDimensions(p),N=C==="y",U=N?"top":"left",$=N?"bottom":"right",q=N?"clientHeight":"clientWidth",J=a.reference[V]+a.reference[C]-T[C]-a.floating[V],ee=T[C]-a.reference[C],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let R=re?re[q]:0;(!R||!await(c.isElement==null?void 0:c.isElement(re)))&&(R=f.floating[q]||a.floating[V]);const S=J/2-ee/2,P=R/2-A[V]/2-1,M=Ai(g[U],P),O=Ai(g[$],P),F=M,k=R-A[V]-O,we=R/2-A[V]/2+S,Ae=Fp(F,we,k),ue=!h.arrow&&Ga(o)!=null&&we!==Ae&&a.reference[V]/2-(we<F?M:O)-A[V]/2<0,pe=ue?we<F?we-F:we-k:0;return{[C]:T[C]+pe,data:{[C]:Ae,centerOffset:we-Ae-pe,...ue&&{alignmentOffset:pe}},reset:ue}}}),fA=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:c,initialPlacement:f,platform:h,elements:p}=e,{mainAxis:w=!0,crossAxis:g=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:V="none",flipAlignment:A=!0,...N}=Os(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const U=Ms(o),$=es(f),q=Ms(f)===f,J=await(h.isRTL==null?void 0:h.isRTL(p.floating)),ee=T||(q||!A?[_d(f)]:sA(f)),re=V!=="none";!T&&re&&ee.push(...lA(f,A,V,J));const R=[f,...ee],S=await lc(e,N),P=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&P.push(S[U]),g){const we=rA(o,c,J);P.push(S[we[0]],S[we[1]])}if(M=[...M,{placement:o,overflows:P}],!P.every(we=>we<=0)){var O,F;const we=(((O=a.flip)==null?void 0:O.index)||0)+1,Ae=R[we];if(Ae&&(!(g==="alignment"?$!==es(Ae):!1)||M.every(B=>es(B.placement)===$?B.overflows[0]>0:!0)))return{data:{index:we,overflows:M},reset:{placement:Ae}};let ue=(F=M.filter(pe=>pe.overflows[0]<=0).sort((pe,B)=>pe.overflows[1]-B.overflows[1])[0])==null?void 0:F.placement;if(!ue)switch(C){case"bestFit":{var k;const pe=(k=M.filter(B=>{if(re){const le=es(B.placement);return le===$||le==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(le=>le>0).reduce((le,X)=>le+X,0)]).sort((B,le)=>B[1]-le[1])[0])==null?void 0:k[0];pe&&(ue=pe);break}case"initialPlacement":ue=f;break}if(o!==ue)return{reset:{placement:ue}}}return{}}}};function jw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Fw(n){return ZC.some(e=>n[e]>=0)}const hA=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Os(n,e);switch(r){case"referenceHidden":{const a=await lc(e,{...o,elementContext:"reference"}),c=jw(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Fw(c)}}}case"escaped":{const a=await lc(e,{...o,altBoundary:!0}),c=jw(a,t.floating);return{data:{escapedOffsets:c,escaped:Fw(c)}}}default:return{}}}}},hE=new Set(["left","top"]);async function pA(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Ms(t),f=Ga(t),h=es(t)==="y",p=hE.has(c)?-1:1,w=a&&h?-1:1,g=Os(e,n);let{mainAxis:T,crossAxis:C,alignmentAxis:V}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof V=="number"&&(C=f==="end"?V*-1:V),h?{x:C*w,y:T*p}:{x:T*p,y:C*w}}const mA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:c,middlewareData:f}=e,h=await pA(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:c}}}}},gA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:U,y:$}=N;return{x:U,y:$}}},...h}=Os(n,e),p={x:t,y:r},w=await lc(e,h),g=es(Ms(o)),T=Vm(g);let C=p[T],V=p[g];if(a){const N=T==="y"?"top":"left",U=T==="y"?"bottom":"right",$=C+w[N],q=C-w[U];C=Fp($,C,q)}if(c){const N=g==="y"?"top":"left",U=g==="y"?"bottom":"right",$=V+w[N],q=V-w[U];V=Fp($,V,q)}const A=f.fn({...e,[T]:C,[g]:V});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[T]:a,[g]:c}}}}}},yA=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=Os(n,e),w={x:t,y:r},g=es(o),T=Vm(g);let C=w[T],V=w[g];const A=Os(f,e),N=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(h){const q=T==="y"?"height":"width",J=a.reference[T]-a.floating[q]+N.mainAxis,ee=a.reference[T]+a.reference[q]-N.mainAxis;C<J?C=J:C>ee&&(C=ee)}if(p){var U,$;const q=T==="y"?"width":"height",J=hE.has(Ms(o)),ee=a.reference[g]-a.floating[q]+(J&&((U=c.offset)==null?void 0:U[g])||0)+(J?0:N.crossAxis),re=a.reference[g]+a.reference[q]+(J?0:(($=c.offset)==null?void 0:$[g])||0)-(J?N.crossAxis:0);V<ee?V=ee:V>re&&(V=re)}return{[T]:C,[g]:V}}}},vA=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:c,elements:f}=e,{apply:h=()=>{},...p}=Os(n,e),w=await lc(e,p),g=Ms(o),T=Ga(o),C=es(o)==="y",{width:V,height:A}=a.floating;let N,U;g==="top"||g==="bottom"?(N=g,U=T===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(U=g,N=T==="end"?"top":"bottom");const $=A-w.top-w.bottom,q=V-w.left-w.right,J=Ai(A-w[N],$),ee=Ai(V-w[U],q),re=!e.middlewareData.shift;let R=J,S=ee;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=$),re&&!T){const M=Hn(w.left,0),O=Hn(w.right,0),F=Hn(w.top,0),k=Hn(w.bottom,0);C?S=V-2*(M!==0||O!==0?M+O:Hn(w.left,w.right)):R=A-2*(F!==0||k!==0?F+k:Hn(w.top,w.bottom))}await h({...e,availableWidth:S,availableHeight:R});const P=await c.getDimensions(f.floating);return V!==P.width||A!==P.height?{reset:{rects:!0}}:{}}}};function Kd(){return typeof window<"u"}function Ka(n){return pE(n)?(n.nodeName||"").toLowerCase():"#document"}function qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hs(n){var e;return(e=(pE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function pE(n){return Kd()?n instanceof Node||n instanceof qn(n).Node:!1}function Ir(n){return Kd()?n instanceof Element||n instanceof qn(n).Element:!1}function us(n){return Kd()?n instanceof HTMLElement||n instanceof qn(n).HTMLElement:!1}function Uw(n){return!Kd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof qn(n).ShadowRoot}const wA=new Set(["inline","contents"]);function _c(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=br(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!wA.has(o)}const _A=new Set(["table","td","th"]);function EA(n){return _A.has(Ka(n))}const xA=[":popover-open",":modal"];function Qd(n){return xA.some(e=>{try{return n.matches(e)}catch{return!1}})}const TA=["transform","translate","scale","rotate","perspective"],SA=["transform","translate","scale","rotate","perspective","filter"],IA=["paint","layout","strict","content"];function Fm(n){const e=Um(),t=Ir(n)?br(n):n;return TA.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||SA.some(r=>(t.willChange||"").includes(r))||IA.some(r=>(t.contain||"").includes(r))}function bA(n){let e=Ri(n);for(;us(e)&&!Oa(e);){if(Fm(e))return e;if(Qd(e))return null;e=Ri(e)}return null}function Um(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CA=new Set(["html","body","#document"]);function Oa(n){return CA.has(Ka(n))}function br(n){return qn(n).getComputedStyle(n)}function Yd(n){return Ir(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ri(n){if(Ka(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Uw(n)&&n.host||hs(n);return Uw(e)?e.host:e}function mE(n){const e=Ri(n);return Oa(e)?n.ownerDocument?n.ownerDocument.body:n.body:us(e)&&_c(e)?e:mE(e)}function cc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=mE(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),c=qn(o);if(a){const f=zp(c);return e.concat(c,c.visualViewport||[],_c(o)?o:[],f&&t?cc(f):[])}return e.concat(o,cc(o,[],t))}function zp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function gE(n){const e=br(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=us(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:r,f=wd(t)!==a||wd(r)!==c;return f&&(t=a,r=c),{width:t,height:r,$:f}}function zm(n){return Ir(n)?n:n.contextElement}function ba(n){const e=zm(n);if(!us(e))return ns(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=gE(e);let c=(a?wd(t.width):t.width)/r,f=(a?wd(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const AA=ns(0);function yE(n){const e=qn(n);return!Um()||!e.visualViewport?AA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RA(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==qn(n)?!1:e}function Eo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=zm(n);let c=ns(1);e&&(r?Ir(r)&&(c=ba(r)):c=ba(n));const f=RA(a,t,r)?yE(a):ns(0);let h=(o.left+f.x)/c.x,p=(o.top+f.y)/c.y,w=o.width/c.x,g=o.height/c.y;if(a){const T=qn(a),C=r&&Ir(r)?qn(r):r;let V=T,A=zp(V);for(;A&&r&&C!==V;){const N=ba(A),U=A.getBoundingClientRect(),$=br(A),q=U.left+(A.clientLeft+parseFloat($.paddingLeft))*N.x,J=U.top+(A.clientTop+parseFloat($.paddingTop))*N.y;h*=N.x,p*=N.y,w*=N.x,g*=N.y,h+=q,p+=J,V=qn(A),A=zp(V)}}return Ed({width:w,height:g,x:h,y:p})}function Xd(n,e){const t=Yd(n).scrollLeft;return e?e.left+t:Eo(hs(n)).left+t}function vE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Xd(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function kA(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",c=hs(r),f=e?Qd(e.floating):!1;if(r===c||f&&a)return t;let h={scrollLeft:0,scrollTop:0},p=ns(1);const w=ns(0),g=us(r);if((g||!g&&!a)&&((Ka(r)!=="body"||_c(c))&&(h=Yd(r)),us(r))){const C=Eo(r);p=ba(r),w.x=C.x+r.clientLeft,w.y=C.y+r.clientTop}const T=c&&!g&&!a?vE(c,h):ns(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+w.x+T.x,y:t.y*p.y-h.scrollTop*p.y+w.y+T.y}}function PA(n){return Array.from(n.getClientRects())}function NA(n){const e=hs(n),t=Yd(n),r=n.ownerDocument.body,o=Hn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Hn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Xd(n);const f=-t.scrollTop;return br(r).direction==="rtl"&&(c+=Hn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:c,y:f}}const zw=25;function DA(n,e){const t=qn(n),r=hs(n),o=t.visualViewport;let a=r.clientWidth,c=r.clientHeight,f=0,h=0;if(o){a=o.width,c=o.height;const w=Um();(!w||w&&e==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const p=Xd(r);if(p<=0){const w=r.ownerDocument,g=w.body,T=getComputedStyle(g),C=w.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,V=Math.abs(r.clientWidth-g.clientWidth-C);V<=zw&&(a-=V)}else p<=zw&&(a+=p);return{width:a,height:c,x:f,y:h}}const OA=new Set(["absolute","fixed"]);function MA(n,e){const t=Eo(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=us(n)?ba(n):ns(1),c=n.clientWidth*a.x,f=n.clientHeight*a.y,h=o*a.x,p=r*a.y;return{width:c,height:f,x:h,y:p}}function Bw(n,e,t){let r;if(e==="viewport")r=DA(n,t);else if(e==="document")r=NA(hs(n));else if(Ir(e))r=MA(e,t);else{const o=yE(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ed(r)}function wE(n,e){const t=Ri(n);return t===e||!Ir(t)||Oa(t)?!1:br(t).position==="fixed"||wE(t,e)}function VA(n,e){const t=e.get(n);if(t)return t;let r=cc(n,[],!1).filter(f=>Ir(f)&&Ka(f)!=="body"),o=null;const a=br(n).position==="fixed";let c=a?Ri(n):n;for(;Ir(c)&&!Oa(c);){const f=br(c),h=Fm(c);!h&&f.position==="fixed"&&(o=null),(a?!h&&!o:!h&&f.position==="static"&&!!o&&OA.has(o.position)||_c(c)&&!h&&wE(n,c))?r=r.filter(w=>w!==c):o=f,c=Ri(c)}return e.set(n,r),r}function LA(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const c=[...t==="clippingAncestors"?Qd(e)?[]:VA(e,this._c):[].concat(t),r],f=c[0],h=c.reduce((p,w)=>{const g=Bw(e,w,o);return p.top=Hn(g.top,p.top),p.right=Ai(g.right,p.right),p.bottom=Ai(g.bottom,p.bottom),p.left=Hn(g.left,p.left),p},Bw(e,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function jA(n){const{width:e,height:t}=gE(n);return{width:e,height:t}}function FA(n,e,t){const r=us(e),o=hs(e),a=t==="fixed",c=Eo(n,!0,a,e);let f={scrollLeft:0,scrollTop:0};const h=ns(0);function p(){h.x=Xd(o)}if(r||!r&&!a)if((Ka(e)!=="body"||_c(o))&&(f=Yd(e)),r){const C=Eo(e,!0,a,e);h.x=C.x+e.clientLeft,h.y=C.y+e.clientTop}else o&&p();a&&!r&&o&&p();const w=o&&!r&&!a?vE(o,f):ns(0),g=c.left+f.scrollLeft-h.x-w.x,T=c.top+f.scrollTop-h.y-w.y;return{x:g,y:T,width:c.width,height:c.height}}function hp(n){return br(n).position==="static"}function $w(n,e){if(!us(n)||br(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hs(n)===t&&(t=t.ownerDocument.body),t}function _E(n,e){const t=qn(n);if(Qd(n))return t;if(!us(n)){let o=Ri(n);for(;o&&!Oa(o);){if(Ir(o)&&!hp(o))return o;o=Ri(o)}return t}let r=$w(n,e);for(;r&&EA(r)&&hp(r);)r=$w(r,e);return r&&Oa(r)&&hp(r)&&!Fm(r)?t:r||bA(n)||t}const UA=async function(n){const e=this.getOffsetParent||_E,t=this.getDimensions,r=await t(n.floating);return{reference:FA(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zA(n){return br(n).direction==="rtl"}const BA={convertOffsetParentRelativeRectToViewportRelativeRect:kA,getDocumentElement:hs,getClippingRect:LA,getOffsetParent:_E,getElementRects:UA,getClientRects:PA,getDimensions:jA,getScale:ba,isElement:Ir,isRTL:zA};function EE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function $A(n,e){let t=null,r;const o=hs(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),a();const p=n.getBoundingClientRect(),{left:w,top:g,width:T,height:C}=p;if(f||e(),!T||!C)return;const V=qu(g),A=qu(o.clientWidth-(w+T)),N=qu(o.clientHeight-(g+C)),U=qu(w),q={rootMargin:-V+"px "+-A+"px "+-N+"px "+-U+"px",threshold:Hn(0,Ai(1,h))||1};let J=!0;function ee(re){const R=re[0].intersectionRatio;if(R!==h){if(!J)return c();R?c(!1,R):r=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!EE(p,n.getBoundingClientRect())&&c(),J=!1}try{t=new IntersectionObserver(ee,{...q,root:o.ownerDocument})}catch{t=new IntersectionObserver(ee,q)}t.observe(n)}return c(!0),a}function HA(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=zm(n),w=o||a?[...p?cc(p):[],...cc(e)]:[];w.forEach(U=>{o&&U.addEventListener("scroll",t,{passive:!0}),a&&U.addEventListener("resize",t)});const g=p&&f?$A(p,t):null;let T=-1,C=null;c&&(C=new ResizeObserver(U=>{let[$]=U;$&&$.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var q;(q=C)==null||q.observe(e)})),t()}),p&&!h&&C.observe(p),C.observe(e));let V,A=h?Eo(n):null;h&&N();function N(){const U=Eo(n);A&&!EE(A,U)&&t(),A=U,V=requestAnimationFrame(N)}return t(),()=>{var U;w.forEach($=>{o&&$.removeEventListener("scroll",t),a&&$.removeEventListener("resize",t)}),g?.(),(U=C)==null||U.disconnect(),C=null,h&&cancelAnimationFrame(V)}}const WA=mA,qA=gA,GA=fA,KA=vA,QA=hA,Hw=dA,YA=yA,XA=(n,e,t)=>{const r=new Map,o={platform:BA,...t},a={...o.platform,_c:r};return uA(n,e,{...o,platform:a})};var JA=typeof document<"u",ZA=function(){},id=JA?I.useLayoutEffect:ZA;function xd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!xd(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!xd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function xE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ww(n,e){const t=xE(n);return Math.round(e*t)/t}function pp(n){const e=I.useRef(n);return id(()=>{e.current=n}),e}function eR(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:c}={},transform:f=!0,whileElementsMounted:h,open:p}=n,[w,g]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=I.useState(r);xd(T,r)||C(r);const[V,A]=I.useState(null),[N,U]=I.useState(null),$=I.useCallback(B=>{B!==re.current&&(re.current=B,A(B))},[]),q=I.useCallback(B=>{B!==R.current&&(R.current=B,U(B))},[]),J=a||V,ee=c||N,re=I.useRef(null),R=I.useRef(null),S=I.useRef(w),P=h!=null,M=pp(h),O=pp(o),F=pp(p),k=I.useCallback(()=>{if(!re.current||!R.current)return;const B={placement:e,strategy:t,middleware:T};O.current&&(B.platform=O.current),XA(re.current,R.current,B).then(le=>{const X={...le,isPositioned:F.current!==!1};we.current&&!xd(S.current,X)&&(S.current=X,wc.flushSync(()=>{g(X)}))})},[T,e,t,O,F]);id(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[p]);const we=I.useRef(!1);id(()=>(we.current=!0,()=>{we.current=!1}),[]),id(()=>{if(J&&(re.current=J),ee&&(R.current=ee),J&&ee){if(M.current)return M.current(J,ee,k);k()}},[J,ee,k,M,P]);const Ae=I.useMemo(()=>({reference:re,floating:R,setReference:$,setFloating:q}),[$,q]),ue=I.useMemo(()=>({reference:J,floating:ee}),[J,ee]),pe=I.useMemo(()=>{const B={position:t,left:0,top:0};if(!ue.floating)return B;const le=Ww(ue.floating,w.x),X=Ww(ue.floating,w.y);return f?{...B,transform:"translate("+le+"px, "+X+"px)",...xE(ue.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:X}},[t,f,ue.floating,w.x,w.y]);return I.useMemo(()=>({...w,update:k,refs:Ae,elements:ue,floatingStyles:pe}),[w,k,Ae,ue,pe])}const tR=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Hw({element:r.current,padding:o}).fn(t):{}:r?Hw({element:r,padding:o}).fn(t):{}}}},nR=(n,e)=>({...WA(n),options:[n,e]}),rR=(n,e)=>({...qA(n),options:[n,e]}),sR=(n,e)=>({...YA(n),options:[n,e]}),iR=(n,e)=>({...GA(n),options:[n,e]}),oR=(n,e)=>({...KA(n),options:[n,e]}),aR=(n,e)=>({...QA(n),options:[n,e]}),lR=(n,e)=>({...tR(n),options:[n,e]});var cR="Arrow",TE=I.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return _.jsx(wt.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});TE.displayName=cR;var uR=TE;function dR(n){const[e,t]=I.useState(void 0);return pn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,f;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,f=p.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Bm="Popper",[SE,Jd]=qd(Bm),[fR,IE]=SE(Bm),bE=n=>{const{__scopePopper:e,children:t}=n,[r,o]=I.useState(null);return _.jsx(fR,{scope:e,anchor:r,onAnchorChange:o,children:t})};bE.displayName=Bm;var CE="PopperAnchor",AE=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=IE(CE,t),c=I.useRef(null),f=Mt(e,c),h=I.useRef(null);return I.useEffect(()=>{const p=h.current;h.current=r?.current||c.current,p!==h.current&&a.onAnchorChange(h.current)}),r?null:_.jsx(wt.div,{...o,ref:f})});AE.displayName=CE;var $m="PopperContent",[hR,pR]=SE($m),RE=I.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:w=0,sticky:g="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:V,...A}=n,N=IE($m,t),[U,$]=I.useState(null),q=Mt(e,se=>$(se)),[J,ee]=I.useState(null),re=dR(J),R=re?.width??0,S=re?.height??0,P=r+(a!=="center"?"-"+a:""),M=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},O=Array.isArray(p)?p:[p],F=O.length>0,k={padding:M,boundary:O.filter(gR),altBoundary:F},{refs:we,floatingStyles:Ae,placement:ue,isPositioned:pe,middlewareData:B}=eR({strategy:"fixed",placement:P,whileElementsMounted:(...se)=>HA(...se,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[nR({mainAxis:o+S,alignmentAxis:c}),h&&rR({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?sR():void 0,...k}),h&&iR({...k}),oR({...k,apply:({elements:se,rects:he,availableWidth:Re,availableHeight:De})=>{const{width:ze,height:$e}=he.reference,pt=se.floating.style;pt.setProperty("--radix-popper-available-width",`${Re}px`),pt.setProperty("--radix-popper-available-height",`${De}px`),pt.setProperty("--radix-popper-anchor-width",`${ze}px`),pt.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),J&&lR({element:J,padding:f}),yR({arrowWidth:R,arrowHeight:S}),T&&aR({strategy:"referenceHidden",...k})]}),[le,X]=NE(ue),L=_o(V);pn(()=>{pe&&L?.()},[pe,L]);const K=B.arrow?.x,ne=B.arrow?.y,ce=B.arrow?.centerOffset!==0,[ye,be]=I.useState();return pn(()=>{U&&be(window.getComputedStyle(U).zIndex)},[U]),_.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:pe?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:_.jsx(hR,{scope:t,placedSide:le,onArrowChange:ee,arrowX:K,arrowY:ne,shouldHideArrow:ce,children:_.jsx(wt.div,{"data-side":le,"data-align":X,...A,ref:q,style:{...A.style,animation:pe?void 0:"none"}})})})});RE.displayName=$m;var kE="PopperArrow",mR={top:"bottom",right:"left",bottom:"top",left:"right"},PE=I.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=pR(kE,r),c=mR[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(uR,{...o,ref:t,style:{...o.style,display:"block"}})})});PE.displayName=kE;function gR(n){return n!==null}var yR=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,f=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[p,w]=NE(t),g={start:"0%",center:"50%",end:"100%"}[w],T=(o.arrow?.x??0)+f/2,C=(o.arrow?.y??0)+h/2;let V="",A="";return p==="bottom"?(V=c?g:`${T}px`,A=`${-h}px`):p==="top"?(V=c?g:`${T}px`,A=`${r.floating.height+h}px`):p==="right"?(V=`${-h}px`,A=c?g:`${C}px`):p==="left"&&(V=`${r.floating.width+h}px`,A=c?g:`${C}px`),{data:{x:V,y:A}}}});function NE(n){const[e,t="center"]=n.split("-");return[e,t]}var DE=bE,Hm=AE,OE=RE,ME=PE,vR="Portal",Wm=I.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=I.useState(!1);pn(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?oE.createPortal(_.jsx(wt.div,{...r,ref:e}),c):null});Wm.displayName=vR;function wR(n){const e=_R(n),t=I.forwardRef((r,o)=>{const{children:a,...c}=r,f=I.Children.toArray(a),h=f.find(xR);if(h){const p=h.props.children,w=f.map(g=>g===h?I.Children.count(p)>1?I.Children.only(null):I.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:o,children:I.isValidElement(p)?I.cloneElement(p,void 0,w):null})}return _.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function _R(n){const e=I.forwardRef((t,r)=>{const{children:o,...a}=t;if(I.isValidElement(o)){const c=SR(o),f=TR(a,o.props);return o.type!==I.Fragment&&(f.ref=r?$a(r,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var ER=Symbol("radix.slottable");function xR(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===ER}function TR(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const h=a(...f);return o(...f),h}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function SR(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var IR=bm[" useInsertionEffect ".trim().toString()]||pn;function Bp({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,c]=bR({defaultProp:e,onChange:t}),f=n!==void 0,h=f?n:o;{const w=I.useRef(n!==void 0);I.useEffect(()=>{const g=w.current;g!==f&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=f},[f,r])}const p=I.useCallback(w=>{if(f){const g=CR(w)?w(n):w;g!==n&&c.current?.(g)}else a(w)},[f,n,a,c]);return[h,p]}function bR({defaultProp:n,onChange:e}){const[t,r]=I.useState(n),o=I.useRef(t),a=I.useRef(e);return IR(()=>{a.current=e},[e]),I.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function CR(n){return typeof n=="function"}function AR(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var VE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RR="VisuallyHidden",kR=I.forwardRef((n,e)=>_.jsx(wt.span,{...n,ref:e,style:{...VE,...n.style}}));kR.displayName=RR;var PR=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},va=new WeakMap,Gu=new WeakMap,Ku={},mp=0,LE=function(n){return n&&(n.host||LE(n.parentNode))},NR=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=LE(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},DR=function(n,e,t,r){var o=NR(e,Array.isArray(n)?n:[n]);Ku[t]||(Ku[t]=new WeakMap);var a=Ku[t],c=[],f=new Set,h=new Set(o),p=function(g){!g||f.has(g)||(f.add(g),p(g.parentNode))};o.forEach(p);var w=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(T){if(f.has(T))w(T);else try{var C=T.getAttribute(r),V=C!==null&&C!=="false",A=(va.get(T)||0)+1,N=(a.get(T)||0)+1;va.set(T,A),a.set(T,N),c.push(T),A===1&&V&&Gu.set(T,!0),N===1&&T.setAttribute(t,"true"),V||T.setAttribute(r,"true")}catch(U){console.error("aria-hidden: cannot operate on ",T,U)}})};return w(e),f.clear(),mp++,function(){c.forEach(function(g){var T=va.get(g)-1,C=a.get(g)-1;va.set(g,T),a.set(g,C),T||(Gu.has(g)||g.removeAttribute(r),Gu.delete(g)),C||g.removeAttribute(t)}),mp--,mp||(va=new WeakMap,va=new WeakMap,Gu=new WeakMap,Ku={})}},jE=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=PR(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),DR(r,o,t,"aria-hidden")):function(){return null}},Zr=function(){return Zr=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Zr.apply(this,arguments)};function FE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function OR(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var od="right-scroll-bar-position",ad="width-before-scroll-bar",MR="with-scroll-bars-hidden",VR="--removed-body-scroll-bar-size";function gp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function LR(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var jR=typeof window<"u"?I.useLayoutEffect:I.useEffect,qw=new WeakMap;function FR(n,e){var t=LR(null,function(r){return n.forEach(function(o){return gp(o,r)})});return jR(function(){var r=qw.get(t);if(r){var o=new Set(r),a=new Set(n),c=t.current;o.forEach(function(f){a.has(f)||gp(f,null)}),a.forEach(function(f){o.has(f)||gp(f,c)})}qw.set(t,n)},[n]),t}function UR(n){return n}function zR(n,e){e===void 0&&(e=UR);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,r);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(a){for(r=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(f){return a(f)},filter:function(){return t}}},assignMedium:function(a){r=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(a),c=t}var h=function(){var w=c;c=[],w.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(w){c.push(w),p()},filter:function(w){return c=c.filter(w),t}}}};return o}function BR(n){n===void 0&&(n={});var e=zR(null);return e.options=Zr({async:!0,ssr:!1},n),e}var UE=function(n){var e=n.sideCar,t=FE(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,Zr({},t))};UE.isSideCarExport=!0;function $R(n,e){return n.useMedium(e),UE}var zE=BR(),yp=function(){},Zd=I.forwardRef(function(n,e){var t=I.useRef(null),r=I.useState({onScrollCapture:yp,onWheelCapture:yp,onTouchMoveCapture:yp}),o=r[0],a=r[1],c=n.forwardProps,f=n.children,h=n.className,p=n.removeScrollBar,w=n.enabled,g=n.shards,T=n.sideCar,C=n.noRelative,V=n.noIsolation,A=n.inert,N=n.allowPinchZoom,U=n.as,$=U===void 0?"div":U,q=n.gapMode,J=FE(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=T,re=FR([t,e]),R=Zr(Zr({},J),o);return I.createElement(I.Fragment,null,w&&I.createElement(ee,{sideCar:zE,removeScrollBar:p,shards:g,noRelative:C,noIsolation:V,inert:A,setCallbacks:a,allowPinchZoom:!!N,lockRef:t,gapMode:q}),c?I.cloneElement(I.Children.only(f),Zr(Zr({},R),{ref:re})):I.createElement($,Zr({},R,{className:h,ref:re}),f))});Zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zd.classNames={fullWidth:ad,zeroRight:od};var HR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WR(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=HR();return e&&n.setAttribute("nonce",e),n}function qR(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function GR(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var KR=function(){var n=0,e=null;return{add:function(t){n==0&&(e=WR())&&(qR(e,t),GR(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QR=function(){var n=KR();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},BE=function(){var n=QR(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},YR={left:0,top:0,right:0,gap:0},vp=function(n){return parseInt(n||"",10)||0},XR=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[vp(t),vp(r),vp(o)]},JR=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return YR;var e=XR(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},ZR=BE(),Ca="data-scroll-locked",ek=function(n,e,t,r){var o=n.left,a=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(MR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Ca,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(od,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(ad,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ca,`] {
    `).concat(VR,": ").concat(f,`px;
  }
`)},Gw=function(){var n=parseInt(document.body.getAttribute(Ca)||"0",10);return isFinite(n)?n:0},tk=function(){I.useEffect(function(){return document.body.setAttribute(Ca,(Gw()+1).toString()),function(){var n=Gw()-1;n<=0?document.body.removeAttribute(Ca):document.body.setAttribute(Ca,n.toString())}},[])},nk=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;tk();var a=I.useMemo(function(){return JR(o)},[o]);return I.createElement(ZR,{styles:ek(a,!e,o,t?"":"!important")})},$p=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{$p=!1}var wa=$p?{passive:!1}:!1,rk=function(n){return n.tagName==="TEXTAREA"},$E=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!rk(n)&&t[e]==="visible")},sk=function(n){return $E(n,"overflowY")},ik=function(n){return $E(n,"overflowX")},Kw=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=HE(n,r);if(o){var a=WE(n,r),c=a[1],f=a[2];if(c>f)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},ok=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ak=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},HE=function(n,e){return n==="v"?sk(e):ik(e)},WE=function(n,e){return n==="v"?ok(e):ak(e)},lk=function(n,e){return n==="h"&&e==="rtl"?-1:1},ck=function(n,e,t,r,o){var a=lk(n,window.getComputedStyle(e).direction),c=a*r,f=t.target,h=e.contains(f),p=!1,w=c>0,g=0,T=0;do{if(!f)break;var C=WE(n,f),V=C[0],A=C[1],N=C[2],U=A-N-a*V;(V||U)&&HE(n,f)&&(g+=U,T+=V);var $=f.parentNode;f=$&&$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$.host:$}while(!h&&f!==document.body||h&&(e.contains(f)||e===f));return(w&&Math.abs(g)<1||!w&&Math.abs(T)<1)&&(p=!0),p},Yu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Qw=function(n){return[n.deltaX,n.deltaY]},Yw=function(n){return n&&"current"in n?n.current:n},uk=function(n,e){return n[0]===e[0]&&n[1]===e[1]},dk=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},fk=0,_a=[];function hk(n){var e=I.useRef([]),t=I.useRef([0,0]),r=I.useRef(),o=I.useState(fk++)[0],a=I.useState(BE)[0],c=I.useRef(n);I.useEffect(function(){c.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var A=OR([n.lockRef.current],(n.shards||[]).map(Yw),!0).filter(Boolean);return A.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),A.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=I.useCallback(function(A,N){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var U=Yu(A),$=t.current,q="deltaX"in A?A.deltaX:$[0]-U[0],J="deltaY"in A?A.deltaY:$[1]-U[1],ee,re=A.target,R=Math.abs(q)>Math.abs(J)?"h":"v";if("touches"in A&&R==="h"&&re.type==="range")return!1;var S=Kw(R,re);if(!S)return!0;if(S?ee=R:(ee=R==="v"?"h":"v",S=Kw(R,re)),!S)return!1;if(!r.current&&"changedTouches"in A&&(q||J)&&(r.current=ee),!ee)return!0;var P=r.current||ee;return ck(P,N,A,P==="h"?q:J)},[]),h=I.useCallback(function(A){var N=A;if(!(!_a.length||_a[_a.length-1]!==a)){var U="deltaY"in N?Qw(N):Yu(N),$=e.current.filter(function(ee){return ee.name===N.type&&(ee.target===N.target||N.target===ee.shadowParent)&&uk(ee.delta,U)})[0];if($&&$.should){N.cancelable&&N.preventDefault();return}if(!$){var q=(c.current.shards||[]).map(Yw).filter(Boolean).filter(function(ee){return ee.contains(N.target)}),J=q.length>0?f(N,q[0]):!c.current.noIsolation;J&&N.cancelable&&N.preventDefault()}}},[]),p=I.useCallback(function(A,N,U,$){var q={name:A,delta:N,target:U,should:$,shadowParent:pk(U)};e.current.push(q),setTimeout(function(){e.current=e.current.filter(function(J){return J!==q})},1)},[]),w=I.useCallback(function(A){t.current=Yu(A),r.current=void 0},[]),g=I.useCallback(function(A){p(A.type,Qw(A),A.target,f(A,n.lockRef.current))},[]),T=I.useCallback(function(A){p(A.type,Yu(A),A.target,f(A,n.lockRef.current))},[]);I.useEffect(function(){return _a.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:T}),document.addEventListener("wheel",h,wa),document.addEventListener("touchmove",h,wa),document.addEventListener("touchstart",w,wa),function(){_a=_a.filter(function(A){return A!==a}),document.removeEventListener("wheel",h,wa),document.removeEventListener("touchmove",h,wa),document.removeEventListener("touchstart",w,wa)}},[]);var C=n.removeScrollBar,V=n.inert;return I.createElement(I.Fragment,null,V?I.createElement(a,{styles:dk(o)}):null,C?I.createElement(nk,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function pk(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const mk=$R(zE,hk);var qm=I.forwardRef(function(n,e){return I.createElement(Zd,Zr({},n,{ref:e,sideCar:mk}))});qm.classNames=Zd.classNames;var gk=[" ","Enter","ArrowUp","ArrowDown"],yk=[" ","Enter"],xo="Select",[ef,tf,vk]=IC(xo),[Qa]=qd(xo,[vk,Jd]),nf=Jd(),[wk,Li]=Qa(xo),[_k,Ek]=Qa(xo),qE=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:c,defaultValue:f,onValueChange:h,dir:p,name:w,autoComplete:g,disabled:T,required:C,form:V}=n,A=nf(e),[N,U]=I.useState(null),[$,q]=I.useState(null),[J,ee]=I.useState(!1),re=CC(p),[R,S]=Bp({prop:r,defaultProp:o??!1,onChange:a,caller:xo}),[P,M]=Bp({prop:c,defaultProp:f,onChange:h,caller:xo}),O=I.useRef(null),F=N?V||!!N.closest("form"):!0,[k,we]=I.useState(new Set),Ae=Array.from(k).map(ue=>ue.props.value).join(";");return _.jsx(DE,{...A,children:_.jsxs(wk,{required:C,scope:e,trigger:N,onTriggerChange:U,valueNode:$,onValueNodeChange:q,valueNodeHasChildren:J,onValueNodeHasChildrenChange:ee,contentId:Gd(),value:P,onValueChange:M,open:R,onOpenChange:S,dir:re,triggerPointerDownPosRef:O,disabled:T,children:[_.jsx(ef.Provider,{scope:e,children:_.jsx(_k,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(ue=>{we(pe=>new Set(pe).add(ue))},[]),onNativeOptionRemove:I.useCallback(ue=>{we(pe=>{const B=new Set(pe);return B.delete(ue),B})},[]),children:t})}),F?_.jsxs(px,{"aria-hidden":!0,required:C,tabIndex:-1,name:w,autoComplete:g,value:P,onChange:ue=>M(ue.target.value),disabled:T,form:V,children:[P===void 0?_.jsx("option",{value:""}):null,Array.from(k)]},Ae):null]})})};qE.displayName=xo;var GE="SelectTrigger",KE=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=nf(t),c=Li(GE,t),f=c.disabled||r,h=Mt(e,c.onTriggerChange),p=tf(t),w=I.useRef("touch"),[g,T,C]=gx(A=>{const N=p().filter(q=>!q.disabled),U=N.find(q=>q.value===c.value),$=yx(N,A,U);$!==void 0&&c.onValueChange($.value)}),V=A=>{f||(c.onOpenChange(!0),C()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return _.jsx(Hm,{asChild:!0,...a,children:_.jsx(wt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":mx(c.value)?"":void 0,...o,ref:h,onClick:dt(o.onClick,A=>{A.currentTarget.focus(),w.current!=="mouse"&&V(A)}),onPointerDown:dt(o.onPointerDown,A=>{w.current=A.pointerType;const N=A.target;N.hasPointerCapture(A.pointerId)&&N.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(V(A),A.preventDefault())}),onKeyDown:dt(o.onKeyDown,A=>{const N=g.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&T(A.key),!(N&&A.key===" ")&&gk.includes(A.key)&&(V(),A.preventDefault())})})})});KE.displayName=GE;var QE="SelectValue",YE=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:c="",...f}=n,h=Li(QE,t),{onValueNodeHasChildrenChange:p}=h,w=a!==void 0,g=Mt(e,h.onValueNodeChange);return pn(()=>{p(w)},[p,w]),_.jsx(wt.span,{...f,ref:g,style:{pointerEvents:"none"},children:mx(h.value)?_.jsx(_.Fragment,{children:c}):a})});YE.displayName=QE;var xk="SelectIcon",XE=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return _.jsx(wt.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});XE.displayName=xk;var Tk="SelectPortal",JE=n=>_.jsx(Wm,{asChild:!0,...n});JE.displayName=Tk;var To="SelectContent",ZE=I.forwardRef((n,e)=>{const t=Li(To,n.__scopeSelect),[r,o]=I.useState();if(pn(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?wc.createPortal(_.jsx(ex,{scope:n.__scopeSelect,children:_.jsx(ef.Slot,{scope:n.__scopeSelect,children:_.jsx("div",{children:n.children})})}),a):null}return _.jsx(tx,{...n,ref:e})});ZE.displayName=To;var xr=10,[ex,ji]=Qa(To),Sk="SelectContentImpl",Ik=wR("SelectContent.RemoveScroll"),tx=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:f,sideOffset:h,align:p,alignOffset:w,arrowPadding:g,collisionBoundary:T,collisionPadding:C,sticky:V,hideWhenDetached:A,avoidCollisions:N,...U}=n,$=Li(To,t),[q,J]=I.useState(null),[ee,re]=I.useState(null),R=Mt(e,se=>J(se)),[S,P]=I.useState(null),[M,O]=I.useState(null),F=tf(t),[k,we]=I.useState(!1),Ae=I.useRef(!1);I.useEffect(()=>{if(q)return jE(q)},[q]),uE();const ue=I.useCallback(se=>{const[he,...Re]=F().map($e=>$e.ref.current),[De]=Re.slice(-1),ze=document.activeElement;for(const $e of se)if($e===ze||($e?.scrollIntoView({block:"nearest"}),$e===he&&ee&&(ee.scrollTop=0),$e===De&&ee&&(ee.scrollTop=ee.scrollHeight),$e?.focus(),document.activeElement!==ze))return},[F,ee]),pe=I.useCallback(()=>ue([S,q]),[ue,S,q]);I.useEffect(()=>{k&&pe()},[k,pe]);const{onOpenChange:B,triggerPointerDownPosRef:le}=$;I.useEffect(()=>{if(q){let se={x:0,y:0};const he=De=>{se={x:Math.abs(Math.round(De.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(le.current?.y??0))}},Re=De=>{se.x<=10&&se.y<=10?De.preventDefault():q.contains(De.target)||B(!1),document.removeEventListener("pointermove",he),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Re,{capture:!0})}}},[q,B,le]),I.useEffect(()=>{const se=()=>B(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[B]);const[X,L]=gx(se=>{const he=F().filter(ze=>!ze.disabled),Re=he.find(ze=>ze.ref.current===document.activeElement),De=yx(he,se,Re);De&&setTimeout(()=>De.ref.current.focus())}),K=I.useCallback((se,he,Re)=>{const De=!Ae.current&&!Re;($.value!==void 0&&$.value===he||De)&&(P(se),De&&(Ae.current=!0))},[$.value]),ne=I.useCallback(()=>q?.focus(),[q]),ce=I.useCallback((se,he,Re)=>{const De=!Ae.current&&!Re;($.value!==void 0&&$.value===he||De)&&O(se)},[$.value]),ye=r==="popper"?Hp:nx,be=ye===Hp?{side:f,sideOffset:h,align:p,alignOffset:w,arrowPadding:g,collisionBoundary:T,collisionPadding:C,sticky:V,hideWhenDetached:A,avoidCollisions:N}:{};return _.jsx(ex,{scope:t,content:q,viewport:ee,onViewportChange:re,itemRefCallback:K,selectedItem:S,onItemLeave:ne,itemTextRefCallback:ce,focusSelectedItem:pe,selectedItemText:M,position:r,isPositioned:k,searchRef:X,children:_.jsx(qm,{as:Ik,allowPinchZoom:!0,children:_.jsx(Mm,{asChild:!0,trapped:$.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:dt(o,se=>{$.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:_.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>$.onOpenChange(!1),children:_.jsx(ye,{role:"listbox",id:$.contentId,"data-state":$.open?"open":"closed",dir:$.dir,onContextMenu:se=>se.preventDefault(),...U,...be,onPlaced:()=>we(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...U.style},onKeyDown:dt(U.onKeyDown,se=>{const he=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!he&&se.key.length===1&&L(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let De=F().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(se.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ze=se.target,$e=De.indexOf(ze);De=De.slice($e+1)}setTimeout(()=>ue(De)),se.preventDefault()}})})})})})})});tx.displayName=Sk;var bk="SelectItemAlignedPosition",nx=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=Li(To,t),c=ji(To,t),[f,h]=I.useState(null),[p,w]=I.useState(null),g=Mt(e,R=>w(R)),T=tf(t),C=I.useRef(!1),V=I.useRef(!0),{viewport:A,selectedItem:N,selectedItemText:U,focusSelectedItem:$}=c,q=I.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&p&&A&&N&&U){const R=a.trigger.getBoundingClientRect(),S=p.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),M=U.getBoundingClientRect();if(a.dir!=="rtl"){const ze=M.left-S.left,$e=P.left-ze,pt=R.left-$e,zt=R.width+pt,Pr=Math.max(zt,S.width),Nn=window.innerWidth-xr,Qt=bw($e,[xr,Math.max(xr,Nn-Pr)]);f.style.minWidth=zt+"px",f.style.left=Qt+"px"}else{const ze=S.right-M.right,$e=window.innerWidth-P.right-ze,pt=window.innerWidth-R.right-$e,zt=R.width+pt,Pr=Math.max(zt,S.width),Nn=window.innerWidth-xr,Qt=bw($e,[xr,Math.max(xr,Nn-Pr)]);f.style.minWidth=zt+"px",f.style.right=Qt+"px"}const O=T(),F=window.innerHeight-xr*2,k=A.scrollHeight,we=window.getComputedStyle(p),Ae=parseInt(we.borderTopWidth,10),ue=parseInt(we.paddingTop,10),pe=parseInt(we.borderBottomWidth,10),B=parseInt(we.paddingBottom,10),le=Ae+ue+k+B+pe,X=Math.min(N.offsetHeight*5,le),L=window.getComputedStyle(A),K=parseInt(L.paddingTop,10),ne=parseInt(L.paddingBottom,10),ce=R.top+R.height/2-xr,ye=F-ce,be=N.offsetHeight/2,se=N.offsetTop+be,he=Ae+ue+se,Re=le-he;if(he<=ce){const ze=O.length>0&&N===O[O.length-1].ref.current;f.style.bottom="0px";const $e=p.clientHeight-A.offsetTop-A.offsetHeight,pt=Math.max(ye,be+(ze?ne:0)+$e+pe),zt=he+pt;f.style.height=zt+"px"}else{const ze=O.length>0&&N===O[0].ref.current;f.style.top="0px";const pt=Math.max(ce,Ae+A.offsetTop+(ze?K:0)+be)+Re;f.style.height=pt+"px",A.scrollTop=he-ce+A.offsetTop}f.style.margin=`${xr}px 0`,f.style.minHeight=X+"px",f.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>C.current=!0)}},[T,a.trigger,a.valueNode,f,p,A,N,U,a.dir,r]);pn(()=>q(),[q]);const[J,ee]=I.useState();pn(()=>{p&&ee(window.getComputedStyle(p).zIndex)},[p]);const re=I.useCallback(R=>{R&&V.current===!0&&(q(),$?.(),V.current=!1)},[q,$]);return _.jsx(Ak,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:re,children:_.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:J},children:_.jsx(wt.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});nx.displayName=bk;var Ck="SelectPopperPosition",Hp=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=xr,...a}=n,c=nf(t);return _.jsx(OE,{...c,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hp.displayName=Ck;var[Ak,Gm]=Qa(To,{}),Wp="SelectViewport",rx=I.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=ji(Wp,t),c=Gm(Wp,t),f=Mt(e,a.onViewportChange),h=I.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(ef.Slot,{scope:t,children:_.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:dt(o.onScroll,p=>{const w=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:T}=c;if(T?.current&&g){const C=Math.abs(h.current-w.scrollTop);if(C>0){const V=window.innerHeight-xr*2,A=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),U=Math.max(A,N);if(U<V){const $=U+C,q=Math.min(V,$),J=$-q;g.style.height=q+"px",g.style.bottom==="0px"&&(w.scrollTop=J>0?J:0,g.style.justifyContent="flex-end")}}}h.current=w.scrollTop})})})]})});rx.displayName=Wp;var sx="SelectGroup",[Rk,kk]=Qa(sx),Pk=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Gd();return _.jsx(Rk,{scope:t,id:o,children:_.jsx(wt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});Pk.displayName=sx;var ix="SelectLabel",Nk=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=kk(ix,t);return _.jsx(wt.div,{id:o.id,...r,ref:e})});Nk.displayName=ix;var Td="SelectItem",[Dk,ox]=Qa(Td),ax=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...c}=n,f=Li(Td,t),h=ji(Td,t),p=f.value===r,[w,g]=I.useState(a??""),[T,C]=I.useState(!1),V=Mt(e,$=>h.itemRefCallback?.($,r,o)),A=Gd(),N=I.useRef("touch"),U=()=>{o||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(Dk,{scope:t,value:r,disabled:o,textId:A,isSelected:p,onItemTextChange:I.useCallback($=>{g(q=>q||($?.textContent??"").trim())},[]),children:_.jsx(ef.ItemSlot,{scope:t,value:r,disabled:o,textValue:w,children:_.jsx(wt.div,{role:"option","aria-labelledby":A,"data-highlighted":T?"":void 0,"aria-selected":p&&T,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:V,onFocus:dt(c.onFocus,()=>C(!0)),onBlur:dt(c.onBlur,()=>C(!1)),onClick:dt(c.onClick,()=>{N.current!=="mouse"&&U()}),onPointerUp:dt(c.onPointerUp,()=>{N.current==="mouse"&&U()}),onPointerDown:dt(c.onPointerDown,$=>{N.current=$.pointerType}),onPointerMove:dt(c.onPointerMove,$=>{N.current=$.pointerType,o?h.onItemLeave?.():N.current==="mouse"&&$.currentTarget.focus({preventScroll:!0})}),onPointerLeave:dt(c.onPointerLeave,$=>{$.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:dt(c.onKeyDown,$=>{h.searchRef?.current!==""&&$.key===" "||(yk.includes($.key)&&U(),$.key===" "&&$.preventDefault())})})})})});ax.displayName=Td;var Ql="SelectItemText",lx=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,c=Li(Ql,t),f=ji(Ql,t),h=ox(Ql,t),p=Ek(Ql,t),[w,g]=I.useState(null),T=Mt(e,U=>g(U),h.onItemTextChange,U=>f.itemTextRefCallback?.(U,h.value,h.disabled)),C=w?.textContent,V=I.useMemo(()=>_.jsx("option",{value:h.value,disabled:h.disabled,children:C},h.value),[h.disabled,h.value,C]),{onNativeOptionAdd:A,onNativeOptionRemove:N}=p;return pn(()=>(A(V),()=>N(V)),[A,N,V]),_.jsxs(_.Fragment,{children:[_.jsx(wt.span,{id:h.textId,...a,ref:T}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?wc.createPortal(a.children,c.valueNode):null]})});lx.displayName=Ql;var cx="SelectItemIndicator",ux=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return ox(cx,t).isSelected?_.jsx(wt.span,{"aria-hidden":!0,...r,ref:e}):null});ux.displayName=cx;var qp="SelectScrollUpButton",dx=I.forwardRef((n,e)=>{const t=ji(qp,n.__scopeSelect),r=Gm(qp,n.__scopeSelect),[o,a]=I.useState(!1),c=Mt(e,r.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=h.scrollTop>0;a(p)};const h=t.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?_.jsx(hx,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=t;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});dx.displayName=qp;var Gp="SelectScrollDownButton",fx=I.forwardRef((n,e)=>{const t=ji(Gp,n.__scopeSelect),r=Gm(Gp,n.__scopeSelect),[o,a]=I.useState(!1),c=Mt(e,r.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=h.scrollHeight-h.clientHeight,w=Math.ceil(h.scrollTop)<p;a(w)};const h=t.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?_.jsx(hx,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=t;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});fx.displayName=Gp;var hx=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=ji("SelectScrollButton",t),c=I.useRef(null),f=tf(t),h=I.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return I.useEffect(()=>()=>h(),[h]),pn(()=>{f().find(w=>w.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),_.jsx(wt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:dt(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:dt(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:dt(o.onPointerLeave,()=>{h()})})}),Ok="SelectSeparator",Mk=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return _.jsx(wt.div,{"aria-hidden":!0,...r,ref:e})});Mk.displayName=Ok;var Kp="SelectArrow",Vk=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=nf(t),a=Li(Kp,t),c=ji(Kp,t);return a.open&&c.position==="popper"?_.jsx(ME,{...o,...r,ref:e}):null});Vk.displayName=Kp;var Lk="SelectBubbleInput",px=I.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=I.useRef(null),a=Mt(r,o),c=AR(e);return I.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&w){const g=new Event("change",{bubbles:!0});w.call(f,e),f.dispatchEvent(g)}},[c,e]),_.jsx(wt.select,{...t,style:{...VE,...t.style},ref:a,defaultValue:e})});px.displayName=Lk;function mx(n){return n===""||n===void 0}function gx(n){const e=_o(n),t=I.useRef(""),r=I.useRef(0),o=I.useCallback(c=>{const f=t.current+c;e(f),(function h(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(f)},[e]),a=I.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function yx(n,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=jk(n,Math.max(a,0));o.length===1&&(c=c.filter(p=>p!==t));const h=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==t?h:void 0}function jk(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Fk=qE,Uk=KE,zk=YE,Bk=XE,$k=JE,Hk=ZE,Wk=rx,qk=ax,Gk=lx,Kk=ux,Qk=dx,Yk=fx;function Km({...n}){return _.jsx(Fk,{"data-slot":"select",...n})}function Qm({...n}){return _.jsx(zk,{"data-slot":"select-value",...n})}function Ym({className:n,size:e="default",children:t,...r}){return _.jsxs(Uk,{"data-slot":"select-trigger","data-size":e,className:ft("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,_.jsx(Bk,{asChild:!0,children:_.jsx(W_,{className:"size-4 opacity-50"})})]})}function Xm({className:n,children:e,position:t="popper",...r}){return _.jsx($k,{children:_.jsxs(Hk,{"data-slot":"select-content",className:ft("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[_.jsx(Xk,{}),_.jsx(Wk,{className:ft("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),_.jsx(Jk,{})]})})}function ir({className:n,children:e,...t}){return _.jsxs(qk,{"data-slot":"select-item",className:ft("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(Kk,{children:_.jsx(Cm,{className:"size-4"})})}),_.jsx(Gk,{children:e})]})}function Xk({className:n,...e}){return _.jsx(Qk,{"data-slot":"select-scroll-up-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:_.jsx(n1,{className:"size-4"})})}function Jk({className:n,...e}){return _.jsx(Yk,{"data-slot":"select-scroll-down-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:_.jsx(W_,{className:"size-4"})})}function Zk({productInput:n,setProductInput:e,onGenerate:t,isGenerating:r,error:o}){const a=n.description.length,c=500;return _.jsxs(qa,{className:"space-y-5 border-2 border-blue-400 max-w-2xl mx-auto pt-8",style:{borderColor:"#60a5fa"},children:[_.jsx("div",{className:"flex items-center justify-center mb-6 mt-4",children:_.jsx("h2",{className:"text-[var(--lc-text)] font-semibold",children:"Describe your product"})}),_.jsxs("div",{className:"space-y-5",children:[_.jsxs("div",{className:"space-y-2 group/input",children:[_.jsxs(Wu,{htmlFor:"product-name",className:"text-sm text-[var(--lc-muted)]",children:["Product Name ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx(ts,{id:"product-name",value:n.name,onChange:f=>e({...n,name:f.target.value}),placeholder:"e.g., Smart Health Tracker",disabled:r,className:"!bg-blue-400/10 !border-2 !border-blue-400 w-full rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15 disabled:!bg-blue-400/10 disabled:!opacity-100",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px",opacity:1}})]}),_.jsxs("div",{className:"space-y-2 group/input",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs(Wu,{htmlFor:"description",className:"text-sm text-[var(--lc-muted)]",children:["Short Description ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("span",{className:`text-xs transition-colors ${a>c?"text-red-500":a>c*.8?"text-amber-500":"text-[var(--lc-muted)]"}`,children:[a,"/",c]})]}),_.jsx(pC,{id:"description",value:n.description,onChange:f=>{f.target.value.length<=c&&e({...n,description:f.target.value})},placeholder:"Describe what your product does, its key features, and value proposition...",rows:3,disabled:r,className:"!bg-blue-400/10 !border-2 !border-blue-400 w-full rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15 resize-none",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"}})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2 group/input",children:[_.jsx(Wu,{htmlFor:"target-users",className:"text-sm text-[var(--lc-muted)]",children:"Target Users"}),_.jsx(ts,{id:"target-users",value:n.targetUsers,onChange:f=>e({...n,targetUsers:f.target.value}),placeholder:"e.g., Healthcare professionals",disabled:r,className:"!bg-blue-400/10 !border-2 !border-blue-400 w-full rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"}})]}),_.jsxs("div",{className:"space-y-2 group/input",children:[_.jsx(Wu,{htmlFor:"timeline",className:"text-sm text-[var(--lc-muted)]",children:"Timeline"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(ts,{id:"timeline-value",type:"number",min:"1",value:n.timeline.split(" ")[0],onChange:f=>{const h=f.target.value;if(h===""||parseInt(h)>0){const p=n.timeline.split(" ")[1]||"months";e({...n,timeline:h?`${h} ${p}`:`1 ${p}`})}},placeholder:"e.g., 6",disabled:r,className:"!bg-blue-400/10 !border-2 !border-blue-400 w-24 rounded-md px-3 py-2 text-sm text-[var(--lc-text)] placeholder:text-[var(--lc-muted)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"}}),_.jsxs(Km,{value:n.timeline.split(" ")[1]||"months",onValueChange:f=>{const h=n.timeline.split(" ")[0]||"6";e({...n,timeline:`${h} ${f}`})},disabled:r,children:[_.jsx(Ym,{id:"timeline-unit",className:"!bg-blue-400/10 !border-2 !border-blue-400 flex-1 rounded-md px-3 py-2 text-sm text-[var(--lc-text)] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:!border-blue-500 focus:!bg-blue-400/15",style:{backgroundColor:"rgba(96, 165, 250, 0.1)",borderColor:"#60a5fa",borderWidth:"2px"},children:_.jsx(Qm,{})}),_.jsxs(Xm,{children:[_.jsx(ir,{value:"days",children:"days"}),_.jsx(ir,{value:"months",children:"months"}),_.jsx(ir,{value:"years",children:"years"})]})]})]})]})]}),o&&_.jsxs(Nm,{variant:"destructive",className:"border-red-800 bg-red-900/20",children:[_.jsx(Am,{className:"h-4 w-4"}),_.jsx(Dm,{className:"text-sm text-[var(--lc-text)]",children:o})]}),_.jsxs("div",{className:"pt-4 pb-2 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),_.jsx("p",{className:"text-xs text-[var(--lc-muted)]",children:"AI-powered lifecycle planning with Nemotron"})]}),_.jsx(Sr,{onClick:t,disabled:r,variant:"primary",className:"!ml-auto !px-8 !py-3 !text-base !font-semibold !rounded-lg !shadow-lg hover:!shadow-xl hover:!scale-105 !transition-all !duration-200 !mr-2 !mb-2",style:{backgroundColor:"#60a5fa",color:"white",padding:"12px 32px",fontSize:"16px",fontWeight:"600",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"none",marginRight:"8px",marginBottom:"8px",cursor:r?"not-allowed":"pointer"},children:r?_.jsxs(_.Fragment,{children:[_.jsx(Wd,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Op,{className:"w-4 h-4 mr-2 group-hover/btn:rotate-12 transition-transform"}),"Generate Lifecycle Plan"]})})]})]})]})}function eP({phases:n,tasks:e,progress:t}){const r=p=>{const w=e.filter(A=>A.phase===p),g=w.filter(A=>A.status==="Done").length,T=w.filter(A=>A.status==="In progress").length,C=w.length,V=C>0?Math.round(g/C*100):0;return{completed:g,total:C,percent:V,hasInProgress:T>0,isFullyComplete:g===C&&C>0,isEmpty:C===0}},a=(()=>{for(let w=0;w<n.length;w++){const g=r(n[w].name);if(!g.isEmpty&&!g.isFullyComplete)return n[w].name}return[...n].reverse().find(w=>r(w.name).total>0)?.name||n[0].name})(),c=p=>{const w=r(p),g=p===a;return w.isFullyComplete?"completed":g?"active":"upcoming"},f=p=>{const w=c(p);return w==="completed"?"border-green-500 bg-green-500/10":w==="active"?"border-blue-500 bg-blue-500/10":"border-[var(--lc-border)] bg-[var(--lc-surface-soft)]/30"},h=p=>{const w=c(p),g=r(p);return w==="completed"?_.jsx(mw,{className:"w-5 h-5 text-green-500"}):w==="active"&&g.hasInProgress?_.jsx(Wd,{className:"w-5 h-5 text-blue-500 animate-spin"}):w==="active"?_.jsx(ip,{className:"w-5 h-5 text-blue-500 fill-blue-500"}):_.jsx(ip,{className:"w-5 h-5 text-[var(--lc-muted)]"})};return _.jsxs(qa,{className:"space-y-6 bg-[var(--lc-surface)] border-[var(--lc-border)]",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center shadow-sm",children:_.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),_.jsx("h2",{className:"text-[var(--lc-text)] font-semibold text-xl",children:"Lifecycle Overview"})]}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--lc-muted)]",children:[_.jsx(ip,{className:"w-3 h-3 text-blue-500 fill-blue-500"}),_.jsxs("span",{children:["Current Phase: ",_.jsx("span",{className:"font-semibold text-blue-400",children:a})]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.map(p=>{const w=r(p.name),g=c(p.name)==="active";return _.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${f(p.name)} ${g?"shadow-lg scale-105":"hover:scale-102"}`,children:[_.jsxs("div",{className:"flex items-start justify-between mb-3",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"font-semibold text-[var(--lc-text)] mb-1",children:p.name}),_.jsx("p",{className:"text-xs text-[var(--lc-muted)] line-clamp-2",children:p.description})]}),h(p.name)]}),w.total>0&&_.jsxs("div",{className:"mt-3 pt-3 border-t border-[var(--lc-border)]",children:[_.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[_.jsx("span",{className:"text-[var(--lc-muted)]",children:"Progress"}),_.jsxs("span",{className:"font-semibold text-[var(--lc-text)]",children:[w.percent,"%"]})]}),_.jsx("div",{className:"h-1.5 bg-[var(--lc-surface-soft)] rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:`${w.percent}%`}})}),_.jsxs("div",{className:"text-xs text-[var(--lc-muted)] mt-1",children:[w.completed," / ",w.total," tasks"]})]}),w.isEmpty&&_.jsx("div",{className:"text-xs text-[var(--lc-muted)] italic mt-2",children:"No tasks yet"})]},p.name)})}),_.jsx("div",{className:"pt-4 border-t border-[var(--lc-border)]",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{className:"text-sm text-[var(--lc-muted)] font-medium whitespace-nowrap",children:"Overall progress"}),_.jsxs("div",{className:"flex-1 relative rounded-full overflow-hidden h-3 bg-[var(--lc-surface-soft)]",children:[_.jsx("div",{className:"h-full rounded-full transition-all duration-700 ease-out bg-gradient-to-r from-blue-500 to-green-500",style:{width:`${t.percent}%`},children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})}),t.percent===100&&_.jsx("div",{className:"absolute -right-1 -top-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center animate-bounce shadow-lg",children:_.jsx(mw,{className:"w-4 h-4 text-white"})})]}),_.jsxs("span",{className:"text-sm font-semibold text-[var(--lc-text)] whitespace-nowrap",children:[t.percent,"%  ",t.doneTasks," / ",t.totalTasks," tasks"]})]})})]})]})}const tP=km("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qp({className:n,variant:e,asChild:t=!1,...r}){const o=t?G_:"span";return _.jsx(o,{"data-slot":"badge",className:ft(tP({variant:e}),n),...r})}function nP({className:n,...e}){return _.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:_.jsx("table",{"data-slot":"table",className:ft("w-full caption-bottom text-sm",n),...e})})}function rP({className:n,...e}){return _.jsx("thead",{"data-slot":"table-header",className:ft("[&_tr]:border-b",n),...e})}function sP({className:n,...e}){return _.jsx("tbody",{"data-slot":"table-body",className:ft("[&_tr:last-child]:border-0",n),...e})}function Xw({className:n,...e}){return _.jsx("tr",{"data-slot":"table-row",className:ft("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function Gl({className:n,...e}){return _.jsx("th",{"data-slot":"table-head",className:ft("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Kl({className:n,...e}){return _.jsx("td",{"data-slot":"table-cell",className:ft("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function iP(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var Jm=n=>{const{present:e,children:t}=n,r=oP(e),o=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),a=Mt(r.ref,aP(o));return typeof t=="function"||r.isPresent?I.cloneElement(o,{ref:a}):null};Jm.displayName="Presence";function oP(n){const[e,t]=I.useState(),r=I.useRef(null),o=I.useRef(n),a=I.useRef("none"),c=n?"mounted":"unmounted",[f,h]=iP(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const p=Xu(r.current);a.current=f==="mounted"?p:"none"},[f]),pn(()=>{const p=r.current,w=o.current;if(w!==n){const T=a.current,C=Xu(p);n?h("MOUNT"):C==="none"||p?.display==="none"?h("UNMOUNT"):h(w&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,h]),pn(()=>{if(e){let p;const w=e.ownerDocument.defaultView??window,g=C=>{const A=Xu(r.current).includes(CSS.escape(C.animationName));if(C.target===e&&A&&(h("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",p=w.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},T=C=>{C.target===e&&(a.current=Xu(r.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{w.clearTimeout(p),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:I.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Xu(n){return n?.animationName||"none"}function aP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function lP(n){const e=cP(n),t=I.forwardRef((r,o)=>{const{children:a,...c}=r,f=I.Children.toArray(a),h=f.find(dP);if(h){const p=h.props.children,w=f.map(g=>g===h?I.Children.count(p)>1?I.Children.only(null):I.isValidElement(p)?p.props.children:null:g);return _.jsx(e,{...c,ref:o,children:I.isValidElement(p)?I.cloneElement(p,void 0,w):null})}return _.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function cP(n){const e=I.forwardRef((t,r)=>{const{children:o,...a}=t;if(I.isValidElement(o)){const c=hP(o),f=fP(a,o.props);return o.type!==I.Fragment&&(f.ref=r?$a(r,c):c),I.cloneElement(o,f)}return I.Children.count(o)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var uP=Symbol("radix.slottable");function dP(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===uP}function fP(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const h=a(...f);return o(...f),h}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function hP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var rf="Popover",[vx]=qd(rf,[Jd]),Ec=Jd(),[pP,Fi]=vx(rf),wx=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:c=!1}=n,f=Ec(e),h=I.useRef(null),[p,w]=I.useState(!1),[g,T]=Bp({prop:r,defaultProp:o??!1,onChange:a,caller:rf});return _.jsx(DE,{...f,children:_.jsx(pP,{scope:e,contentId:Gd(),triggerRef:h,open:g,onOpenChange:T,onOpenToggle:I.useCallback(()=>T(C=>!C),[T]),hasCustomAnchor:p,onCustomAnchorAdd:I.useCallback(()=>w(!0),[]),onCustomAnchorRemove:I.useCallback(()=>w(!1),[]),modal:c,children:t})})};wx.displayName=rf;var _x="PopoverAnchor",mP=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,o=Fi(_x,t),a=Ec(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:f}=o;return I.useEffect(()=>(c(),()=>f()),[c,f]),_.jsx(Hm,{...a,...r,ref:e})});mP.displayName=_x;var Ex="PopoverTrigger",xx=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,o=Fi(Ex,t),a=Ec(t),c=Mt(e,o.triggerRef),f=_.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Cx(o.open),...r,ref:c,onClick:dt(n.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:_.jsx(Hm,{asChild:!0,...a,children:f})});xx.displayName=Ex;var Zm="PopoverPortal",[gP,yP]=vx(Zm,{forceMount:void 0}),Tx=n=>{const{__scopePopover:e,forceMount:t,children:r,container:o}=n,a=Fi(Zm,e);return _.jsx(gP,{scope:e,forceMount:t,children:_.jsx(Jm,{present:t||a.open,children:_.jsx(Wm,{asChild:!0,container:o,children:r})})})};Tx.displayName=Zm;var Ma="PopoverContent",Sx=I.forwardRef((n,e)=>{const t=yP(Ma,n.__scopePopover),{forceMount:r=t.forceMount,...o}=n,a=Fi(Ma,n.__scopePopover);return _.jsx(Jm,{present:r||a.open,children:a.modal?_.jsx(wP,{...o,ref:e}):_.jsx(_P,{...o,ref:e})})});Sx.displayName=Ma;var vP=lP("PopoverContent.RemoveScroll"),wP=I.forwardRef((n,e)=>{const t=Fi(Ma,n.__scopePopover),r=I.useRef(null),o=Mt(e,r),a=I.useRef(!1);return I.useEffect(()=>{const c=r.current;if(c)return jE(c)},[]),_.jsx(qm,{as:vP,allowPinchZoom:!0,children:_.jsx(Ix,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dt(n.onCloseAutoFocus,c=>{c.preventDefault(),a.current||t.triggerRef.current?.focus()}),onPointerDownOutside:dt(n.onPointerDownOutside,c=>{const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;a.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:dt(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),_P=I.forwardRef((n,e)=>{const t=Fi(Ma,n.__scopePopover),r=I.useRef(!1),o=I.useRef(!1);return _.jsx(Ix,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;t.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Ix=I.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:w,...g}=n,T=Fi(Ma,t),C=Ec(t);return uE(),_.jsx(Mm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:_.jsx(Om,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:w,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>T.onOpenChange(!1),children:_.jsx(OE,{"data-state":Cx(T.open),role:"dialog",id:T.contentId,...C,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bx="PopoverClose",EP=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,o=Fi(bx,t);return _.jsx(wt.button,{type:"button",...r,ref:e,onClick:dt(n.onClick,()=>o.onOpenChange(!1))})});EP.displayName=bx;var xP="PopoverArrow",TP=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,o=Ec(t);return _.jsx(ME,{...o,...r,ref:e})});TP.displayName=xP;function Cx(n){return n?"open":"closed"}var SP=wx,IP=xx,bP=Tx,Ax=Sx;const CP=SP,AP=IP,Rx=I.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},o)=>_.jsx(bP,{children:_.jsx(Ax,{ref:o,align:e,sideOffset:t,className:ft("z-50 w-72 rounded-md border bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));Rx.displayName=Ax.displayName;function RP({teamMembers:n,assignedMemberIds:e,onAssign:t,onUnassign:r}){const o=f=>f.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2),a=n.filter(f=>e.includes(f.id)),c=f=>({"blue-500":"bg-blue-500","purple-500":"bg-purple-500","green-500":"bg-green-500","orange-500":"bg-orange-500","pink-500":"bg-pink-500","indigo-500":"bg-indigo-500","red-500":"bg-red-500","teal-500":"bg-teal-500","yellow-500":"bg-yellow-500","cyan-500":"bg-cyan-500","fuchsia-500":"bg-fuchsia-500","emerald-500":"bg-emerald-500"})[f]||"bg-blue-500";return _.jsxs(CP,{children:[_.jsx(AP,{asChild:!0,children:a.length===0?_.jsx("button",{className:"w-8 h-8 rounded-full border-2 border-dashed border-blue-400 flex items-center justify-center hover:border-blue-500 hover:bg-blue-500/10 transition-all cursor-pointer",children:_.jsx("span",{className:"text-base text-blue-400 font-bold",children:"+"})}):_.jsx(Sr,{variant:"ghost",size:"sm",className:"h-8 gap-1 hover:bg-blue-600/20 transition-all",children:_.jsxs("div",{className:"flex -space-x-2",children:[a.slice(0,3).map(f=>_.jsx("div",{className:`w-6 h-6 rounded-full ${c(f.color)} flex items-center justify-center text-white text-xs font-semibold ring-2 ring-[var(--lc-surface)]`,title:f.name,children:o(f.name)},f.id)),a.length>3&&_.jsxs("div",{className:"w-6 h-6 rounded-full bg-neutral-500 flex items-center justify-center text-white text-xs font-semibold ring-2 ring-[var(--lc-surface)]",children:["+",a.length-3]})]})})}),_.jsx(Rx,{className:"w-64 p-2 border-2 border-slate-700 shadow-2xl rounded-lg",style:{backgroundColor:"#0f172a",zIndex:9999},children:_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-xs font-semibold text-slate-400 px-2 py-1",children:"Assign to"}),n.length===0?_.jsx("div",{className:"px-2 py-4 text-center text-sm text-slate-400",children:"No team members yet"}):n.map(f=>{const h=e.includes(f.id);return _.jsxs("button",{onClick:()=>h?r(f.id):t(f.id),className:"w-full flex items-center gap-2 px-2 py-2 rounded hover:bg-slate-800 transition-colors",children:[_.jsx("div",{className:`w-8 h-8 rounded-full ${c(f.color)} flex items-center justify-center text-white text-xs font-semibold flex-shrink-0`,children:o(f.name)}),_.jsxs("div",{className:"flex-1 text-left",children:[_.jsx("p",{className:"text-sm font-medium text-white",children:f.name}),_.jsx("p",{className:"text-xs text-slate-400",children:f.role})]}),h&&_.jsx(Cm,{className:"w-4 h-4 text-green-500"})]},f.id)})]})})]})}function kP({tasks:n,teamMembers:e=[],taskAssignments:t={},onUpdateTaskStatus:r,onAssignTask:o,onUnassignTask:a}){const c=p=>{switch(p){case"P0":return"bg-red-900/30 text-red-300 border-red-700 font-medium";case"P1":return"bg-orange-900/30 text-orange-300 border-orange-700 font-medium";case"P2":return"bg-yellow-900/30 text-yellow-300 border-yellow-700 font-medium";default:return"bg-slate-800 text-slate-300 border-slate-700"}},f=p=>{switch(p){case"Done":return"text-green-400";case"In progress":return"text-blue-400";default:return"text-slate-400"}},h=Array.from(new Set(n.map(p=>p.phase)));return _.jsxs(qa,{className:"space-y-6 border-2 border-blue-400",style:{borderColor:"#60a5fa"},children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-sm",children:_.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),_.jsx("h2",{className:"text-[var(--lc-text)] font-semibold text-xl",children:"Execution Plan"})]}),_.jsx("div",{className:"border border-[var(--lc-border)] rounded-lg overflow-hidden bg-[var(--lc-surface-soft)]/50",children:_.jsxs(nP,{children:[_.jsx(rP,{children:_.jsxs(Xw,{className:"bg-[var(--lc-surface-soft)] border-b border-[var(--lc-border)]",children:[_.jsx(Gl,{className:"w-32 text-xs font-semibold text-[var(--lc-muted)]",children:"Phase"}),_.jsx(Gl,{className:"text-xs font-semibold text-[var(--lc-muted)]",children:"Task"}),_.jsx(Gl,{className:"w-24 text-xs font-semibold text-[var(--lc-muted)]",children:"Priority"}),_.jsx(Gl,{className:"w-32 text-xs font-semibold text-[var(--lc-muted)]",children:"Assigned To"}),_.jsx(Gl,{className:"w-40 text-xs font-semibold text-[var(--lc-muted)]",children:"Status"})]})}),_.jsx(sP,{children:h.map(p=>n.filter(g=>g.phase===p).map((g,T)=>_.jsxs(Xw,{className:"border-b border-[var(--lc-border)] last:border-0 hover:bg-[var(--lc-surface)]/60 transition-colors duration-150 group/row",children:[_.jsx(Kl,{className:"text-sm text-[var(--lc-muted)] font-semibold",children:T===0?p:""}),_.jsx(Kl,{className:"text-sm text-[var(--lc-text)] group-hover/row:text-[var(--lc-text)] transition-colors duration-150",children:g.task}),_.jsx(Kl,{children:_.jsx(Qp,{variant:"outline",className:`${c(g.priority)} text-xs px-2.5 py-1 transition-all duration-200 hover:scale-105`,children:g.priority})}),_.jsx(Kl,{children:e&&e.length>0&&o&&a?_.jsx(RP,{teamMembers:e,assignedMemberIds:t[g.id]||[],onAssign:C=>o(g.id,C),onUnassign:C=>a(g.id,C)}):_.jsx("div",{className:"text-xs text-[var(--lc-muted)]",children:e.length===0?"Add team members first":""})}),_.jsx(Kl,{children:_.jsxs(Km,{value:g.status,onValueChange:C=>r(g.id,C),children:[_.jsx(Ym,{className:`h-8 text-xs border-[var(--lc-border)] bg-[var(--lc-surface-soft)] hover:border-[var(--lc-accent)] transition-colors duration-150 ${f(g.status)}`,children:_.jsx(Qm,{})}),_.jsxs(Xm,{children:[_.jsx(ir,{value:"Not started",className:"text-xs",children:" Not started"}),_.jsx(ir,{value:"In progress",className:"text-xs",children:" In progress"}),_.jsx(ir,{value:"Done",className:"text-xs",children:" Done"})]})]})})]},g.id)))})]})})]})}function PP({risks:n,kpis:e}){return _.jsx(qa,{className:"space-y-6 border-2 border-blue-400 p-6",style:{borderColor:"#60a5fa"},children:_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"group/section",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center shadow-lg shadow-orange-500/30 group-hover/section:scale-110 transition-transform duration-300",children:_.jsx(v1,{className:"w-5 h-5 text-white"})}),_.jsx("h3",{className:"text-[var(--lc-text)] font-semibold",children:"Key Risks"})]}),_.jsx("ul",{className:"space-y-3",children:n.map((t,r)=>_.jsxs("li",{className:"flex items-start gap-3 text-[var(--lc-muted)] p-2.5 rounded-lg hover:bg-[var(--lc-surface)] transition-colors duration-150 group/item",style:{animationDelay:`${r*.1}s`},children:[_.jsx("span",{className:"text-orange-500 mt-1 text-sm group-hover/item:scale-125 transition-transform",children:""}),_.jsx("span",{className:"text-sm leading-relaxed group-hover/item:text-[var(--lc-text)] transition-colors duration-150",children:t})]},r))})]}),_.jsxs("div",{className:"group/section",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30 group-hover/section:scale-110 transition-transform duration-300",children:_.jsx(g1,{className:"w-5 h-5 text-white"})}),_.jsx("h3",{className:"text-[var(--lc-text)] font-semibold",children:"KPIs & Metrics"})]}),_.jsx("ul",{className:"space-y-3",children:e.map((t,r)=>_.jsxs("li",{className:"flex items-start gap-3 text-[var(--lc-muted)] p-2.5 rounded-lg hover:bg-[var(--lc-surface)] transition-colors duration-150 group/item",style:{animationDelay:`${r*.1}s`},children:[_.jsx("span",{className:"text-blue-500 mt-1 text-sm group-hover/item:scale-125 transition-transform",children:""}),_.jsx("span",{className:"text-sm leading-relaxed group-hover/item:text-[var(--lc-text)] transition-colors duration-150",children:t})]},r))})]})]})})}var NP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DP=NP.reduce((n,e)=>{const t=Rm(`Primitive.${e}`),r=I.forwardRef((o,a)=>{const{asChild:c,...f}=o,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(h,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),OP="Separator",Jw="horizontal",MP=["horizontal","vertical"],kx=I.forwardRef((n,e)=>{const{decorative:t,orientation:r=Jw,...o}=n,a=VP(r)?r:Jw,f=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return _.jsx(DP.div,{"data-orientation":a,...f,...o,ref:e})});kx.displayName=OP;function VP(n){return MP.includes(n)}var LP=kx;function Zw({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return _.jsx(LP,{"data-slot":"separator-root",decorative:t,orientation:e,className:ft("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function jP(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const FP=n=>{switch(n){case"success":return BP;case"info":return HP;case"warning":return $P;case"error":return WP;default:return null}},UP=Array(12).fill(0),zP=({visible:n,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},fe.createElement("div",{className:"sonner-spinner"},UP.map((t,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BP=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$P=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HP=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WP=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qP=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GP=()=>{const[n,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Yp=1;class KP{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...o}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yp++,c=this.toasts.find(h=>h.id===a),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:f,title:r}):h):this.addToast({title:r,...o,dismissible:f,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const f=o.then(async p=>{if(c=["resolve",p],fe.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(YP(p)&&!p.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,T=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,V=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...V})}else if(p instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(p):t.error,T=typeof t.description=="function"?await t.description(p):t.description,V=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:T,...V})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(p):t.success,T=typeof t.description=="function"?await t.description(p):t.description,V=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:T,...V})}}).catch(async p=>{if(c=["reject",p],t.error!==void 0){a=!1;const w=typeof t.error=="function"?await t.error(p):t.error,g=typeof t.description=="function"?await t.description(p):t.description,C=typeof w=="object"&&!fe.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:g,...C})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,w)=>f.then(()=>c[0]==="reject"?w(c[1]):p(c[1])).catch(w));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{const r=t?.id||Yp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rn=new KP,QP=(n,e)=>{const t=e?.id||Yp++;return Rn.addToast({title:n,...e,id:t}),t},YP=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",XP=QP,JP=()=>Rn.toasts,ZP=()=>Rn.getActiveToasts(),Gt=Object.assign(XP,{success:Rn.success,info:Rn.info,warning:Rn.warning,error:Rn.error,custom:Rn.custom,message:Rn.message,promise:Rn.promise,dismiss:Rn.dismiss,loading:Rn.loading},{getHistory:JP,getToasts:ZP});jP("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ju(n){return n.label!==void 0}const eN=3,tN="24px",nN="16px",e0=4e3,rN=356,sN=14,iN=45,oN=200;function Xr(...n){return n.filter(Boolean).join(" ")}function aN(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const lN=n=>{var e,t,r,o,a,c,f,h,p;const{invert:w,toast:g,unstyled:T,interacting:C,setHeights:V,visibleToasts:A,heights:N,index:U,toasts:$,expanded:q,removeToast:J,defaultRichColors:ee,closeButton:re,style:R,cancelButtonStyle:S,actionButtonStyle:P,className:M="",descriptionClassName:O="",duration:F,position:k,gap:we,expandByDefault:Ae,classNames:ue,icons:pe,closeButtonAriaLabel:B="Close toast"}=n,[le,X]=fe.useState(null),[L,K]=fe.useState(null),[ne,ce]=fe.useState(!1),[ye,be]=fe.useState(!1),[se,he]=fe.useState(!1),[Re,De]=fe.useState(!1),[ze,$e]=fe.useState(!1),[pt,zt]=fe.useState(0),[Pr,Nn]=fe.useState(0),Qt=fe.useRef(g.duration||F||e0),Bs=fe.useRef(null),Ze=fe.useRef(null),mt=U===0,Dn=U+1<=A,Vt=g.type,Kn=g.dismissible!==!1,Vo=g.className||"",Nr=g.descriptionClassName||"",Dr=fe.useMemo(()=>N.findIndex(Oe=>Oe.toastId===g.id)||0,[N,g.id]),$s=fe.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:re},[g.closeButton,re]),cr=fe.useMemo(()=>g.duration||F||e0,[g.duration,F]),Hs=fe.useRef(0),En=fe.useRef(0),ur=fe.useRef(0),dr=fe.useRef(null),[Or,Ws]=k.split("-"),qs=fe.useMemo(()=>N.reduce((Oe,rt,Tt)=>Tt>=Dr?Oe:Oe+rt.height,0),[N,Dr]),xn=GP(),Gs=g.invert||w,Qn=Vt==="loading";En.current=fe.useMemo(()=>Dr*we+qs,[Dr,qs]),fe.useEffect(()=>{Qt.current=cr},[cr]),fe.useEffect(()=>{ce(!0)},[]),fe.useEffect(()=>{const Oe=Ze.current;if(Oe){const rt=Oe.getBoundingClientRect().height;return Nn(rt),V(Tt=>[{toastId:g.id,height:rt,position:g.position},...Tt]),()=>V(Tt=>Tt.filter(Bt=>Bt.toastId!==g.id))}},[V,g.id]),fe.useLayoutEffect(()=>{if(!ne)return;const Oe=Ze.current,rt=Oe.style.height;Oe.style.height="auto";const Tt=Oe.getBoundingClientRect().height;Oe.style.height=rt,Nn(Tt),V(Bt=>Bt.find(_t=>_t.toastId===g.id)?Bt.map(_t=>_t.toastId===g.id?{..._t,height:Tt}:_t):[{toastId:g.id,height:Tt,position:g.position},...Bt])},[ne,g.title,g.description,V,g.id,g.jsx,g.action,g.cancel]);const gn=fe.useCallback(()=>{be(!0),zt(En.current),V(Oe=>Oe.filter(rt=>rt.toastId!==g.id)),setTimeout(()=>{J(g)},oN)},[g,J,V,En]);fe.useEffect(()=>{if(g.promise&&Vt==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return q||C||xn?(()=>{if(ur.current<Hs.current){const Bt=new Date().getTime()-Hs.current;Qt.current=Qt.current-Bt}ur.current=new Date().getTime()})():(()=>{Qt.current!==1/0&&(Hs.current=new Date().getTime(),Oe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),gn()},Qt.current))})(),()=>clearTimeout(Oe)},[q,C,g,Vt,xn,gn]),fe.useEffect(()=>{g.delete&&(gn(),g.onDismiss==null||g.onDismiss.call(g,g))},[gn,g.delete]);function fr(){var Oe;if(pe?.loading){var rt;return fe.createElement("div",{className:Xr(ue?.loader,g==null||(rt=g.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":Vt==="loading"},pe.loading)}return fe.createElement(zP,{className:Xr(ue?.loader,g==null||(Oe=g.classNames)==null?void 0:Oe.loader),visible:Vt==="loading"})}const hr=g.icon||pe?.[Vt]||FP(Vt);var at,Ks;return fe.createElement("li",{tabIndex:0,ref:Ze,className:Xr(M,Vo,ue?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ue?.default,ue?.[Vt],g==null||(t=g.classNames)==null?void 0:t[Vt]),"data-sonner-toast":"","data-rich-colors":(at=g.richColors)!=null?at:ee,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":ne,"data-promise":!!g.promise,"data-swiped":ze,"data-removed":ye,"data-visible":Dn,"data-y-position":Or,"data-x-position":Ws,"data-index":U,"data-front":mt,"data-swiping":se,"data-dismissible":Kn,"data-type":Vt,"data-invert":Gs,"data-swipe-out":Re,"data-swipe-direction":L,"data-expanded":!!(q||Ae&&ne),"data-testid":g.testId,style:{"--index":U,"--toasts-before":U,"--z-index":$.length-U,"--offset":`${ye?pt:En.current}px`,"--initial-height":Ae?"auto":`${Pr}px`,...R,...g.style},onDragEnd:()=>{he(!1),X(null),dr.current=null},onPointerDown:Oe=>{Oe.button!==2&&(Qn||!Kn||(Bs.current=new Date,zt(En.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(he(!0),dr.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,rt,Tt;if(Re||!Kn)return;dr.current=null;const Bt=Number(((Oe=Ze.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yn=Number(((rt=Ze.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_t=new Date().getTime()-((Tt=Bs.current)==null?void 0:Tt.getTime()),At=le==="x"?Bt:yn,On=Math.abs(At)/_t;if(Math.abs(At)>=iN||On>.11){zt(En.current),g.onDismiss==null||g.onDismiss.call(g,g),K(le==="x"?Bt>0?"right":"left":yn>0?"down":"up"),gn(),De(!0);return}else{var Rt,sn;(Rt=Ze.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(sn=Ze.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}$e(!1),he(!1),X(null)},onPointerMove:Oe=>{var rt,Tt,Bt;if(!dr.current||!Kn||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const _t=Oe.clientY-dr.current.y,At=Oe.clientX-dr.current.x;var On;const Rt=(On=n.swipeDirections)!=null?On:aN(k);!le&&(Math.abs(At)>1||Math.abs(_t)>1)&&X(Math.abs(At)>Math.abs(_t)?"x":"y");let sn={x:0,y:0};const Yn=$t=>1/(1.5+Math.abs($t)/20);if(le==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&_t<0||Rt.includes("bottom")&&_t>0)sn.y=_t;else{const $t=_t*Yn(_t);sn.y=Math.abs($t)<Math.abs(_t)?$t:_t}}else if(le==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&At<0||Rt.includes("right")&&At>0)sn.x=At;else{const $t=At*Yn(At);sn.x=Math.abs($t)<Math.abs(At)?$t:At}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&$e(!0),(Tt=Ze.current)==null||Tt.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Bt=Ze.current)==null||Bt.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},$s&&!g.jsx&&Vt!=="loading"?fe.createElement("button",{"aria-label":B,"data-disabled":Qn,"data-close-button":!0,onClick:Qn||!Kn?()=>{}:()=>{gn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Xr(ue?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Ks=pe?.close)!=null?Ks:qP):null,(Vt||g.icon||g.promise)&&g.icon!==null&&(pe?.[Vt]!==null||g.icon)?fe.createElement("div",{"data-icon":"",className:Xr(ue?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||fr():null,g.type!=="loading"?hr:null):null,fe.createElement("div",{"data-content":"",className:Xr(ue?.content,g==null||(a=g.classNames)==null?void 0:a.content)},fe.createElement("div",{"data-title":"",className:Xr(ue?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?fe.createElement("div",{"data-description":"",className:Xr(O,Nr,ue?.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),fe.isValidElement(g.cancel)?g.cancel:g.cancel&&Ju(g.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||S,onClick:Oe=>{Ju(g.cancel)&&Kn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Oe),gn())},className:Xr(ue?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,fe.isValidElement(g.action)?g.action:g.action&&Ju(g.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:Oe=>{Ju(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Oe),!Oe.defaultPrevented&&gn())},className:Xr(ue?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function t0(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function cN(n,e){const t={};return[n,e].forEach((r,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",f=a?nN:tN;function h(p){["top","right","bottom","left"].forEach(w=>{t[`${c}-${w}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${c}-${p}`]=f:t[`${c}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(f)}),t}const uN=fe.forwardRef(function(e,t){const{id:r,invert:o,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:f,closeButton:h,className:p,offset:w,mobileOffset:g,theme:T="light",richColors:C,duration:V,style:A,visibleToasts:N=eN,toastOptions:U,dir:$=t0(),gap:q=sN,icons:J,containerAriaLabel:ee="Notifications"}=e,[re,R]=fe.useState([]),S=fe.useMemo(()=>r?re.filter(ne=>ne.toasterId===r):re.filter(ne=>!ne.toasterId),[re,r]),P=fe.useMemo(()=>Array.from(new Set([a].concat(S.filter(ne=>ne.position).map(ne=>ne.position)))),[S,a]),[M,O]=fe.useState([]),[F,k]=fe.useState(!1),[we,Ae]=fe.useState(!1),[ue,pe]=fe.useState(T!=="system"?T:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=fe.useRef(null),le=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=fe.useRef(null),L=fe.useRef(!1),K=fe.useCallback(ne=>{R(ce=>{var ye;return(ye=ce.find(be=>be.id===ne.id))!=null&&ye.delete||Rn.dismiss(ne.id),ce.filter(({id:be})=>be!==ne.id)})},[]);return fe.useEffect(()=>Rn.subscribe(ne=>{if(ne.dismiss){requestAnimationFrame(()=>{R(ce=>ce.map(ye=>ye.id===ne.id?{...ye,delete:!0}:ye))});return}setTimeout(()=>{oE.flushSync(()=>{R(ce=>{const ye=ce.findIndex(be=>be.id===ne.id);return ye!==-1?[...ce.slice(0,ye),{...ce[ye],...ne},...ce.slice(ye+1)]:[ne,...ce]})})})}),[re]),fe.useEffect(()=>{if(T!=="system"){pe(T);return}if(T==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?pe("dark"):pe("light")),typeof window>"u")return;const ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ce})=>{pe(ce?"dark":"light")})}catch{ne.addListener(({matches:ye})=>{try{pe(ye?"dark":"light")}catch(be){console.error(be)}})}},[T]),fe.useEffect(()=>{re.length<=1&&k(!1)},[re]),fe.useEffect(()=>{const ne=ce=>{var ye;if(c.every(he=>ce[he]||ce.code===he)){var se;k(!0),(se=B.current)==null||se.focus()}ce.code==="Escape"&&(document.activeElement===B.current||(ye=B.current)!=null&&ye.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[c]),fe.useEffect(()=>{if(B.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,L.current=!1)}},[B.current]),fe.createElement("section",{ref:t,"aria-label":`${ee} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ne,ce)=>{var ye;const[be,se]=ne.split("-");return S.length?fe.createElement("ol",{key:ne,dir:$==="auto"?t0():$,tabIndex:-1,ref:B,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":be,"data-x-position":se,style:{"--front-toast-height":`${((ye=M[0])==null?void 0:ye.height)||0}px`,"--width":`${rN}px`,"--gap":`${q}px`,...A,...cN(w,g)},onBlur:he=>{L.current&&!he.currentTarget.contains(he.relatedTarget)&&(L.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||L.current||(L.current=!0,X.current=he.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{we||k(!1)},onDragEnd:()=>k(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},S.filter(he=>!he.position&&ce===0||he.position===ne).map((he,Re)=>{var De,ze;return fe.createElement(lN,{key:he.id,icons:J,index:Re,toast:he,defaultRichColors:C,duration:(De=U?.duration)!=null?De:V,className:U?.className,descriptionClassName:U?.descriptionClassName,invert:o,visibleToasts:N,closeButton:(ze=U?.closeButton)!=null?ze:h,interacting:we,position:ne,style:U?.style,unstyled:U?.unstyled,classNames:U?.classNames,cancelButtonStyle:U?.cancelButtonStyle,actionButtonStyle:U?.actionButtonStyle,closeButtonAriaLabel:U?.closeButtonAriaLabel,removeToast:K,toasts:S.filter($e=>$e.position==he.position),heights:M.filter($e=>$e.position==he.position),setHeights:O,expandByDefault:f,gap:q,expanded:F,swipeDirections:e.swipeDirections})})):null}))});function dN({reportData:n,onGenerateStatus:e,onSendToSlack:t,isGeneratingStatus:r,isSendingSlack:o,statusError:a,hasLifecycleData:c}){const f=()=>{if(!n)return;const w=`
STATUS UPDATE

${n.statusSummary}

NEXT STEPS:
${n.nextSteps.map(g=>` ${g}`).join(`
`)}

LAUNCH CHECKLIST:
${n.launchChecklist.map(g=>`${g.status==="complete"?"":g.status==="in-progress"?"":""} ${g.item}`).join(`
`)}
    `.trim();navigator.clipboard.writeText(w),Gt.success("Copied to clipboard",{description:"Status update ready to paste"})},h=()=>{window.open("https://slack.com","_blank"),Gt.success("Opening Slack",{description:"Slack opened in a new tab"})},p=w=>w==="complete"?_.jsx(Cm,{className:"w-4 h-4 text-green-600"}):w==="in-progress"?_.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 rounded-sm flex items-center justify-center",children:_.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-sm"})}):_.jsx("div",{className:"w-4 h-4 border-2 border-[var(--lc-border)] rounded-sm"});return _.jsxs(qa,{className:"space-y-6 border-2 border-blue-400 p-6",style:{borderColor:"#60a5fa"},children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center shadow-sm",children:_.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),_.jsx("h2",{className:"text-[var(--lc-text)] font-semibold",children:"AI Status & Launch Summary"})]}),n?_.jsxs("div",{className:"space-y-6 animate-fade-in",children:[_.jsxs("div",{className:"p-5 bg-[var(--lc-surface-soft)] rounded-xl border border-[var(--lc-border)] hover:border-[var(--lc-accent)] transition-colors duration-150 group/section",children:[_.jsxs("h3",{className:"text-sm font-semibold text-[var(--lc-text)] mb-3 flex items-center gap-2",children:[_.jsx("span",{className:"w-1 h-1 rounded-full bg-blue-500"}),"Status Summary"]}),_.jsx("p",{className:"text-sm text-[var(--lc-muted)] leading-relaxed whitespace-pre-line",children:n.statusSummary})]}),_.jsx(Zw,{className:"bg-[var(--lc-border)]"}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-sm font-semibold text-[var(--lc-text)] mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"w-1 h-1 rounded-full bg-emerald-500"}),"Next Steps"]}),_.jsx("ul",{className:"space-y-3",children:n.nextSteps.map((w,g)=>_.jsxs("li",{className:"flex items-start gap-3 text-[var(--lc-muted)] p-2.5 rounded-lg hover:bg-[var(--lc-surface)] transition-colors duration-150 group/item",children:[_.jsx("span",{className:"text-emerald-400 mt-1 text-sm group-hover/item:scale-125 transition-transform",children:""}),_.jsx("span",{className:"text-sm leading-relaxed group-hover/item:text-[var(--lc-text)] transition-colors duration-150",children:w})]},g))})]}),_.jsx(Zw,{className:"bg-[var(--lc-border)]"}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-sm font-semibold text-[var(--lc-text)] mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"w-1 h-1 rounded-full bg-purple-500"}),"Launch Checklist"]}),_.jsx("ul",{className:"space-y-3",children:n.launchChecklist.map((w,g)=>_.jsxs("li",{className:`flex items-center gap-3 p-2.5 rounded-lg transition-colors duration-150 group/item hover:bg-[var(--lc-surface)] ${w.status==="pending","text-[var(--lc-muted)]"}`,children:[_.jsx("div",{className:"group-hover/item:scale-110 transition-transform",children:p(w.status)}),_.jsx("span",{className:"text-sm",children:w.item})]},g))})]}),_.jsxs("div",{className:"flex items-center justify-between pt-5 border-t border-[var(--lc-border)]",children:[_.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--lc-muted)]",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),_.jsx("div",{className:"absolute inset-0 w-1.5 h-1.5 rounded-full bg-green-500 animate-ping"})]}),_.jsx("span",{children:"Ready to share"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Sr,{variant:"outline",onClick:f,children:[_.jsx(a1,{className:"w-4 h-4 mr-2 group-hover/copy:scale-110 transition-transform"}),"Copy status"]}),_.jsxs(Sr,{variant:"primary",onClick:h,children:[_.jsx(h1,{className:"w-4 h-4 mr-2 group-hover/send:translate-x-1 transition-transform"}),"Send to Slack"]})]})]})]}):_.jsxs("div",{className:"space-y-5",children:[_.jsx("div",{className:"p-5 bg-[var(--lc-surface-soft)] rounded-xl border border-[var(--lc-border)] group/hint hover:border-[var(--lc-accent)] transition-colors duration-150",children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx(Op,{className:"w-5 h-5 text-blue-400 mt-0.5 group-hover/hint:animate-pulse"}),_.jsx("p",{className:"text-sm text-[var(--lc-muted)] leading-relaxed",children:"Generate an AI-powered executive summary with status update, next steps, and launch readiness checklist. Perfect for stakeholder communication."})]})}),a&&_.jsxs(Nm,{variant:"destructive",className:"border-red-800 bg-red-900/20",children:[_.jsx(Am,{className:"h-4 w-4"}),_.jsx(Dm,{className:"text-sm",children:a})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[c&&_.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),_.jsx("p",{className:"text-xs text-[var(--lc-muted)]",children:c?"Ready to generate":"Generate a lifecycle plan first"})]}),_.jsx(Sr,{onClick:e,disabled:!c||r,variant:"primary",className:"!ml-auto !px-8 !py-3 !text-base !font-semibold !rounded-lg !shadow-lg hover:!shadow-xl hover:!scale-105 !transition-all !duration-200 !mr-2 !mb-2",style:{backgroundColor:"#60a5fa",color:"white",padding:"12px 32px",fontSize:"16px",fontWeight:"600",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"none",marginRight:"8px",marginBottom:"8px",cursor:!c||r?"not-allowed":"pointer"},children:r?_.jsxs(_.Fragment,{children:[_.jsx(Wd,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):_.jsxs(_.Fragment,{children:[_.jsx(Op,{className:"w-4 h-4 mr-2 group-hover/btn:rotate-12 transition-transform"}),"Generate Status & GTM Summary"]})})]})]})]})}function fN({teamMembers:n,onAddMember:e,onRemoveMember:t}){const[r,o]=I.useState(!1),[a,c]=I.useState({name:"",email:"",role:"Product Manager"}),f=()=>{if(a.name&&a.email){const h=["blue-500","purple-500","green-500","orange-500","pink-500","indigo-500","red-500","teal-500","yellow-500","cyan-500","fuchsia-500","emerald-500"],p=n.length%h.length,w=h[p];e({...a,department:"Product",color:w}),c({name:"",email:"",role:"Product Manager"}),o(!1)}};return _.jsxs(qa,{className:"p-6 bg-[var(--lc-surface)] border-[var(--lc-border)]",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(yw,{className:"w-5 h-5 text-blue-400"}),_.jsx("h3",{className:"font-semibold text-[var(--lc-text)]",children:"Team & Stakeholders"})]}),_.jsx(Sr,{size:"sm",onClick:()=>o(!r),variant:r?"outline":"default",children:r?_.jsxs(_.Fragment,{children:[_.jsx(vw,{className:"w-4 h-4 mr-2"}),"Cancel"]}):_.jsxs(_.Fragment,{children:[_.jsx(gw,{className:"w-4 h-4 mr-2"}),"Add Member"]})})]}),r&&_.jsxs("div",{className:"mb-4 p-4 bg-[var(--lc-surface)] rounded-lg border border-[var(--lc-border)] space-y-3",children:[_.jsx(ts,{placeholder:"Full name",value:a.name,onChange:h=>c({...a,name:h.target.value}),className:"bg-[var(--lc-surface-soft)] border-[var(--lc-border)] text-[var(--lc-text)] placeholder:text-[var(--lc-muted)]"}),_.jsx(ts,{type:"email",placeholder:"Email address",value:a.email,onChange:h=>c({...a,email:h.target.value}),className:"bg-[var(--lc-surface-soft)] border-[var(--lc-border)] text-[var(--lc-text)] placeholder:text-[var(--lc-muted)]"}),_.jsxs(Km,{value:a.role,onValueChange:h=>c({...a,role:h}),children:[_.jsx(Ym,{className:"bg-[var(--lc-surface-soft)] border-[var(--lc-border)] text-[var(--lc-text)]",children:_.jsx(Qm,{placeholder:"Select role"})}),_.jsxs(Xm,{className:"bg-slate-900 border-2 border-slate-700 shadow-2xl rounded-lg p-1 min-w-[200px]",style:{backgroundColor:"#0f172a",zIndex:9999,position:"relative"},children:[_.jsx(ir,{value:"Product Manager",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Product Manager"}),_.jsx(ir,{value:"Engineering",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Engineering"}),_.jsx(ir,{value:"Design",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Design"}),_.jsx(ir,{value:"Marketing",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Marketing"}),_.jsx(ir,{value:"Sales",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Sales"}),_.jsx(ir,{value:"Executive",className:"text-white cursor-pointer rounded px-3 py-2 my-1 font-medium",style:{backgroundColor:"#0f172a"},children:"Executive"})]})]}),_.jsxs(Sr,{onClick:f,className:"w-full",children:[_.jsx(gw,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]}),_.jsx("div",{className:"space-y-2",children:n.length===0?_.jsxs("div",{className:"text-center py-8 text-[var(--lc-muted)]",children:[_.jsx(yw,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),_.jsx("p",{className:"text-sm",children:"No team members yet"}),_.jsx("p",{className:"text-xs",children:"Add stakeholders to collaborate"})]}):n.map(h=>_.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-[var(--lc-surface-soft)] transition-colors group",children:[_.jsx("div",{className:"flex items-center gap-3",children:_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-[var(--lc-text)]",children:h.name}),_.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--lc-muted)]",children:[_.jsx(u1,{className:"w-3 h-3"}),h.email]})]})}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Qp,{variant:"secondary",className:"text-xs",children:h.role}),_.jsx(Sr,{size:"sm",variant:"ghost",onClick:()=>t(h.id),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(vw,{className:"w-4 h-4"})})]})]},h.id))}),n.length>0&&_.jsx("div",{className:"mt-4 pt-4 border-t border-[var(--lc-border)]",children:_.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--lc-muted)]",children:[_.jsxs("span",{children:[n.length," team member",n.length!==1?"s":""]}),_.jsx("div",{className:"flex items-center gap-1",children:Array.from(new Set(n.map(h=>h.department))).map(h=>_.jsx(Qp,{variant:"outline",className:"text-xs border-[var(--lc-border)] text-[var(--lc-muted)]",children:h},h))})]})})]})}const hN=()=>{};var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,f=c?n[o+1]:0,h=o+2<n.length,p=h?n[o+2]:0,w=a>>2,g=(a&3)<<4|f>>4;let T=(f&15)<<2|p>>6,C=p&63;h||(C=64,c||(T=64)),r.push(t[w],t[g],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Px(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||p==null||g==null)throw new mN;const T=a<<2|f>>4;if(r.push(T),p!==64){const C=f<<4&240|p>>2;if(r.push(C),g!==64){const V=p<<6&192|g;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gN=function(n){const e=Px(n);return Nx.encodeByteArray(e,!0)},Sd=function(n){return gN(n).replace(/\./g,"")},Dx=function(n){try{return Nx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>yN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof n0>"u")return;const n=n0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_N=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dx(n[1]);return e&&JSON.parse(e)},sf=()=>{try{return hN()||vN()||wN()||_N()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ox=n=>sf()?.emulatorHosts?.[n],EN=n=>{const e=Ox(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mx=()=>sf()?.config,Vx=n=>sf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sd(JSON.stringify(t)),Sd(JSON.stringify(c)),""].join(".")}const nc={};function SN(){const n={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?n.emulator.push(e):n.prod.push(e);return n}function IN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let r0=!1;function jx(n,e){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||nc[n]===e||nc[n]||r0)return;nc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=SN().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function h(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{r0=!0,c()},T}function w(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function g(){const T=IN(r),C=t("text"),V=document.getElementById(C)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),U=t("preprendIcon"),$=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;f(q),w(N,A);const J=p();h($,U),q.append($,V,N,J),document.body.appendChild(q)}a?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function CN(){const n=sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PN(){return!CN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ux(){try{return typeof indexedDB=="object"}catch{return!1}}function zx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function NN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class kr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DN,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?ON(a,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new kr(o,f,r)}}function ON(n,e){return n.replace(MN,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const MN=/\{\$([^}]+)}/g;function VN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],c=e[o];if(s0(a)&&s0(c)){if(!ki(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function s0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Xl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LN(n,e){const t=new jN(n,e);return t.subscribe.bind(t)}class jN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e3,zN=2,BN=14400*1e3,$N=.5;function i0(n,e=UN,t=zN){const r=e*Math.pow(t,n),o=Math.round($N*r*(Math.random()-.5)*2);return Math.min(BN,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n){return n&&n._delegate?n._delegate:n}class Cr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qN(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WN(n){return n===go?void 0:n}function qN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const KN={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},QN=We.INFO,YN={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},XN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=YN[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=XN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const JN=(n,e)=>e.some(t=>n instanceof t);let o0,a0;function ZN(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bx=new WeakMap,Xp=new WeakMap,$x=new WeakMap,_p=new WeakMap,eg=new WeakMap;function t2(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Si(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Bx.set(t,n)}).catch(()=>{}),eg.set(e,n),e}function n2(n){if(Xp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Xp.set(n,e)}let Jp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$x.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Si(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r2(n){Jp=n(Jp)}function s2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ep(this),e,...t);return $x.set(r,e.sort?e.sort():[e]),Si(r)}:e2().includes(n)?function(...e){return n.apply(Ep(this),e),Si(Bx.get(this))}:function(...e){return Si(n.apply(Ep(this),e))}}function i2(n){return typeof n=="function"?s2(n):(n instanceof IDBTransaction&&n2(n),JN(n,ZN())?new Proxy(n,Jp):n)}function Si(n){if(n instanceof IDBRequest)return t2(n);if(_p.has(n))return _p.get(n);const e=i2(n);return e!==n&&(_p.set(n,e),eg.set(e,n)),e}const Ep=n=>eg.get(n);function Hx(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),f=Si(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Si(c.result),h.oldVersion,h.newVersion,Si(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const o2=["get","getKey","getAll","getAllKeys","count"],a2=["put","add","delete","clear"],xp=new Map;function l0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=a2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||o2.includes(t)))return;const a=async function(c,...f){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),o&&h.done]))[0]};return xp.set(e,a),a}r2(n=>({...n,get:(e,t,r)=>l0(e,t)||n.get(e,t,r),has:(e,t)=>!!l0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function c2(n){return n.getComponent()?.type==="VERSION"}const Zp="@firebase/app",c0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new of("@firebase/app"),u2="@firebase/app-compat",d2="@firebase/analytics-compat",f2="@firebase/analytics",h2="@firebase/app-check-compat",p2="@firebase/app-check",m2="@firebase/auth",g2="@firebase/auth-compat",y2="@firebase/database",v2="@firebase/data-connect",w2="@firebase/database-compat",_2="@firebase/functions",E2="@firebase/functions-compat",x2="@firebase/installations",T2="@firebase/installations-compat",S2="@firebase/messaging",I2="@firebase/messaging-compat",b2="@firebase/performance",C2="@firebase/performance-compat",A2="@firebase/remote-config",R2="@firebase/remote-config-compat",k2="@firebase/storage",P2="@firebase/storage-compat",N2="@firebase/firestore",D2="@firebase/ai",O2="@firebase/firestore-compat",M2="firebase",V2="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",L2={[Zp]:"fire-core",[u2]:"fire-core-compat",[f2]:"fire-analytics",[d2]:"fire-analytics-compat",[p2]:"fire-app-check",[h2]:"fire-app-check-compat",[m2]:"fire-auth",[g2]:"fire-auth-compat",[y2]:"fire-rtdb",[v2]:"fire-data-connect",[w2]:"fire-rtdb-compat",[_2]:"fire-fn",[E2]:"fire-fn-compat",[x2]:"fire-iid",[T2]:"fire-iid-compat",[S2]:"fire-fcm",[I2]:"fire-fcm-compat",[b2]:"fire-perf",[C2]:"fire-perf-compat",[A2]:"fire-rc",[R2]:"fire-rc-compat",[k2]:"fire-gcs",[P2]:"fire-gcs-compat",[N2]:"fire-fst",[O2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[M2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,j2=new Map,tm=new Map;function u0(n,e){try{n.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ds(n){const e=n.name;if(tm.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,n);for(const t of Id.values())u0(t,n);for(const t of j2.values())u0(t,n);return!0}function Po(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new ko("app","Firebase",F2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=V2;function Wx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:em,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(t||(t=Mx()),!t)throw Ii.create("no-options");const a=Id.get(o);if(a){if(ki(t,a.options)&&ki(r,a.config))return a;throw Ii.create("duplicate-app",{appName:o})}const c=new GN(o);for(const h of tm.values())c.addComponent(h);const f=new U2(t,r,c);return Id.set(o,f),f}function tg(n=em){const e=Id.get(n);if(!e&&n===em&&Mx())return Wx();if(!e)throw Ii.create("no-app",{appName:n});return e}function lr(n,e,t){let r=L2[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}ds(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebase-heartbeat-database",B2=1,uc="firebase-heartbeat-store";let Tp=null;function qx(){return Tp||(Tp=Hx(z2,B2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),Tp}async function $2(n){try{const t=(await qx()).transaction(uc),r=await t.objectStore(uc).get(Gx(n));return await t.done,r}catch(e){if(e instanceof kr)Vs.warn(e.message);else{const t=Ii.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(t.message)}}}async function d0(n,e){try{const r=(await qx()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,Gx(n)),await r.done}catch(t){if(t instanceof kr)Vs.warn(t.message);else{const r=Ii.create("idb-set",{originalErrorMessage:t?.message});Vs.warn(r.message)}}}function Gx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1024,W2=30;class q2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new K2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>W2){const o=Q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f0(),{heartbeatsToSend:t,unsentEntries:r}=G2(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vs.warn(e),""}}}function f0(){return new Date().toISOString().substring(0,10)}function G2(n,e=H2){const t=[];let r=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),h0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),h0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class K2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ux()?zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h0(n){return Sd(JSON.stringify({version:2,heartbeats:n})).length}function Q2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n){ds(new Cr("platform-logger",e=>new l2(e),"PRIVATE")),ds(new Cr("heartbeat",e=>new q2(e),"PRIVATE")),lr(Zp,c0,n),lr(Zp,c0,"esm2020"),lr("fire-js","")}Y2("");function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X2=Kx,Qx=new ko("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new of("@firebase/auth");function J2(n,...e){bd.logLevel<=We.WARN&&bd.warn(`Auth (${Xa}): ${n}`,...e)}function ld(n,...e){bd.logLevel<=We.ERROR&&bd.error(`Auth (${Xa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw ng(n,...e)}function rs(n,...e){return ng(n,...e)}function Yx(n,e,t){const r={...X2(),[e]:t};return new ko("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return Yx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qx.create(n,...e)}function Me(n,e,...t){if(!n)throw ng(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ld(e),new Error(e)}function Ls(n,e){n||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return typeof self<"u"&&self.location?.href||""}function Z2(){return p0()==="http:"||p0()==="https:"}function p0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z2()||Fx()||"connection"in navigator)?navigator.onLine:!0}function tD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ls(t>e,"Short delay should be less than long delay!"),this.isMobile=bN()||RN()}get(){return eD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e){Ls(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sD=new Tc(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function zs(n,e,t,r,o={}){return Jx(n,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const f=xc({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...a};return AN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Ya(n.emulatorConfig.host)&&(p.credentials="include"),Xx.fetch()(await Zx(n,n.config.apiHost,t,f),p)})}async function Jx(n,e,t){n._canInitEmulator=!1;const r={...nD,...e};try{const o=new oD(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Zu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Zu(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Zu(n,"user-disabled",c);const w=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yx(n,w,p);Ar(n,w)}}catch(o){if(o instanceof kr)throw o;Ar(n,"network-request-failed",{message:String(o)})}}async function Sc(n,e,t,r,o={}){const a=await zs(n,e,t,r,o);return"mfaPendingCredential"in a&&Ar(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Zx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,c=a.config.emulator?rg(n.config,o):`${n.config.apiScheme}://${o}`;return rD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function iD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),sD.get())})}}function Zu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=rs(n,e,r);return o.customData._tokenResponse=t,o}function m0(n){return n!==void 0&&n.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lD(n,e){return zs(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return zs(n,"POST","/v1/accounts:delete",e)}async function Cd(n,e){return zs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uD(n,e=!1){const t=xt(n),r=await t.getIdToken(e),o=sg(r);Me(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:rc(Sp(o.auth_time)),issuedAtTime:rc(Sp(o.iat)),expirationTime:rc(Sp(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Sp(n){return Number(n)*1e3}function sg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dx(t);return o?JSON.parse(o):(ld("Failed to decode base64 JWT payload"),null)}catch(o){return ld("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g0(n){const e=sg(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof kr&&dD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(n){const e=n.auth,t=await n.getIdToken(),r=await Va(n,Cd(e,{idToken:t}));Me(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?eT(o.providerUserInfo):[],c=pD(n.providerData,a),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!c?.length,p=f?h:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,w)}async function hD(n){const e=xt(n);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function eT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e){const t=await Jx(n,{},async()=>{const r=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await Zx(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Ya(n.emulatorConfig.host)&&(h.credentials="include"),Xx.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gD(n,e){return zs(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=g0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await mD(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,c=new Aa;return r&&(Me(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Me(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Me(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Va(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Va(this,cD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:g,emailVerified:T,isAnonymous:C,providerData:V,stsTokenManager:A}=t;Me(g&&A,e,"internal-error");const N=Aa.fromJSON(this.name,A);Me(typeof g=="string",e,"internal-error"),gi(r,e.name),gi(o,e.name),Me(typeof T=="boolean",e,"internal-error"),Me(typeof C=="boolean",e,"internal-error"),gi(a,e.name),gi(c,e.name),gi(f,e.name),gi(h,e.name),gi(p,e.name),gi(w,e.name);const U=new Tr({uid:g,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:a,tenantId:f,stsTokenManager:N,createdAt:p,lastLoginAt:w});return V&&Array.isArray(V)&&(U.providerData=V.map($=>({...$}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,t,r=!1){const o=new Aa;o.updateFromServerResponse(t);const a=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ad(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Me(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,f=new Aa;f.updateFromIdToken(r);const h=new Tr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Ps(n){Ls(n instanceof Function,"Expected a class definition");let e=y0.get(n);return e?(Ls(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tT.type="NONE";const v0=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=cd(this.userKey,o.apiKey,a),this.fullPersistenceKey=cd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cd(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ra(Ps(v0),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||Ps(v0);const c=cd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const w=await p._get(c);if(w){let g;if(typeof w=="string"){const T=await Cd(e,{idToken:w}).catch(()=>{});if(!T)break;g=await Tr._fromGetAccountInfoResponse(e,T,w)}else g=Tr._fromJSON(e,w);p!==a&&(f=g),a=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ra(a,e,r):(a=h[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(c)}catch{}})),new Ra(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(lT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function nT(n=mn()){return/firefox\//i.test(n)}function rT(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(n=mn()){return/crios\//i.test(n)}function iT(n=mn()){return/iemobile/i.test(n)}function oT(n=mn()){return/android/i.test(n)}function aT(n=mn()){return/blackberry/i.test(n)}function lT(n=mn()){return/webos/i.test(n)}function ig(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yD(n=mn()){return ig(n)&&!!window.navigator?.standalone}function vD(){return kN()&&document.documentMode===10}function cT(n=mn()){return ig(n)||oT(n)||lT(n)||aT(n)||/windows phone/i.test(n)||iT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n,e=[]){let t;switch(n){case"Browser":t=w0(mn());break;case"Worker":t=`${w0(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,f)=>{try{const h=e(a);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e={}){return zs(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=6;class xD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ED,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new wD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ps(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cd(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===c)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Ns(this));const t=e?xt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _D(this),t=new xD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ps(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&J2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function No(n){return xt(n)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LN(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SD(n){af=n}function dT(n){return af.loadJS(n)}function ID(){return af.recaptchaEnterpriseScript}function bD(){return af.gapiScript}function CD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AD{constructor(){this.enterprise=new RD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kD="recaptcha-enterprise",fT="NO_RECAPTCHA";class PD{constructor(e){this.type=kD,this.auth=No(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{lD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new aD(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function o(a,c,f){const h=window.grecaptcha;m0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{c(p)}).catch(()=>{c(fT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AD().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(f=>{if(!t&&m0(window.grecaptcha))o(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=ID();h.length!==0&&(h+=f),dT(h).then(()=>{o(f,a,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function E0(n,e,t,r=!1,o=!1){const a=new PD(n);let c;if(o)c=fT;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function sm(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await E0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await E0(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n,e){const t=Po(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ki(a,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function DD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function OD(n,e,t){const r=No(n);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=hT(e),{host:c,port:f}=MD(e),h=f===null?"":`:${f}`,p={url:`${a}//${c}${h}/`},w=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(ki(p,r.config.emulator)&&ki(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Ya(c)?(Lx(`${a}//${c}${h}`),jx("Auth",!0)):VD()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MD(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:x0(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:x0(c)}}}function x0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function LD(n,e){return zs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){return Sc(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e){return Sc(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function UD(n,e){return Sc(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends og{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new dc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,t,"signInWithPassword",jD);case"emailLink":return FD(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",LD);case"emailLink":return UD(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n,e){return Sc(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="http://localhost";class So extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const c=new So(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ka(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ka(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ka(e,t)}buildRequest(){const e={requestUri:zD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(n){const e=Yl(Xl(n)).link,t=e?Yl(Xl(e)).deep_link_id:null,r=Yl(Xl(n)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||t||e||n}class ag{constructor(e){const t=Yl(Xl(e)),r=t.apiKey??null,o=t.oobCode??null,a=BD(t.mode??null);Me(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=$D(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,t){return dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ag.parseLink(t);return Me(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ic{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return _i.credential(t,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ic{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ic{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e){return Sc(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Tr._fromIdTokenResponse(e,r,o),c=T0(r);return new Io({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=T0(r);return new Io({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function T0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends kr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Rd(e,t,r,o)}}function mT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,a,e,r):a})}async function WD(n,e,t=!1){const r=await Va(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Io._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e,t=!1){const{auth:r}=n;if(or(r.app))return Promise.reject(Ns(r));const o="reauthenticate";try{const a=await Va(n,mT(r,o,e,n),t);Me(a.idToken,r,"internal-error");const c=sg(a.idToken);Me(c,r,"internal-error");const{sub:f}=c;return Me(n.uid===f,r,"user-mismatch"),Io._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n,e,t=!1){if(or(n.app))return Promise.reject(Ns(n));const r="signIn",o=await mT(n,r,e),a=await Io._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function GD(n,e){return gT(No(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(n){const e=No(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KD(n,e,t){if(or(n.app))return Promise.reject(Ns(n));const r=No(n),c=await sm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HD).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&yT(n),h}),f=await Io._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function QD(n,e,t){return or(n.app)?Promise.reject(Ns(n)):GD(xt(n),Ja.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e){return zs(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Va(r,YD(r.auth,a));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function JD(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function ZD(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}function eO(n,e,t,r){return xt(n).onAuthStateChanged(e,t,r)}function tO(n){return xt(n).signOut()}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=1e3,rO=10;class wT extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);vD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rO):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const sO=wT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_T.type="SESSION";const ET=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(c).map(async p=>p(t.origin,a)),h=await iO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,h)=>{const p=lg("",20);o.port1.start();const w=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(g){const T=g;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(T.data.response);break;default:clearTimeout(w),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function aO(n){ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function lO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cO(){return navigator?.serviceWorker?.controller||null}function uO(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",dO=1,Pd="firebaseLocalStorage",ST="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cf(n,e){return n.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function fO(){const n=indexedDB.deleteDatabase(TT);return new bc(n).toPromise()}function im(){const n=indexedDB.open(TT,dO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Pd,{keyPath:ST})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await fO(),e(await im()))})})}async function S0(n,e,t){const r=cf(n,!0).put({[ST]:e,value:t});return new bc(r).toPromise()}async function hO(n,e){const t=cf(n,!1).get(e),r=await new bc(t).toPromise();return r===void 0?null:r.value}function I0(n,e){const t=cf(n,!0).delete(e);return new bc(t).toPromise()}const pO=800,mO=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(uO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lO(),!this.activeServiceWorker)return;this.sender=new oO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await S0(e,kd,"1"),await I0(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cf(o,!1).getAll();return new bc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const gO=IT;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n,e){return e?Ps(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ka(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vO(n){return gT(n.auth,new cg(n),n.bypassAuthState)}function wO(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),qD(t,new cg(n),n.bypassAuthState)}async function _O(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),WD(t,new cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vO;case"linkViaPopup":case"linkViaRedirect":return _O;case"reauthViaPopup":case"reauthViaRedirect":return wO;default:Ar(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Tc(2e3,1e4);class Ia extends bT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EO.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="pendingRedirect",ud=new Map;class TO extends bT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ud.get(this.auth._key());if(!e){try{const r=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ud.set(this.auth._key(),e)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(n,e){const t=CO(e),r=bO(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function IO(n,e){ud.set(n._key(),e)}function bO(n){return Ps(n._redirectPersistence)}function CO(n){return cd(xO,n.config.apiKey,n.name)}async function AO(n,e,t=!1){if(or(n.app))return Promise.reject(Ns(n));const r=No(n),o=yO(r,e),c=await new TO(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=600*1e3;class kO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!CT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RO&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e={}){return zs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OO=/^https?/;async function MO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NO(n);for(const t of e)try{if(VO(t))return}catch{}Ar(n,"unauthorized-domain")}function VO(n){const e=nm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!OO.test(t))return!1;if(DO.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Tc(3e4,6e4);function C0(){const n=ss().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jO(n){return new Promise((e,t)=>{function r(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),t(rs(n,"network-request-failed"))},timeout:LO.get()})}if(ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ss().gapi?.load)r();else{const o=CD("iframefcb");return ss()[o]=()=>{gapi.load?r():t(rs(n,"network-request-failed"))},dT(`${bD()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw dd=null,e})}let dd=null;function FO(n){return dd=dd||jO(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Tc(5e3,15e3),zO="__/auth/iframe",BO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rg(e,BO):`https://${n.config.authDomain}/${zO}`,r={apiKey:e.apiKey,appName:n.name,v:Xa},o=HO.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${xc(r).slice(1)}`}async function qO(n){const e=await FO(n),t=ss().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:WO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=rs(n,"network-request-failed"),f=ss().setTimeout(()=>{a(c)},UO.get());function h(){ss().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KO=500,QO=600,YO="_blank",XO="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JO(n,e,t,r=KO,o=QO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...GO,width:r.toString(),height:o.toString(),top:a,left:c},p=mn().toLowerCase();t&&(f=sT(p)?YO:t),nT(p)&&(e=e||XO,h.scrollbars="yes");const w=Object.entries(h).reduce((T,[C,V])=>`${T}${C}=${V},`,"");if(yD(p)&&f!=="_self")return ZO(e||"",f),new A0(null);const g=window.open(e||"",f,w);Me(g,n,"popup-blocked");try{g.focus()}catch{}return new A0(g)}function ZO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__/auth/handler",tM="emulator/auth/handler",nM=encodeURIComponent("fac");async function R0(n,e,t,r,o,a){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xa,eventId:o};if(e instanceof pT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",VN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,g]of Object.entries({}))c[w]=g}if(e instanceof Ic){const w=e.getScopes().filter(g=>g!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const h=await n._getAppCheckToken(),p=h?`#${nM}=${encodeURIComponent(h)}`:"";return`${rM(n)}?${xc(f).slice(1)}${p}`}function rM({config:n}){return n.emulator?rg(n,tM):`https://${n.authDomain}/${eM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class sM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=AO,this._overrideRedirectResult=IO}async _openPopup(e,t,r,o){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await R0(e,t,r,nm(),o);return JO(e,a,lg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await R0(e,t,r,nm(),o);return aO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Ls(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await qO(e),r=new kO(e);return t.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},o=>{const a=o?.[0]?.[Ip];a!==void 0&&t(!!a),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cT()||rT()||ig()}}const iM=sM;var k0="@firebase/auth",P0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lM(n){ds(new Cr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(n)},p=new TD(r,o,a,h);return DD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Cr("auth-internal",e=>{const t=No(e.getProvider("auth").getImmediate());return(r=>new oM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(k0,P0,aM(n)),lr(k0,P0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=300,uM=Vx("authIdTokenMaxAge")||cM;let N0=null;const dM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uM)return;const o=t?.token;N0!==o&&(N0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fM(n=tg()){const e=Po(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ND(n,{popupRedirectResolver:iM,persistence:[gO,sO,ET]}),r=Vx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=dM(a.toString());ZD(t,c,()=>c(t.currentUser)),JD(t,f=>c(f))}}const o=Ox("auth");return o&&OD(t,`http://${o}`),t}function hM(){return document.getElementsByTagName("head")?.[0]??document}SD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=rs("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",hM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lM("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,AT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function P(){}P.prototype=S.prototype,R.F=S.prototype,R.prototype=new P,R.prototype.constructor=R,R.D=function(M,O,F){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return S.prototype[O].apply(M,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,P){P||(P=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(O=0;O<16;++O)M[O]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=R.g[0],P=R.g[1],O=R.g[2];let F=R.g[3],k;k=S+(F^P&(O^F))+M[0]+3614090360&4294967295,S=P+(k<<7&4294967295|k>>>25),k=F+(O^S&(P^O))+M[1]+3905402710&4294967295,F=S+(k<<12&4294967295|k>>>20),k=O+(P^F&(S^P))+M[2]+606105819&4294967295,O=F+(k<<17&4294967295|k>>>15),k=P+(S^O&(F^S))+M[3]+3250441966&4294967295,P=O+(k<<22&4294967295|k>>>10),k=S+(F^P&(O^F))+M[4]+4118548399&4294967295,S=P+(k<<7&4294967295|k>>>25),k=F+(O^S&(P^O))+M[5]+1200080426&4294967295,F=S+(k<<12&4294967295|k>>>20),k=O+(P^F&(S^P))+M[6]+2821735955&4294967295,O=F+(k<<17&4294967295|k>>>15),k=P+(S^O&(F^S))+M[7]+4249261313&4294967295,P=O+(k<<22&4294967295|k>>>10),k=S+(F^P&(O^F))+M[8]+1770035416&4294967295,S=P+(k<<7&4294967295|k>>>25),k=F+(O^S&(P^O))+M[9]+2336552879&4294967295,F=S+(k<<12&4294967295|k>>>20),k=O+(P^F&(S^P))+M[10]+4294925233&4294967295,O=F+(k<<17&4294967295|k>>>15),k=P+(S^O&(F^S))+M[11]+2304563134&4294967295,P=O+(k<<22&4294967295|k>>>10),k=S+(F^P&(O^F))+M[12]+1804603682&4294967295,S=P+(k<<7&4294967295|k>>>25),k=F+(O^S&(P^O))+M[13]+4254626195&4294967295,F=S+(k<<12&4294967295|k>>>20),k=O+(P^F&(S^P))+M[14]+2792965006&4294967295,O=F+(k<<17&4294967295|k>>>15),k=P+(S^O&(F^S))+M[15]+1236535329&4294967295,P=O+(k<<22&4294967295|k>>>10),k=S+(O^F&(P^O))+M[1]+4129170786&4294967295,S=P+(k<<5&4294967295|k>>>27),k=F+(P^O&(S^P))+M[6]+3225465664&4294967295,F=S+(k<<9&4294967295|k>>>23),k=O+(S^P&(F^S))+M[11]+643717713&4294967295,O=F+(k<<14&4294967295|k>>>18),k=P+(F^S&(O^F))+M[0]+3921069994&4294967295,P=O+(k<<20&4294967295|k>>>12),k=S+(O^F&(P^O))+M[5]+3593408605&4294967295,S=P+(k<<5&4294967295|k>>>27),k=F+(P^O&(S^P))+M[10]+38016083&4294967295,F=S+(k<<9&4294967295|k>>>23),k=O+(S^P&(F^S))+M[15]+3634488961&4294967295,O=F+(k<<14&4294967295|k>>>18),k=P+(F^S&(O^F))+M[4]+3889429448&4294967295,P=O+(k<<20&4294967295|k>>>12),k=S+(O^F&(P^O))+M[9]+568446438&4294967295,S=P+(k<<5&4294967295|k>>>27),k=F+(P^O&(S^P))+M[14]+3275163606&4294967295,F=S+(k<<9&4294967295|k>>>23),k=O+(S^P&(F^S))+M[3]+4107603335&4294967295,O=F+(k<<14&4294967295|k>>>18),k=P+(F^S&(O^F))+M[8]+1163531501&4294967295,P=O+(k<<20&4294967295|k>>>12),k=S+(O^F&(P^O))+M[13]+2850285829&4294967295,S=P+(k<<5&4294967295|k>>>27),k=F+(P^O&(S^P))+M[2]+4243563512&4294967295,F=S+(k<<9&4294967295|k>>>23),k=O+(S^P&(F^S))+M[7]+1735328473&4294967295,O=F+(k<<14&4294967295|k>>>18),k=P+(F^S&(O^F))+M[12]+2368359562&4294967295,P=O+(k<<20&4294967295|k>>>12),k=S+(P^O^F)+M[5]+4294588738&4294967295,S=P+(k<<4&4294967295|k>>>28),k=F+(S^P^O)+M[8]+2272392833&4294967295,F=S+(k<<11&4294967295|k>>>21),k=O+(F^S^P)+M[11]+1839030562&4294967295,O=F+(k<<16&4294967295|k>>>16),k=P+(O^F^S)+M[14]+4259657740&4294967295,P=O+(k<<23&4294967295|k>>>9),k=S+(P^O^F)+M[1]+2763975236&4294967295,S=P+(k<<4&4294967295|k>>>28),k=F+(S^P^O)+M[4]+1272893353&4294967295,F=S+(k<<11&4294967295|k>>>21),k=O+(F^S^P)+M[7]+4139469664&4294967295,O=F+(k<<16&4294967295|k>>>16),k=P+(O^F^S)+M[10]+3200236656&4294967295,P=O+(k<<23&4294967295|k>>>9),k=S+(P^O^F)+M[13]+681279174&4294967295,S=P+(k<<4&4294967295|k>>>28),k=F+(S^P^O)+M[0]+3936430074&4294967295,F=S+(k<<11&4294967295|k>>>21),k=O+(F^S^P)+M[3]+3572445317&4294967295,O=F+(k<<16&4294967295|k>>>16),k=P+(O^F^S)+M[6]+76029189&4294967295,P=O+(k<<23&4294967295|k>>>9),k=S+(P^O^F)+M[9]+3654602809&4294967295,S=P+(k<<4&4294967295|k>>>28),k=F+(S^P^O)+M[12]+3873151461&4294967295,F=S+(k<<11&4294967295|k>>>21),k=O+(F^S^P)+M[15]+530742520&4294967295,O=F+(k<<16&4294967295|k>>>16),k=P+(O^F^S)+M[2]+3299628645&4294967295,P=O+(k<<23&4294967295|k>>>9),k=S+(O^(P|~F))+M[0]+4096336452&4294967295,S=P+(k<<6&4294967295|k>>>26),k=F+(P^(S|~O))+M[7]+1126891415&4294967295,F=S+(k<<10&4294967295|k>>>22),k=O+(S^(F|~P))+M[14]+2878612391&4294967295,O=F+(k<<15&4294967295|k>>>17),k=P+(F^(O|~S))+M[5]+4237533241&4294967295,P=O+(k<<21&4294967295|k>>>11),k=S+(O^(P|~F))+M[12]+1700485571&4294967295,S=P+(k<<6&4294967295|k>>>26),k=F+(P^(S|~O))+M[3]+2399980690&4294967295,F=S+(k<<10&4294967295|k>>>22),k=O+(S^(F|~P))+M[10]+4293915773&4294967295,O=F+(k<<15&4294967295|k>>>17),k=P+(F^(O|~S))+M[1]+2240044497&4294967295,P=O+(k<<21&4294967295|k>>>11),k=S+(O^(P|~F))+M[8]+1873313359&4294967295,S=P+(k<<6&4294967295|k>>>26),k=F+(P^(S|~O))+M[15]+4264355552&4294967295,F=S+(k<<10&4294967295|k>>>22),k=O+(S^(F|~P))+M[6]+2734768916&4294967295,O=F+(k<<15&4294967295|k>>>17),k=P+(F^(O|~S))+M[13]+1309151649&4294967295,P=O+(k<<21&4294967295|k>>>11),k=S+(O^(P|~F))+M[4]+4149444226&4294967295,S=P+(k<<6&4294967295|k>>>26),k=F+(P^(S|~O))+M[11]+3174756917&4294967295,F=S+(k<<10&4294967295|k>>>22),k=O+(S^(F|~P))+M[2]+718787259&4294967295,O=F+(k<<15&4294967295|k>>>17),k=P+(F^(O|~S))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+F&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const P=S-this.blockSize,M=this.C;let O=this.h,F=0;for(;F<S;){if(O==0)for(;F<=P;)o(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<S;)if(M[O++]=R.charCodeAt(F++),O==this.blockSize){o(this,M),O=0;break}}else for(;F<S;)if(M[O++]=R[F++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var P=R.length-8;P<R.length;++P)R[P]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,P=0;P<4;++P)for(let M=0;M<32;M+=8)R[S++]=this.g[P]>>>M&255;return R};function a(R,S){var P=f;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=S(R)}function c(R,S){this.h=S;const P=[];let M=!0;for(let O=R.length-1;O>=0;O--){const F=R[O]|0;M&&F==S||(P[O]=F,M=!1)}this.g=P}var f={};function h(R){return-128<=R&&R<128?a(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return N(p(-R));const S=[];let P=1;for(let M=0;R>=P;M++)S[M]=R/P|0,P*=4294967296;return new c(S,0)}function w(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return N(w(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(S,8));let M=g;for(let F=0;F<R.length;F+=8){var O=Math.min(8,R.length-F);const k=parseInt(R.substring(F,F+O),S);O<8?(O=p(Math.pow(S,O)),M=M.j(O).add(p(k))):(M=M.j(P),M=M.add(p(k)))}return M}var g=h(0),T=h(1),C=h(16777216);n=c.prototype,n.m=function(){if(A(this))return-N(this).m();let R=0,S=1;for(let P=0;P<this.g.length;P++){const M=this.i(P);R+=(M>=0?M:4294967296+M)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V(this))return"0";if(A(this))return"-"+N(this).toString(R);const S=p(Math.pow(R,6));var P=this;let M="";for(;;){const O=J(P,S).g;P=U(P,O.j(S));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(R);if(P=O,V(P))return F+M;for(;F.length<6;)F="0"+F;M=F+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function V(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=U(this,R),A(R)?-1:V(R)?0:1};function N(R){const S=R.g.length,P=[];for(let M=0;M<S;M++)P[M]=~R.g[M];return new c(P,~R.h).add(T)}n.abs=function(){return A(this)?N(this):this},n.add=function(R){const S=Math.max(this.g.length,R.g.length),P=[];let M=0;for(let O=0;O<=S;O++){let F=M+(this.i(O)&65535)+(R.i(O)&65535),k=(F>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);M=k>>>16,F&=65535,k&=65535,P[O]=k<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function U(R,S){return R.add(N(S))}n.j=function(R){if(V(this)||V(R))return g;if(A(this))return A(R)?N(this).j(N(R)):N(N(this).j(R));if(A(R))return N(this.j(N(R)));if(this.l(C)<0&&R.l(C)<0)return p(this.m()*R.m());const S=this.g.length+R.g.length,P=[];for(var M=0;M<2*S;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<R.g.length;O++){const F=this.i(M)>>>16,k=this.i(M)&65535,we=R.i(O)>>>16,Ae=R.i(O)&65535;P[2*M+2*O]+=k*Ae,$(P,2*M+2*O),P[2*M+2*O+1]+=F*Ae,$(P,2*M+2*O+1),P[2*M+2*O+1]+=k*we,$(P,2*M+2*O+1),P[2*M+2*O+2]+=F*we,$(P,2*M+2*O+2)}for(R=0;R<S;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=S;R<2*S;R++)P[R]=0;return new c(P,0)};function $(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function q(R,S){this.g=R,this.h=S}function J(R,S){if(V(S))throw Error("division by zero");if(V(R))return new q(g,g);if(A(R))return S=J(N(R),S),new q(N(S.g),N(S.h));if(A(S))return S=J(R,N(S)),new q(N(S.g),S.h);if(R.g.length>30){if(A(R)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var P=T,M=S;M.l(R)<=0;)P=ee(P),M=ee(M);var O=re(P,1),F=re(M,1);for(M=re(M,2),P=re(P,2);!V(M);){var k=F.add(M);k.l(R)<=0&&(O=O.add(P),F=k),M=re(M,1),P=re(P,1)}return S=U(R,O.j(S)),new q(O,S)}for(O=g;R.l(S)>=0;){for(P=Math.max(1,Math.floor(R.m()/S.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),F=p(P),k=F.j(S);A(k)||k.l(R)>0;)P-=M,F=p(P),k=F.j(S);V(F)&&(F=T),O=O.add(F),R=U(R,k)}return new q(O,R)}n.B=function(R){return J(this,R).h},n.and=function(R){const S=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<S;M++)P[M]=this.i(M)&R.i(M);return new c(P,this.h&R.h)},n.or=function(R){const S=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<S;M++)P[M]=this.i(M)|R.i(M);return new c(P,this.h|R.h)},n.xor=function(R){const S=Math.max(this.g.length,R.g.length),P=[];for(let M=0;M<S;M++)P[M]=this.i(M)^R.i(M);return new c(P,this.h^R.h)};function ee(R){const S=R.g.length+1,P=[];for(let M=0;M<S;M++)P[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(P,R.h)}function re(R,S){const P=S>>5;S%=32;const M=R.g.length-P,O=[];for(let F=0;F<M;F++)O[F]=S>0?R.i(F+P)>>>S|R.i(F+P+1)<<32-S:R.i(F+P);return new c(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=w,bi=c}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,Jl,kT,fd,om,PT,NT,DT;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var v=0;v<u.length;++v){var E=u[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(u,v){if(v)e:{var E=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var W=u[b];if(!(W in E))break e;E=E[W]}u=u[u.length-1],b=E[u],v=v(b),v!=b&&v!=null&&e(E,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var E=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&E.push([b,v[b]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function f(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function h(u,v,E){return u.call.apply(u.bind,arguments)}function p(u,v,E){return p=h,p.apply(null,arguments)}function w(u,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function g(u,v){function E(){}E.prototype=v.prototype,u.Z=v.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,W,Y){for(var me=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)me[Fe-2]=arguments[Fe];return v.prototype[W].apply(b,me)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function C(u){const v=u.length;if(v>0){const E=Array(v);for(let b=0;b<v;b++)E[b]=u[b];return E}return[]}function V(u,v){for(let b=1;b<arguments.length;b++){const W=arguments[b];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=u.length||0;const Y=W.length||0;u.length=E+Y;for(let me=0;me<Y;me++)u[E+me]=W[me]}else u.push(W)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(u){c.setTimeout(()=>{throw u},0)}function U(){var u=R;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const b=q.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var q=new A(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,R=new $,S=()=>{const u=Promise.resolve(void 0);ee=()=>{u.then(P)}};function P(){for(var u;u=U();){try{u.h.call(u.g)}catch(E){N(E)}var v=q;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}re=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function we(u,v){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}g(we,O),we.prototype.init=function(u,v){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(E=="mouseover"?v=u.fromElement:E=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ue=0;function pe(u,v,E,b,W){this.listener=u,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=W,this.key=++ue,this.da=this.fa=!1}function B(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u,v,E){for(const b in u)v.call(E,u[b],b,u)}function X(u,v){for(const E in u)v.call(void 0,u[E],E,u)}function L(u){const v={};for(const E in u)v[E]=u[E];return v}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,v){let E,b;for(let W=1;W<arguments.length;W++){b=arguments[W];for(E in b)u[E]=b[E];for(let Y=0;Y<K.length;Y++)E=K[Y],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,v,E,b,W){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const me=be(u,v,b,W);return me>-1?(v=u[me],E||(v.fa=!1)):(v=new pe(v,this.src,Y,!!b,W),v.fa=E,u.push(v)),v};function ye(u,v){const E=v.type;if(E in u.g){var b=u.g[E],W=Array.prototype.indexOf.call(b,v,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(b,W,1),Y&&(B(v),u.g[E].length==0&&(delete u.g[E],u.h--))}}function be(u,v,E,b){for(let W=0;W<u.length;++W){const Y=u[W];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==b)return W}return-1}var se="closure_lm_"+(Math.random()*1e6|0),he={};function Re(u,v,E,b,W){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)Re(u,v[Y],E,b,W);return null}return E=Bs(E),u&&u[Ae]?u.J(v,E,f(b)?!!b.capture:!1,W):De(u,v,E,!1,b,W)}function De(u,v,E,b,W,Y){if(!v)throw Error("Invalid event type");const me=f(W)?!!W.capture:!!W;let Fe=Nn(u);if(Fe||(u[se]=Fe=new ce(u)),E=Fe.add(v,E,b,me,Y),E.proxy)return E;if(b=ze(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)F||(W=me),W===void 0&&(W=!1),u.addEventListener(v.toString(),b,W);else if(u.attachEvent)u.attachEvent(zt(v.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ze(){function u(E){return v.call(u.src,u.listener,E)}const v=Pr;return u}function $e(u,v,E,b,W){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)$e(u,v[Y],E,b,W);else b=f(b)?!!b.capture:!!b,E=Bs(E),u&&u[Ae]?(u=u.i,Y=String(v).toString(),Y in u.g&&(v=u.g[Y],E=be(v,E,b,W),E>-1&&(B(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Nn(u))&&(v=u.g[v.toString()],u=-1,v&&(u=be(v,E,b,W)),(E=u>-1?v[u]:null)&&pt(E))}function pt(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ae])ye(v.i,u);else{var E=u.type,b=u.proxy;v.removeEventListener?v.removeEventListener(E,b,u.capture):v.detachEvent?v.detachEvent(zt(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=Nn(v))?(ye(E,u),E.h==0&&(E.src=null,v[se]=null)):B(u)}}}function zt(u){return u in he?he[u]:he[u]="on"+u}function Pr(u,v){if(u.da)u=!0;else{v=new we(v,this);const E=u.listener,b=u.ha||u.src;u.fa&&pt(u),u=E.call(b,v)}return u}function Nn(u){return u=u[se],u instanceof ce?u:null}var Qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bs(u){return typeof u=="function"?u:(u[Qt]||(u[Qt]=function(v){return u.handleEvent(v)}),u[Qt])}function Ze(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}g(Ze,M),Ze.prototype[Ae]=!0,Ze.prototype.removeEventListener=function(u,v,E,b){$e(this,u,v,E,b)};function mt(u,v){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=v.type||v,typeof v=="string")v=new O(v,u);else if(v instanceof O)v.target=v.target||u;else{var W=v;v=new O(b,u),ne(v,W)}W=!0;let Y,me;if(E)for(me=E.length-1;me>=0;me--)Y=v.g=E[me],W=Dn(Y,b,!0,v)&&W;if(Y=v.g=u,W=Dn(Y,b,!0,v)&&W,W=Dn(Y,b,!1,v)&&W,E)for(me=0;me<E.length;me++)Y=v.g=E[me],W=Dn(Y,b,!1,v)&&W}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const E=u.g[v];for(let b=0;b<E.length;b++)B(E[b]);delete u.g[v],u.h--}}this.G=null},Ze.prototype.J=function(u,v,E,b){return this.i.add(String(u),v,!1,E,b)},Ze.prototype.K=function(u,v,E,b){return this.i.add(String(u),v,!0,E,b)};function Dn(u,v,E,b){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let Y=0;Y<v.length;++Y){const me=v[Y];if(me&&!me.da&&me.capture==E){const Fe=me.listener,St=me.ha||me.src;me.fa&&ye(u.i,me),W=Fe.call(St,b)!==!1&&W}}return W&&!b.defaultPrevented}function Vt(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(u,v||0)}function Kn(u){u.g=Vt(()=>{u.g=null,u.i&&(u.i=!1,Kn(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Vo extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){M.call(this),this.h=u,this.g={}}g(Nr,M);var Dr=[];function $s(u){le(u.g,function(v,E){this.g.hasOwnProperty(E)&&pt(v)},u),u.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),$s(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=c.JSON.stringify,Hs=c.JSON.parse,En=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ur(){}function dr(){}var Or={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ws(){O.call(this,"d")}g(Ws,O);function qs(){O.call(this,"c")}g(qs,O);var xn={},Gs=null;function Qn(){return Gs=Gs||new Ze}xn.Ia="serverreachability";function gn(u){O.call(this,xn.Ia,u)}g(gn,O);function fr(u){const v=Qn();mt(v,new gn(v))}xn.STAT_EVENT="statevent";function hr(u,v){O.call(this,xn.STAT_EVENT,u),this.stat=v}g(hr,O);function at(u){const v=Qn();mt(v,new hr(v,u))}xn.Ja="timingevent";function Ks(u,v){O.call(this,xn.Ja,u),this.size=v}g(Ks,O);function Oe(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},v)}function rt(){this.g=!0}rt.prototype.ua=function(){this.g=!1};function Tt(u,v,E,b,W,Y){u.info(function(){if(u.g)if(Y){var me="",Fe=Y.split("&");for(let tt=0;tt<Fe.length;tt++){var St=Fe[tt].split("=");if(St.length>1){const kt=St[0];St=St[1];const Un=kt.split("_");me=Un.length>=2&&Un[1]=="type"?me+(kt+"="+St+"&"):me+(kt+"=redacted&")}}}else me=null;else me=Y;return"XMLHTTP REQ ("+b+") [attempt "+W+"]: "+v+`
`+E+`
`+me})}function Bt(u,v,E,b,W,Y,me){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+W+"]: "+v+`
`+E+`
`+Y+" "+me})}function yn(u,v,E,b){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+At(u,E)+(b?" "+b:"")})}function _t(u,v){u.info(function(){return"TIMEOUT: "+v})}rt.prototype.info=function(){};function At(u,v){if(!u.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var E=Y[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var W=b[0];if(W!="noop"&&W!="stop"&&W!="close")for(let me=1;me<b.length;me++)b[me]=""}}}}return cr(Y)}catch{return v}}var On={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sn;function Yn(){}g(Yn,ur),Yn.prototype.g=function(){return new XMLHttpRequest},sn=new Yn;function $t(u){return encodeURIComponent(String(u))}function $i(u){var v=1;u=u.split(":");const E=[];for(;v>0&&u.length;)E.push(u.shift()),v--;return u.length&&E.push(u.join(":")),E}function Xn(u,v,E,b){this.j=u,this.i=v,this.l=E,this.S=b||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var Vc={},sl={};function pr(u,v,E){u.M=1,u.A=ms(Jn(v)),u.u=E,u.R=!0,il(u,null)}function il(u,v){u.F=Date.now(),Hi(u),u.B=Jn(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ml(E.i,"t",b),u.C=0,E=u.j.L,u.h=new Mc,u.g=qc(u.j,E?v:null,!u.u),u.P>0&&(u.O=new Vo(p(u.Y,u,u.g),u.P)),v=u.V,E=u.g,b=u.ba;var W="readystatechange";Array.isArray(W)||(W&&(Dr[0]=W.toString()),W=Dr);for(let Y=0;Y<W.length;Y++){const me=Re(E,W[Y],b||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),fr(),Tt(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const v=this.O;v&&zr(u)==3?v.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Fe=zr(this.g),St=this.g.ya(),tt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Hc(this.g)))){this.K||Fe!=4||St==7||(St==8||tt<=0?fr(3):fr(2)),Lo(this);var v=this.g.ca();this.X=v;var E=Lc(this);if(this.o=v==200,Bt(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var b,W=this.g;if((b=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(b)){var Y=b;break t}}Y=null}if(u=Y)yn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lt(this,u);else{this.o=!1,this.m=3,at(12),ps(this),Wi(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<E.length;)if(kt=Fc(this,E),kt==sl){Fe==4&&(this.m=4,at(14),u=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Vc){this.m=4,at(15),yn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else yn(this.i,this.l,kt,null),lt(this,kt);if(jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||E.length!=0||this.h.h||(this.m=1,at(16),u=!1),this.o=this.o&&u,!u)yn(this.i,this.l,E,"[Invalid Chunked Response]"),ps(this),Wi(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),eo(me),me.P=!0,at(11))}}else yn(this.i,this.l,E,null),lt(this,E);Fe==4&&ps(this),this.o&&!this.K&&(Fe==4?Go(this.j,this):(this.o=!1,Hi(this)))}else yl(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),ps(this),Wi(this)}}}catch{}finally{}};function Lc(u){if(!jc(u))return u.g.la();const v=Hc(u.g);if(v==="")return"";let E="";const b=v.length,W=zr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ps(u),Wi(u),"";u.h.i=new c.TextDecoder}for(let Y=0;Y<b;Y++)u.h.h=!0,E+=u.h.i.decode(v[Y],{stream:!(W&&Y==b-1)});return v.length=0,u.h.g+=E,u.C=0,u.h.g}function jc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Fc(u,v){var E=u.C,b=v.indexOf(`
`,E);return b==-1?sl:(E=Number(v.substring(E,b)),isNaN(E)?Vc:(b+=1,b+E>v.length?sl:(v=v.slice(b,b+E),u.C=b+E,v)))}Xn.prototype.cancel=function(){this.K=!0,ps(this)};function Hi(u){u.T=Date.now()+u.H,ol(u,u.H)}function ol(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oe(p(u.aa,u),v)}function Lo(u){u.D&&(c.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_t(this.i,this.B),this.M!=2&&(fr(),at(17)),ps(this),this.m=2,Wi(this)):ol(this,this.T-u)};function Wi(u){u.j.I==0||u.K||Go(u.j,u)}function ps(u){Lo(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,$s(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function lt(u,v){try{var E=u.j;if(E.I!=0&&(E.g==u||ll(E.h,u))){if(!u.L&&ll(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var W=b;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)qo(E),jn(E);else break e;Hr(E),at(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Oe(p(E.Va,E),6e3));qi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fn(E,11)}else if((u.L||E.g==u)&&qo(E),!k(v))for(W=E.Ba.g.parse(v),v=0;v<W.length;v++){let tt=W[v];const kt=tt[0];if(!(kt<=E.K))if(E.K=kt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const Un=tt[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const _s=tt[4];_s!=null&&(E.za=_s,E.j.info("SVER="+E.za));const Wr=tt[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(b=1.5*Wr,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const qr=u.g;if(qr){const Yo=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var Y=b.h;Y.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fo(Y,Y.h),Y.h=null))}if(b.G){const _l=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(b.wa=_l,Je(b.J,b.G,_l))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var me=u;if(b.na=wl(b,b.L?b.ba:null,b.W),me.L){Gi(b.h,me);var Fe=me,St=b.O;St&&(Fe.H=St),Fe.D&&(Lo(Fe),Hi(Fe)),b.g=me}else on(b);E.i.length>0&&ws(E)}else tt[0]!="stop"&&tt[0]!="close"||Fn(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Fn(E,7):Ho(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}fr(4)}catch{}}var Pf=class{constructor(u,v){this.g=u,this.map=v}};function jo(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qi(u){return u.h?1:u.g?u.g.size:0}function ll(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Fo(u,v){u.g?u.g.add(v):u.h=v}function Gi(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}jo.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const E of u.g.values())v=v.concat(E.G);return v}return C(u.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vn(u,v){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let W,Y=null;b>=0?(W=u[E].substring(0,b),Y=u[E].substring(b+1)):W=u[E],v(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Mr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Mr?(this.l=u.l,Ki(this,u.j),this.o=u.o,this.g=u.g,Vr(this,u.u),this.h=u.h,Qs(this,gl(u.i)),this.m=u.m):u&&(v=String(u).match(Uc))?(this.l=!1,Ki(this,v[1]||"",!0),this.o=Qi(v[2]||""),this.g=Qi(v[3]||"",!0),Vr(this,v[4]),this.h=Qi(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=Qi(v[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}Mr.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Yi(v,ul,!0),":");var E=this.g;return(E||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Yi(v,ul,!0),"@"),u.push($t(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Yi(E,E.charAt(0)=="/"?Xi:dl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Yi(E,fl)),u.join("")},Mr.prototype.resolve=function(u){const v=Jn(this);let E=!!u.j;E?Ki(v,u.j):E=!!u.o,E?v.o=u.o:E=!!u.g,E?v.g=u.g:E=u.u!=null;var b=u.h;if(E)Vr(v,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var W=v.h.lastIndexOf("/");W!=-1&&(b=v.h.slice(0,W+1)+b)}if(W=b,W==".."||W==".")b="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){b=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let me=0;me<W.length;){const Fe=W[me++];Fe=="."?b&&me==W.length&&Y.push(""):Fe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),b&&me==W.length&&Y.push("")):(Y.push(Fe),b=!0)}b=Y.join("/")}else b=W}return E?v.h=b:E=u.i.toString()!=="",E?Qs(v,gl(u.i)):E=!!u.m,E&&(v.m=u.m),v};function Jn(u){return new Mr(u)}function Ki(u,v,E){u.j=E?Qi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Vr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Qs(u,v,E){v instanceof Ke?(u.i=v,zo(u.i,u.l)):(E||(v=Yi(v,Nf)),u.i=new Ke(v,u.l))}function Je(u,v,E){u.i.set(v,E)}function ms(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Qi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yi(u,v,E){return typeof u=="string"?(u=encodeURI(u).replace(v,cl),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ul=/[#\/\?@]/g,dl=/[#\?:]/g,Xi=/[#\?]/g,Nf=/[#\?@]/g,fl=/#/g;function Ke(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&Vn(u.i,function(v,E){u.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ke.prototype,n.add=function(u,v){Lr(this),this.i=null,u=jr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(v),this.h+=1,this};function hl(u,v){Lr(u),v=jr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Uo(u,v){return Lr(u),v=jr(u,v),u.g.has(v)}n.forEach=function(u,v){Lr(this),this.g.forEach(function(E,b){E.forEach(function(W){u.call(v,W,b,this)},this)},this)};function pl(u,v){Lr(u);let E=[];if(typeof v=="string")Uo(u,v)&&(E=E.concat(u.g.get(jr(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)E=E.concat(u[v]);return E}n.set=function(u,v){return Lr(this),this.i=null,u=jr(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=pl(this,u),u.length>0?String(u[0]):v):v};function ml(u,v,E){hl(u,v),E.length>0&&(u.i=null,u.g.set(jr(u,v),C(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var E=v[b];const W=$t(E);E=pl(this,E);for(let Y=0;Y<E.length;Y++){let me=W;E[Y]!==""&&(me+="="+$t(E[Y])),u.push(me)}}return this.i=u.join("&")};function gl(u){const v=new Ke;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function jr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function zo(u,v){v&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(E,b){const W=b.toLowerCase();b!=W&&(hl(this,b),ml(this,W,E))},u)),u.j=v}function Fr(u,v){const E=new rt;if(c.Image){const b=new Image;b.onload=w(Yt,E,"TestLoadImage: loaded",!0,v,b),b.onerror=w(Yt,E,"TestLoadImage: error",!1,v,b),b.onabort=w(Yt,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=w(Yt,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else v(!1)}function Ur(u,v){const E=new rt,b=new AbortController,W=setTimeout(()=>{b.abort(),Yt(E,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:b.signal}).then(Y=>{clearTimeout(W),Y.ok?Yt(E,"TestPingServer: ok",!0,v):Yt(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Yt(E,"TestPingServer: error",!1,v)})}function Yt(u,v,E,b,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),b(E)}catch{}}function Ji(){this.g=new En}function gs(u){this.i=u.Sb||null,this.h=u.ab||!1}g(gs,ur),gs.prototype.g=function(){return new Ln(this.i,this.h)};function Ln(u,v){Ze.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ln,Ze),n=Ln.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,mr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Ys(this):mr(this),this.readyState==3&&zc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Ys(this))},n.Na=function(u){this.g&&(this.response=u,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,mr(u)}n.setRequestHeader=function(u,v){this.A.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=v.next();return u.join(`\r
`)};function mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bc(u){let v="";return le(u,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function Bo(u,v,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Bc(E),typeof u=="string"?E!=null&&$t(E):Je(u,v,E))}function st(u){Ze.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(st,Ze);var $c=/^https?$/i,Df=["POST","PUT"];n=st.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sn.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Y){Xs(this,Y);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var W in b)E.set(W,b[W]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())E.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Df,v,void 0)>=0)||b||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,me]of E)this.g.setRequestHeader(Y,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Xs(this,Y)}};function Xs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Js(u),vs(u)}function Js(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,mt(this,"complete"),mt(this,"abort"),vs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),st.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},n.Xa=function(){ys(this)};function ys(u){if(u.h&&typeof a<"u"){if(u.v&&zr(u)==4)setTimeout(u.Ca.bind(u),0);else if(mt(u,"readystatechange"),zr(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var b;if(b=Y===0){let me=String(u.D).match(Uc)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),b=!$c.test(me?me.toLowerCase():"")}E=b}if(E)mt(u,"complete"),mt(u,"success");else{u.o=6;try{var W=zr(u)>2?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.ca()+"]",Js(u)}}finally{vs(u)}}}}function vs(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,v||mt(u,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Hs(v)}};function Hc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(u){const v={};u=(u.g&&zr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(k(u[b]))continue;var E=$i(u[b]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[W]||[];v[W]=Y,Y.push(E)}X(v,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(u,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||v}function $o(u){this.za=0,this.i=[],this.j=new rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Br("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Br("baseRetryDelayMs",5e3,u),this.Za=Br("retryDelaySeedMs",1e4,u),this.Ta=Br("forwardChannelMaxRetries",2,u),this.va=Br("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(u&&u.concurrentRequestLimit),this.Ba=new Ji,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$o.prototype,n.ka=8,n.I=1,n.connect=function(u,v,E,b){at(0),this.W=u,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=wl(this,null,this.W),ws(this)};function Ho(u){if(Wo(u),u.I==3){var v=u.V++,E=Jn(u.J);if(Je(E,"SID",u.M),Je(E,"RID",v),Je(E,"TYPE","terminate"),$r(u,E),v=new Xn(u,u.j,v),v.M=2,v.A=ms(Jn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=qc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Hi(v)}to(u)}function jn(u){u.g&&(eo(u),u.g.cancel(),u.g=null)}function Wo(u){jn(u),u.v&&(c.clearTimeout(u.v),u.v=null),qo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function ws(u){if(!al(u.h)&&!u.m){u.m=!0;var v=u.Ea;ee||S(),re||(ee(),re=!0),R.add(v,u),u.D=0}}function Wc(u,v){return qi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oe(p(u.Ea,u,v),Ko(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const W=new Xn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=L(Y),ne(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=vl(this,W,v),E=Jn(this.J),Je(E,"RID",u),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),$r(this,E),Y&&(this.R?v="headers="+$t(Bc(Y))+"&"+v:this.u&&Bo(E,this.u,Y)),Fo(this.h,W),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",v),Je(E,"SID","null"),W.U=!0,pr(W,E,null)):pr(W,E,v),this.I=2}}else this.I==3&&(u?Zi(this,u):this.i.length==0||al(this.h)||Zi(this))};function Zi(u,v){var E;v?E=v.l:E=u.V++;const b=Jn(u.J);Je(b,"SID",u.M),Je(b,"RID",E),Je(b,"AID",u.K),$r(u,b),u.u&&u.o&&Bo(b,u.u,u.o),E=new Xn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),v&&(u.i=v.G.concat(u.i)),v=vl(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fo(u.h,E),pr(E,b,v)}function $r(u,v){u.H&&le(u.H,function(E,b){Je(v,b,E)}),u.l&&le({},function(E,b){Je(v,b,E)})}function vl(u,v,E){E=Math.min(u.i.length,E);const b=u.l?p(u.l.Ka,u.l,u):null;e:{var W=u.i;let Fe=-1;for(;;){const St=["count="+E];Fe==-1?E>0?(Fe=W[0].g,St.push("ofs="+Fe)):Fe=0:St.push("ofs="+Fe);let tt=!0;for(let kt=0;kt<E;kt++){var Y=W[kt].g;const Un=W[kt].map;if(Y-=Fe,Y<0)Fe=Math.max(0,W[kt].g-100),tt=!1;else try{Y="req"+Y+"_"||"";try{var me=Un instanceof Map?Un:Object.entries(Un);for(const[_s,Wr]of me){let qr=Wr;f(Wr)&&(qr=cr(Wr)),St.push(Y+_s+"="+encodeURIComponent(qr))}}catch(_s){throw St.push(Y+"type="+encodeURIComponent("_badmap")),_s}}catch{b&&b(Un)}}if(tt){me=St.join("&");break e}}me=void 0}return u=u.i.splice(0,E),v.G=u,me}function on(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ee||S(),re||(ee(),re=!0),R.add(v,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oe(p(u.Da,u),Ko(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Zs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oe(p(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),jn(this),Zs(this))};function eo(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Zs(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Jn(u.na);Je(v,"RID","rpc"),Je(v,"SID",u.M),Je(v,"AID",u.K),Je(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(v,"TO",u.ia),Je(v,"TYPE","xmlhttp"),$r(u,v),u.u&&u.o&&Bo(v,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=ms(Jn(v)),E.u=null,E.R=!0,il(E,u)}n.Va=function(){this.C!=null&&(this.C=null,jn(this),Hr(this),at(19))};function qo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Go(u,v){var E=null;if(u.g==v){qo(u),eo(u),u.g=null;var b=2}else if(ll(u.h,v))E=v.G,Gi(u.h,v),b=1;else return;if(u.I!=0){if(v.o)if(b==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var W=u.D;b=Qn(),mt(b,new Ks(b,E)),ws(u)}else on(u);else if(W=v.m,W==3||W==0&&v.X>0||!(b==1&&Wc(u,v)||b==2&&Hr(u)))switch(E&&E.length>0&&(v=u.h,v.i=v.i.concat(E)),W){case 1:Fn(u,5);break;case 4:Fn(u,10);break;case 3:Fn(u,6);break;default:Fn(u,2)}}}function Ko(u,v){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*v}function Fn(u,v){if(u.j.info("Error code "+v),v==2){var E=p(u.bb,u),b=u.Ua;const W=!b;b=new Mr(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ki(b,"https"),ms(b),W?Fr(b.toString(),E):Ur(b.toString(),E)}else at(2);u.I=0,u.l&&u.l.pa(v),to(u),Wo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function to(u){if(u.I=0,u.ja=[],u.l){const v=Mn(u.h);(v.length!=0||u.i.length!=0)&&(V(u.ja,v),V(u.ja,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.oa()}}function wl(u,v,E){var b=E instanceof Mr?Jn(E):new Mr(E);if(b.g!="")v&&(b.g=v+"."+b.g),Vr(b,b.u);else{var W=c.location;b=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const Y=new Mr(null);b&&Ki(Y,b),v&&(Y.g=v),W&&Vr(Y,W),E&&(Y.h=E),b=Y}return E=u.G,v=u.wa,E&&v&&Je(b,E,v),Je(b,"VER",u.ka),$r(u,b),b}function qc(u,v,E){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new st(new gs({ab:E})):new st(u.ma),v.Fa(u.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}n=Gc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qo(){}Qo.prototype.g=function(u,v){return new Xt(u,v)};function Xt(u,v){Ze.call(this),this.g=new $o(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!k(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ei(this)}g(Xt,Ze),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Ho(this.g)},Xt.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=cr(u),u=E);v.i.push(new Pf(v.Ya++,u)),v.I==3&&ws(v)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,Xt.Z.N.call(this)};function Kc(u){Ws.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const E in v){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}g(Kc,Ws);function Qc(){qs.call(this),this.status=1}g(Qc,qs);function ei(u){this.g=u}g(ei,Gc),ei.prototype.ra=function(){mt(this.g,"a")},ei.prototype.qa=function(u){mt(this.g,new Kc(u))},ei.prototype.pa=function(u){mt(this.g,new Qc)},ei.prototype.oa=function(){mt(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,DT=function(){return new Qo},NT=function(){return Qn()},PT=xn,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,fd=On,Rt.COMPLETE="complete",kT=Rt,dr.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Jl=dr,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,RT=st}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new of("@firebase/firestore");function Ea(){return bo.logLevel}function _e(n,...e){if(bo.logLevel<=We.DEBUG){const t=e.map(ug);bo.debug(`Firestore (${Za}): ${n}`,...t)}}function js(n,...e){if(bo.logLevel<=We.ERROR){const t=e.map(ug);bo.error(`Firestore (${Za}): ${n}`,...t)}}function La(n,...e){if(bo.logLevel<=We.WARN){const t=e.map(ug);bo.warn(`Firestore (${Za}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OT(n,r,t)}function OT(n,e,t){let r=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw js(r),new Error(r)}function et(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||OT(e,o,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class mM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gM{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ds,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},f=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ds)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new MT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class yM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new V0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=_M(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function am(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return bp(o)===bp(a)?qe(o,a):bp(o)?1:-1}return qe(n.length,e.length)}const EM=55296,xM=57343;function bp(n){const e=n.charCodeAt(0);return e>=EM&&e<=xM}function ja(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ve(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Jr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),o=Jr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):am(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class ot extends Jr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const TM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Jr{construct(e,t,r){return new tn(e,t,r)}static isValidIdentifier(e){return TM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new tn([L0])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(r+=f,o++):(a(),o++)}if(a(),c)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(ot.fromString(e))}static fromName(e){return new ke(ot.fromString(e).popFirst(5))}static empty(){return new ke(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e,t){if(!t)throw new ge(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SM(n,e,t,r){if(e===!0&&r===!0)throw new ge(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function j0(n){if(!ke.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F0(n){if(ke.isDocumentKey(n))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function uf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function Fs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uf(n);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cc(n,e){if(!LT(n))throw new ge(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ge(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,z0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*z0);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Ot("string",nt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new nt(0,0))}static max(){return new je(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function IM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new Pi(o,ke.empty(),e)}function bM(n){return new Pi(n.readTime,n.key,fc)}class Pi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pi(je.min(),ke.empty(),fc)}static max(){return new Pi(je.max(),ke.empty(),fc)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==AM)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let o=0,a=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++a,c&&a===o&&t()}),(h=>r(h)))})),c=!0,a===o&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((o=>o?te.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,o)=>{const a=e.length,c=new Array(a);let f=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next((w=>{c[p]=w,++f,f===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new te(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function kM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function ff(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function PM(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="";function NM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=B0(e)),e=DM(n.get(t),e);return B0(e)}function DM(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case jT:t+="";break;default:t+=a}}return t}function B0(n){return n+jT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}}class td{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new en(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Ut(tn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new UT("Invalid base64 string: "+a):a}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const OM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=OM.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",$T="__previous_value__",HT="__local_write_time__";function hg(n){return(n?.mapValue?.fields||{})[BT]?.stringValue===zT}function hf(n){const e=n.mapValue.fields[$T];return hg(e)?hf(e):e}function hc(n){const e=Ni(n.mapValue.fields[HT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t,r,o,a,c,f,h,p,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=w}}const Dd="(default)";class pc{constructor(e,t){this.projectId=e,this.database=t||Dd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Dd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__type__",VM="__max__",nd={mapValue:{}},qT="__vector__",Od="value";function Oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hg(n)?4:jM(n)?9007199254740991:LM(n)?10:11:Ve(28295,{value:n})}function fs(n,e){if(n===e)return!0;const t=Oi(n);if(t!==Oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hc(n).isEqual(hc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ni(o.timestampValue),f=Ni(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Di(o.bytesValue).isEqual(Di(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return bt(o.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return bt(o.integerValue)===bt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=bt(o.doubleValue),f=bt(a.doubleValue);return c===f?Nd(c)===Nd(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return ja(n.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if($0(c)!==$0(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!fs(c[h],f[h])))return!1;return!0})(n,e);default:return Ve(52216,{left:n})}}function mc(n,e){return(n.values||[]).find((t=>fs(t,e)))!==void 0}function Fa(n,e){if(n===e)return 0;const t=Oi(n),r=Oi(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const f=bt(a.integerValue||a.doubleValue),h=bt(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return W0(n.timestampValue,e.timestampValue);case 4:return W0(hc(n),hc(e));case 5:return am(n.stringValue,e.stringValue);case 6:return(function(a,c){const f=Di(a),h=Di(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const f=a.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const w=qe(f[p],h[p]);if(w!==0)return w}return qe(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const f=qe(bt(a.latitude),bt(c.latitude));return f!==0?f:qe(bt(a.longitude),bt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return q0(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const f=a.fields||{},h=c.fields||{},p=f[Od]?.arrayValue,w=h[Od]?.arrayValue,g=qe(p?.values?.length||0,w?.values?.length||0);return g!==0?g:q0(p,w)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===nd.mapValue&&c===nd.mapValue)return 0;if(a===nd.mapValue)return 1;if(c===nd.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),p=c.fields||{},w=Object.keys(p);h.sort(),w.sort();for(let g=0;g<h.length&&g<w.length;++g){const T=am(h[g],w[g]);if(T!==0)return T;const C=Fa(f[h[g]],p[w[g]]);if(C!==0)return C}return qe(h.length,w.length)})(n.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function W0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Ni(n),r=Ni(e),o=qe(t.seconds,r.seconds);return o!==0?o:qe(t.nanos,r.nanos)}function q0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Fa(t[o],r[o]);if(a)return a}return qe(t.length,r.length)}function Ua(n){return lm(n)}function lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ni(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Di(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=lm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${lm(t.fields[c])}`;return o+"}"})(n.mapValue):Ve(61005,{value:n})}function hd(n){switch(Oi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(n);return e?16+hd(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+hd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return zi(r.fields,((a,c)=>{o+=a.length+hd(c)})),o})(n.mapValue);default:throw Ve(13486,{value:n})}}function G0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cm(n){return!!n&&"integerValue"in n}function pg(n){return!!n&&"arrayValue"in n}function K0(n){return!!n&&"nullValue"in n}function Q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pd(n){return!!n&&"mapValue"in n}function LM(n){return(n?.mapValue?.fields||{})[WT]?.stringValue===qT}function sc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=sc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sc(n.arrayValue.values[t]);return e}return{...n}}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(t)}setAll(e){let t=tn.emptyPath(),r={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}c?r[f.lastSegment()]=sc(c):o.push(f.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){zi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Pn(sc(this.value))}}function GT(n){const e=[];return zi(n.fields,((t,r)=>{const o=new tn([t]);if(pd(r)){const a=GT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,o,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new hn(e,0,je.min(),je.min(),je.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,o){return new hn(e,1,t,je.min(),r,o,0)}static newNoDocument(e,t){return new hn(e,2,t,je.min(),je.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,je.min(),je.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.position=e,this.inclusive=t}}function Y0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),t.key):r=Fa(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function X0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function FM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class Dt extends KT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new zM(e,t,r):t==="array-contains"?new HM(e,r):t==="in"?new WM(e,r):t==="not-in"?new qM(e,r):t==="array-contains-any"?new GM(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new BM(e,r):new $M(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fa(t,this.value)):t!==null&&Oi(this.value)===Oi(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends KT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Rr(e,t)}matches(e){return QT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(n){return n.op==="and"}function YT(n){return UM(n)&&QT(n)}function UM(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function um(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(YT(n))return n.filters.map((e=>um(e))).join(",");{const e=n.filters.map((t=>um(t))).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&fs(r.value,o.value)})(n,e):n instanceof Rr?(function(r,o){return o instanceof Rr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,f)=>a&&XT(c,o.filters[f])),!0):!1})(n,e):void Ve(19439)}function JT(n){return n instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ua(t.value)}`})(n):n instanceof Rr?(function(t){return t.op.toString()+" {"+t.getFilters().map(JT).join(" ,")+"}"})(n):"Filter"}class zM extends Dt{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class BM extends Dt{constructor(e,t){super(e,"in",t),this.keys=ZT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $M extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=ZT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ZT(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class HM extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pg(t)&&mc(t.arrayValue,this.value)}}class WM extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mc(this.value.arrayValue,t)}}class qM extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mc(this.value.arrayValue,t)}}class GM extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t=null,r=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Te=null}}function J0(n,e=null,t=[],r=[],o=null,a=null,c=null){return new KM(n,e,t,r,o,a,c)}function mg(n){const e=Ue(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>um(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ua(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ua(r))).join(",")),e.Te=t}return e.Te}function gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!X0(n.startAt,e.startAt)&&X0(n.endAt,e.endAt)}function dm(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t=null,r=[],o=[],a=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QM(n,e,t,r,o,a,c,f){return new nl(n,e,t,r,o,a,c,f)}function yg(n){return new nl(n)}function Z0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eS(n){return n.collectionGroup!==null}function ic(n){const e=Ue(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ut(tn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gc(a,r))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new gc(tn.keyField(),r))}return e.Ie}function is(n){const e=Ue(n);return e.Ee||(e.Ee=YM(e,ic(n))),e.Ee}function YM(n,e){if(n.limitType==="F")return J0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new gc(o.field,a)}));const t=n.endAt?new Md(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Md(n.startAt.position,n.startAt.inclusive):null;return J0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fm(n,e){const t=n.filters.concat([e]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hm(n,e,t){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pf(n,e){return gg(is(n),is(e))&&n.limitType===e.limitType}function tS(n){return`${mg(is(n))}|lt:${n.limitType}`}function xa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>JT(o))).join(", ")}]`),ff(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>Ua(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>Ua(o))).join(",")),`Target(${r})`})(is(n))}; limitType=${n.limitType})`}function mf(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of ic(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(c,f,h){const p=Y0(c,f,h);return c.inclusive?p<=0:p<0})(r.startAt,ic(r),o)||r.endAt&&!(function(c,f,h){const p=Y0(c,f,h);return c.inclusive?p>=0:p>0})(r.endAt,ic(r),o))})(n,e)}function XM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nS(n){return(e,t)=>{let r=!1;for(const o of ic(n)){const a=JM(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function JM(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(a,c,f){const h=c.data.field(a),p=f.data.field(a);return h!==null&&p!==null?Fa(h,p):Ve(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new vt(ke.comparator);function Us(){return ZM}const rS=new vt(ke.comparator);function Zl(...n){let e=rS;for(const t of n)e=e.insert(t.key,t);return e}function sS(n){let e=rS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function yo(){return oc()}function iS(){return oc()}function oc(){return new Do((n=>n.toString()),((n,e)=>n.isEqual(e)))}const eV=new vt(ke.comparator),tV=new Ut(ke.comparator);function Ge(...n){let e=tV;for(const t of n)e=e.add(t);return e}const nV=new Ut(qe);function rV(){return nV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function oS(n){return{integerValue:""+n}}function sV(n,e){return PM(e)?oS(e):vg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function iV(n,e,t){return n instanceof Vd?(function(o,a){const c={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&hg(a)&&(a=hf(a)),a&&(c.fields[$T]=a),{mapValue:c}})(t,e):n instanceof yc?lS(n,e):n instanceof vc?cS(n,e):(function(o,a){const c=aS(o,a),f=e_(c)+e_(o.Ae);return cm(c)&&cm(o.Ae)?oS(f):vg(o.serializer,f)})(n,e)}function oV(n,e,t){return n instanceof yc?lS(n,e):n instanceof vc?cS(n,e):t}function aS(n,e){return n instanceof Ld?(function(r){return cm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Vd extends gf{}class yc extends gf{constructor(e){super(),this.elements=e}}function lS(n,e){const t=uS(e);for(const r of n.elements)t.some((o=>fs(o,r)))||t.push(r);return{arrayValue:{values:t}}}class vc extends gf{constructor(e){super(),this.elements=e}}function cS(n,e){let t=uS(e);for(const r of n.elements)t=t.filter((o=>!fs(o,r)));return{arrayValue:{values:t}}}class Ld extends gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function e_(n){return bt(n.integerValue||n.doubleValue)}function uS(n){return pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aV(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof yc&&o instanceof yc||r instanceof vc&&o instanceof vc?ja(r.elements,o.elements,fs):r instanceof Ld&&o instanceof Ld?fs(r.Ae,o.Ae):r instanceof Vd&&o instanceof Vd})(n.transform,e.transform)}class lV{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class yf{}function dS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hS(n.key,os.none()):new Ac(n.key,n.data,os.none());{const t=n.data,r=Pn.empty();let o=new Ut(tn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new Bi(n.key,r,new Wn(o.toArray()),os.none())}}function cV(n,e,t){n instanceof Ac?(function(o,a,c){const f=o.value.clone(),h=n_(o.fieldTransforms,a,c.transformResults);f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Bi?(function(o,a,c){if(!md(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=n_(o.fieldTransforms,a,c.transformResults),h=a.data;h.setAll(fS(o)),h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ac(n,e,t,r){return n instanceof Ac?(function(a,c,f,h){if(!md(a.precondition,c))return f;const p=a.value.clone(),w=r_(a.fieldTransforms,h,c);return p.setAll(w),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Bi?(function(a,c,f,h){if(!md(a.precondition,c))return f;const p=r_(a.fieldTransforms,h,c),w=c.data;return w.setAll(fS(a)),w.setAll(p),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(a,c,f){return md(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function uV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=aS(r.transform,o||null);a!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,a))}return t||null}function t_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ja(r,o,((a,c)=>aV(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ac extends yf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends yf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function n_(n,e,t){const r=new Map;et(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,f=e.data.field(a.field);r.set(a.field,oV(c,f,t[o]))}return r}function r_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);r.set(o.field,iV(a,c,e))}return r}class hS extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dV extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&cV(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ac(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ac(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=iS();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(o.key)?null:f;const h=dS(c,f);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,((t,r)=>t_(t,r)))&&ja(this.baseMutations,e.baseMutations,((t,r)=>t_(t,r)))}}class wg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return eV})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new wg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Qe;function mV(n){switch(n){case Z.OK:return Ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function pS(n){if(n===void 0)return js("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return Ve(39323,{code:n})}}(Qe=Nt||(Nt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new bi([4294967295,4294967295],0);function s_(n){const e=gV().encode(n),t=new AT;return t.update(e),new Uint8Array(t.digest())}function i_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([t,r],0),new bi([o,a],0)]}class _g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ec(`Invalid padding: ${t}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ec(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(bi.fromNumber(r)));return o.compare(yV)===1&&(o=new bi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=s_(e),[r,o]=i_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new _g(a,o,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=s_(e),[r,o]=i_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vf(je.min(),o,new vt(qe),Us(),Ge())}}class Rc{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rc(r,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class mS{constructor(e,t){this.targetId=e,this.Ce=t}}class gS{constructor(e,t,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class o_{constructor(){this.ve=0,this.Fe=a_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),r=Ge();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ve(38017,{changeType:a})}})),new Rc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=rd(),this.He=rd(),this.Ye=new vt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(dm(a))if(r===0){const c=new ke(a.path);this.et(t,c,hn.newNoDocument(c,je.min()))}else et(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let c,f;try{c=Di(r).toUint8Array()}catch(h){if(h instanceof UT)return La("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new _g(c,o,a)}catch(h){return La(h instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const f=this.ot(c);if(f){if(a.current&&dm(f.target)){const h=new ke(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,hn.newNoDocument(h,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,c)=>{let f=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new vf(e,t,this.Ye,this.je,r);return this.je=Us(),this.Je=rd(),this.He=rd(),this.Ye=new vt(qe),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new o_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ut(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ut(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rd(){return new vt(ke.comparator)}function a_(){return new vt(ke.comparator)}const wV={asc:"ASCENDING",desc:"DESCENDING"},_V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EV={and:"AND",or:"OR"};class xV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pm(n,e){return n.useProto3Json||ff(e)?e:{value:e}}function jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TV(n,e){return jd(n,e.toTimestamp())}function as(n){return et(!!n,49232),je.fromTimestamp((function(t){const r=Ni(t);return new nt(r.seconds,r.nanos)})(n))}function Eg(n,e){return mm(n,e).canonicalString()}function mm(n,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vS(n){const e=ot.fromString(n);return et(TS(e),10190,{key:e.toString()}),e}function gm(n,e){return Eg(n.databaseId,e.path)}function Cp(n,e){const t=vS(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(_S(t))}function wS(n,e){return Eg(n.databaseId,e)}function SV(n){const e=vS(n);return e.length===4?ot.emptyPath():_S(e)}function ym(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _S(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function l_(n,e,t){return{name:gm(n,e),fields:t.value.mapValue.fields}}function IV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,w){return p.useProto3Json?(et(w===void 0||typeof w=="string",58123),nn.fromBase64String(w||"")):(et(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),nn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const w=p.code===void 0?Z.UNKNOWN:pS(p.code);return new ge(w,p.message||"")})(c);t=new gS(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Cp(n,r.document.name),a=as(r.document.updateTime),c=r.document.createTime?as(r.document.createTime):je.min(),f=new Pn({mapValue:{fields:r.document.fields}}),h=hn.newFoundDocument(o,a,c,f),p=r.targetIds||[],w=r.removedTargetIds||[];t=new gd(p,w,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Cp(n,r.document),a=r.readTime?as(r.readTime):je.min(),c=hn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new gd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Cp(n,r.document),a=r.removedTargetIds||[];t=new gd([],a,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new pV(o,a),f=r.targetId;t=new mS(f,c)}}return t}function bV(n,e){let t;if(e instanceof Ac)t={update:l_(n,e.key,e.value)};else if(e instanceof hS)t={delete:gm(n,e.key)};else if(e instanceof Bi)t={update:l_(n,e.key,e.data),updateMask:MV(e.fieldMask)};else{if(!(e instanceof dV))return Ve(16599,{Vt:e.type});t={verify:gm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const f=c.transform;if(f instanceof Vd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ld)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ve(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:TV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)})(n,e.precondition)),t}function CV(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?as(o.updateTime):as(a);return c.isEqual(je.min())&&(c=as(a)),new lV(c,o.transformResults||[])})(t,e)))):[]}function AV(n,e){return{documents:[wS(n,e.path)]}}function RV(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wS(n,o);const a=(function(p){if(p.length!==0)return xS(Rr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(p){if(p.length!==0)return p.map((w=>(function(T){return{field:Ta(T.field),direction:NV(T.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=pm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function kV(n){let e=SV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){et(r===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=(function(g){const T=ES(g);return T instanceof Rr&&YT(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(g){return g.map((T=>(function(V){return new gc(Sa(V.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(g){let T;return T=typeof g=="object"?g.value:g,ff(T)?null:T})(t.limit));let h=null;t.startAt&&(h=(function(g){const T=!!g.before,C=g.values||[];return new Md(C,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(g){const T=!g.before,C=g.values||[];return new Md(C,T)})(t.endAt)),QM(e,o,c,a,f,"F",h,p)}function PV(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ES(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sa(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sa(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sa(t.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sa(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dt.create(Sa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rr.create(t.compositeFilter.filters.map((r=>ES(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(t.compositeFilter.op))})(n):Ve(30097,{filter:n})}function NV(n){return wV[n]}function DV(n){return _V[n]}function OV(n){return EV[n]}function Ta(n){return{fieldPath:n.canonicalString()}}function Sa(n){return tn.fromServerFormat(n.fieldPath)}function xS(n){return n instanceof Dt?(function(t){if(t.op==="=="){if(Q0(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NAN"}};if(K0(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q0(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NAN"}};if(K0(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(t.field),op:DV(t.op),value:t.value}}})(n):n instanceof Rr?(function(t){const r=t.getFilters().map((o=>xS(o)));return r.length===1?r[0]:{compositeFilter:{op:OV(t.op),filters:r}}})(n):Ve(54877,{filter:n})}function MV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,r,o,a=je.min(),c=je.min(),f=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.yt=e}}function LV(n){const e=kV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Cn=new FV}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Pi.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class FV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ut(ot.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(SS,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new za(0)}static cr(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",UV=1048576;function d_([n,e],[t,r]){const o=qe(n,t);return o===0?qe(e,r):o}class zV{constructor(e){this.Ir=e,this.buffer=new Ut(d_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?_e(u_,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.Vr(3e5)}))}}class $V{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(df.ce);const r=new zV(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(c_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,c,f,h,p;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,c=Date.now(),this.nthSequenceNumber(e,o)))).next((g=>(r=g,f=Date.now(),this.removeTargets(e,r,t)))).next((g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(p=Date.now(),Ea()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${g} documents in `+(p-h)+`ms
Total Duration: ${p-w}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g}))))}}function HV(n,e){return new $V(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.changes=new Do((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&ac(r.mutation,o,Wn.empty(),nt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ge()){const o=yo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let c=Zl();return a.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=yo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ge())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,o){let a=Us();const c=oc(),f=(function(){return oc()})();return t.forEach(((h,p)=>{const w=r.get(p.key);o.has(p.key)&&(w===void 0||w.mutation instanceof Bi)?a=a.insert(p.key,p):w!==void 0?(c.set(p.key,w.mutation.getFieldMask()),ac(w.mutation,p,w.mutation.getFieldMask(),nt.now())):c.set(p.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((p,w)=>c.set(p,w))),t.forEach(((p,w)=>f.set(p,new qV(w,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=oc();let o=new vt(((c,f)=>c-f)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let w=r.get(h)||Wn.empty();w=f.applyToLocalView(p,w),r.set(h,w);const g=(o.get(f.batchId)||Ge()).add(h);o=o.insert(f.batchId,g)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,w=h.value,g=iS();w.forEach((T=>{if(!a.has(T)){const C=dS(t.get(T),r.get(T));C!==null&&g.set(T,C),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,g))}return te.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):te.resolve(yo());let f=fc,h=a;return c.next((p=>te.forEach(p,((w,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(w)?te.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{h=h.insert(w,T)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,h,p,Ge()))).next((w=>({batchId:f,changes:sS(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((r=>{let o=Zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let c=Zl();return this.indexManager.getCollectionParents(e,a).next((f=>te.forEach(f,(h=>{const p=(function(g,T){return new nl(T,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((w=>{w.forEach(((g,T)=>{c=c.insert(g,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((c=>{a.forEach(((h,p)=>{const w=p.getKey();c.get(w)===null&&(c=c.insert(w,hn.newInvalidDocument(w)))}));let f=Zl();return c.forEach(((h,p)=>{const w=a.get(h);w!==void 0&&ac(w.mutation,p,Wn.empty(),nt.now()),mf(t,p)&&(f=f.insert(h,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:as(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:LV(o.bundledQuery),readTime:as(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.overlays=new vt(ke.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=yo();return te.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const o=yo(),a=t.length+1,c=new ke(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new vt(((p,w)=>p-w));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let w=a.get(p.largestBatchId);w===null&&(w=yo(),a=a.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const f=yo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,w)=>f.set(p,w))),!(f.size()>=o)););return te.resolve(f)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new hV(t,r));let a=this.qr.get(t);a===void 0&&(a=Ge(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Qr=new Ut(Kt.$r),this.Ur=new Ut(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ke(new ot([])),r=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new ot([])),r=new Kt(t,e),o=new Kt(t,e+1);let a=Ge();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Kt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fV(a,t,r,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Kt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?fg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const f=this.Xr(c.Yr);a.push(f)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(qe);return t.forEach((o=>{const a=new Kt(o,0),c=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(f=>{r=r.add(f.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const c=new Kt(new ke(a),0);let f=new Ut(qe);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(f=f.add(h.Yr)),!0)}),c),te.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){et(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(o=>{const a=new Kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Kt(t,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.ri=e,this.docs=(function(){return new vt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Us();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():hn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Us();const c=t.path,f=new ke(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:w}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||CM(bM(w),r)<=0||(o.has(w.key)||mf(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ve(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new ZV(this)}getSize(e){return te.resolve(this.size)}}class ZV extends WV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.persistence=e,this.si=new Do((t=>mg(t)),gg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new xg,this.targetCount=0,this.ai=za.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new za(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),te.waitFor(a).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.ui={},this.overlays={},this.ci=new df(0),this.li=!1,this.li=!0,this.hi=new YV,this.referenceDelegate=e(this),this.Pi=new eL(this),this.indexManager=new jV,this.remoteDocumentCache=(function(o){return new JV(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VV(t),this.Ii=new KV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new XV(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const o=new tL(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class tL extends RM{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new xg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=ke.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fd{constructor(e,t){this.persistence=e,this.pi=new Do((r=>NM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=HV(this,t)}static mi(e,t){return new Fd(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?te.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,a.removeEntry(c,je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Sg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PN()?8:kM(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new nL;return this.Ss(e,t,c).next((f=>{if(a.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Ea()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ea()<=We.DEBUG&&_e("QueryEngine","Query:",xa(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ea()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(t))):te.resolve())}ys(e,t){if(Z0(t))return te.resolve(null);let r=is(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=hm(t,null,"F"),r=is(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ge(...a);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,f);return this.Cs(t,p,c,h.readTime)?this.ys(e,hm(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,o){return Z0(t)||o.isEqual(je.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,r,o)?te.resolve(null):(Ea()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(t)),this.vs(e,c,t,IM(o,fc)).next((f=>f)))}))}Ds(e,t){let r=new Ut(nS(e));return t.forEach(((o,a)=>{mf(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Ea()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",xa(t)),this.ps.getDocumentsMatchingQuery(e,t,Pi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",sL=3e8;class iL{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(qe),this.xs=new Do((a=>mg(a)),gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function oL(n,e,t,r){return new iL(n,e,t,r)}async function bS(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],f=[];let h=Ge();for(const p of o){c.push(p.batchId);for(const w of p.mutations)h=h.add(w.key)}for(const p of a){f.push(p.batchId);for(const w of p.mutations)h=h.add(w.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function aL(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,w){const g=p.batch,T=g.keys();let C=te.resolve();return T.forEach((V=>{C=C.next((()=>w.getEntry(h,V))).next((A=>{const N=p.docVersions.get(V);et(N!==null,48541),A.version.compareTo(N)<0&&(g.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),w.addEntry(A)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(h,g)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=Ge();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function CS(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function lL(n,e){const t=Ue(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,g)=>{const T=o.get(g);if(!T)return;f.push(t.Pi.removeMatchingKeys(a,w.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(a,w.addedDocuments,g))));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):w.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(w.resumeToken,r)),o=o.insert(g,C),(function(A,N,U){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=sL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,C,w)&&f.push(t.Pi.updateTargetData(a,C))}));let h=Us(),p=Ge();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))})),f.push(cL(a,c,e.documentUpdates).next((w=>{h=w.ks,p=w.qs}))),!r.isEqual(je.min())){const w=t.Pi.getLastRemoteSnapshotVersion(a).next((g=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));f.push(w)}return te.waitFor(f).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,p))).next((()=>h))})).then((a=>(t.Ms=o,a)))}function cL(n,e,t){let r=Ge(),o=Ge();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let c=Us();return t.forEach(((f,h)=>{const p=a.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):_e(Ig,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:o}}))}function uL(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dL(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,te.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new Ti(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function vm(n,e,t){const r=Ue(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;_e(Ig,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function f_(n,e,t){const r=Ue(n);let o=je.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,w){const g=Ue(h),T=g.xs.get(w);return T!==void 0?te.resolve(g.Ms.get(T)):g.Pi.getTargetData(p,w)})(r,c,is(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:je.min(),t?a:Ge()))).next((f=>(fL(r,XM(e),f),{documents:f,Qs:a})))))}function fL(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class h_{constructor(){this.activeTargetIds=rV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hL{constructor(){this.Mo=new h_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class m_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd=null;function wm(){return sd===null?sd=(function(){return 268435456+Math.round(2147483648*Math.random())})():sd++,"0x"+sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",mL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Dd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const c=wm(),f=this.zo(e,t.toUriEncodedString());_e(Ap,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,o,a);const{host:p}=new URL(f),w=Ya(p);return this.Jo(e,f,h,r,w).then((g=>(_e(Ap,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw La(Ap,`RPC '${e}' ${c} failed with error: `,g,"url: ",f,"request:",r),g}))}Ho(e,t,r,o,a,c){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=mL[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class vL extends gL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const c=wm();return new Promise(((f,h)=>{const p=new RT;p.setWithCredentials(!0),p.listenOnce(kT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case fd.NO_ERROR:const g=p.getResponseJson();_e(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),f(g);break;case fd.TIMEOUT:_e(dn,`RPC '${e}' ${c} timed out`),h(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const T=p.getStatus();if(_e(dn,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const A=(function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN})(V.status);h(new ge(A,V.message))}else h(new ge(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(dn,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);_e(dn,`RPC '${e}' ${c} sending request:`,o),p.send(t,"POST",w,r,15)}))}T_(e,t,r){const o=wm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DT(),f=NT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const w=a.join("");_e(dn,`Creating RPC '${e}' stream ${o}: ${w}`,h);const g=c.createWebChannel(w,h);this.I_(g);let T=!1,C=!1;const V=new yL({Yo:N=>{C?_e(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(_e(dn,`Opening RPC '${e}' stream ${o} transport.`),g.open(),T=!0),_e(dn,`RPC '${e}' stream ${o} sending:`,N),g.send(N))},Zo:()=>g.close()}),A=(N,U,$)=>{N.listen(U,(q=>{try{$(q)}catch(J){setTimeout((()=>{throw J}),0)}}))};return A(g,Jl.EventType.OPEN,(()=>{C||(_e(dn,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),A(g,Jl.EventType.CLOSE,(()=>{C||(C=!0,_e(dn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(g))})),A(g,Jl.EventType.ERROR,(N=>{C||(C=!0,La(dn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),V.a_(new ge(Z.UNAVAILABLE,"The operation could not be completed")))})),A(g,Jl.EventType.MESSAGE,(N=>{if(!C){const U=N.data[0];et(!!U,16349);const $=U,q=$?.error||$[0]?.error;if(q){_e(dn,`RPC '${e}' stream ${o} received error:`,q);const J=q.status;let ee=(function(S){const P=Nt[S];if(P!==void 0)return pS(P)})(J),re=q.message;ee===void 0&&(ee=Z.INTERNAL,re="Unknown error status: "+J+" with message "+q.message),C=!0,V.a_(new ge(ee,re)),g.close()}else _e(dn,`RPC '${e}' stream ${o} received:`,U),V.u_(U)}})),A(f,PT.STAT_EVENT,(N=>{N.stat===om.PROXY?_e(dn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===om.NOPROXY&&_e(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){return new xV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class RS{constructor(e,t,r,o,a,c,f,h){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wL extends RS{constructor(e,t,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=IV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return je.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?je.min():c.readTime?as(c.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ym(this.serializer),t.addTarget=(function(a,c){let f;const h=c.target;if(f=dm(h)?{documents:AV(a,h)}:{query:RV(a,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=yS(a,c.resumeToken);const p=pm(a,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(je.min())>0){f.readTime=jd(a,c.snapshotVersion.toTimestamp());const p=pm(a,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=PV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ym(this.serializer),t.removeTarget=e,this.q_(t)}}class _L extends RS{constructor(e,t,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CV(e.writeResults,e.commitTime),r=as(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>bV(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{}class xL extends EL{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,mm(t,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Z.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,mm(t,r),o,c,f,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(js(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class SL{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Oo(this)&&(_e(Co,"Restarting streams for network reachability change."),await(async function(h){const p=Ue(h);p.Ea.add(4),await kc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await _f(p)})(this))}))})),this.Ra=new TL(r,o)}}async function _f(n){if(Oo(n))for(const e of n.da)await e(!0)}async function kc(n){for(const e of n.da)await e(!1)}function kS(n,e){const t=Ue(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rg(t)?Ag(t):rl(t).O_()&&Cg(t,e))}function bg(n,e){const t=Ue(n),r=rl(t);t.Ia.delete(e),r.O_()&&PS(t,e),t.Ia.size===0&&(r.O_()?r.L_():Oo(t)&&t.Ra.set("Unknown"))}function Cg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).Y_(e)}function PS(n,e){n.Va.Ue(e),rl(n).Z_(e)}function Ag(n){n.Va=new vV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.Ra.ua()}function Rg(n){return Oo(n)&&!rl(n).x_()&&n.Ia.size>0}function Oo(n){return Ue(n).Ea.size===0}function NS(n){n.Va=void 0}async function IL(n){n.Ra.set("Online")}async function bL(n){n.Ia.forEach(((e,t)=>{Cg(n,e)}))}async function CL(n,e){NS(n),Rg(n)?(n.Ra.ha(e),Ag(n)):n.Ra.set("Unknown")}async function AL(n,e,t){if(n.Ra.set("Online"),e instanceof gS&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(r){_e(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ud(n,r)}else if(e instanceof gd?n.Va.Ze(e):e instanceof mS?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await CS(n.localStore);t.compareTo(r)>=0&&await(function(a,c){const f=a.Va.Tt(c);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const w=a.Ia.get(p);w&&a.Ia.set(p,w.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,p)=>{const w=a.Ia.get(h);if(!w)return;a.Ia.set(h,w.withResumeToken(nn.EMPTY_BYTE_STRING,w.snapshotVersion)),PS(a,h);const g=new Ti(w.target,h,p,w.sequenceNumber);Cg(a,g)})),a.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){_e(Co,"Failed to raise snapshot:",r),await Ud(n,r)}}async function Ud(n,e,t){if(!tl(e))throw e;n.Ea.add(1),await kc(n),n.Ra.set("Offline"),t||(t=()=>CS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(Co,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _f(n)}))}function DS(n,e){return e().catch((t=>Ud(n,t,e)))}async function Ef(n){const e=Ue(n),t=Mi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fg;for(;RL(e);)try{const o=await uL(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,kL(e,o)}catch(o){await Ud(e,o)}OS(e)&&MS(e)}function RL(n){return Oo(n)&&n.Ta.length<10}function kL(n,e){n.Ta.push(e);const t=Mi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function OS(n){return Oo(n)&&!Mi(n).x_()&&n.Ta.length>0}function MS(n){Mi(n).start()}async function PL(n){Mi(n).ra()}async function NL(n){const e=Mi(n);for(const t of n.Ta)e.ea(t.mutations)}async function DL(n,e,t){const r=n.Ta.shift(),o=wg.from(r,e,t);await DS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ef(n)}async function OL(n,e){e&&Mi(n).X_&&await(async function(r,o){if((function(c){return mV(c)&&c!==Z.ABORTED})(o.code)){const a=r.Ta.shift();Mi(r).B_(),await DS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Ef(r)}})(n,e),OS(n)&&MS(n)}async function y_(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),_e(Co,"RemoteStore received new credentials");const r=Oo(t);t.Ea.add(3),await kc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _f(t)}async function ML(n,e){const t=Ue(n);e?(t.Ea.delete(2),await _f(t)):e||(t.Ea.add(2),await kc(t),t.Ra.set("Unknown"))}function rl(n){return n.ma||(n.ma=(function(t,r,o){const a=Ue(t);return a.sa(),new wL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:IL.bind(null,n),t_:bL.bind(null,n),r_:CL.bind(null,n),H_:AL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Rg(n)?Ag(n):n.Ra.set("Unknown")):(await n.ma.stop(),NS(n))}))),n.ma}function Mi(n){return n.fa||(n.fa=(function(t,r,o){const a=Ue(t);return a.sa(),new _L(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:PL.bind(null,n),r_:OL.bind(null,n),ta:NL.bind(null,n),na:DL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ef(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(Co,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const c=Date.now()+r,f=new kg(e,t,c,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(n,e){if(js("AsyncQueue",`${e}: ${n}`),tl(n))return new ge(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Zl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new vt(ke.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ba{constructor(e,t,r,o,a,c,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Ba(e,t,Pa.emptySet(t),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LL{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ue(t),a=o.queries;o.queries=w_(),a.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function w_(){return new Do((n=>tS(n)),pf)}async function VS(n,e){const t=Ue(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new VL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Pg(c,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ng(t)}async function LS(n,e){const t=Ue(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function jL(n,e){const t=Ue(n);let r=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const f of c.Sa)f.Fa(o)&&(r=!0);c.wa=o}}r&&Ng(t)}function FL(n,e,t){const r=Ue(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Ng(n){n.Ca.forEach((e=>{e.next()}))}var _m,__;(__=_m||(_m={})).Ma="default",__.Cache="cache";class jS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.key=e}}class US{constructor(e){this.key=e}}class UL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=nS(e),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new v_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,g)=>{const T=o.get(w),C=mf(this.query,g)?g:null,V=!!T&&this.mutatedKeys.has(T.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;T&&C?T.data.isEqual(C.data)?V!==A&&(r.track({type:3,doc:C}),N=!0):this.su(T,C)||(r.track({type:2,doc:C}),N=!0,(h&&this.eu(C,h)>0||p&&this.eu(C,p)<0)&&(f=!0)):!T&&C?(r.track({type:0,doc:C}),N=!0):T&&!C&&(r.track({type:1,doc:T}),N=!0,(h||p)&&(f=!0)),N&&(C?(c=c.add(C),a=A?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:f,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,g)=>(function(C,V){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:N})}};return A(C)-A(V)})(w.type,g.type)||this.eu(w.doc,g.doc))),this.ou(r),o=o??!1;const f=t&&!o?this._u():[],h=this.Xa.size===0&&this.current&&!o?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new Ba(this.query,e.tu,a,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new US(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new FS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class zL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BL{constructor(e){this.key=e,this.hu=!1}}class $L{constructor(e,t,r,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Do((f=>tS(f)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ke.comparator),this.Au=new Map,this.Ru=new xg,this.Vu={},this.mu=new Map,this.fu=za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HL(n,e,t=!0){const r=qS(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await zS(r,e,t,!0),o}async function WL(n,e){const t=qS(n);await zS(t,e,!0,!1)}async function zS(n,e,t,r){const o=await dL(n.localStore,is(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await qL(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&kS(n.remoteStore,o),f}async function qL(n,e,t,r,o){n.pu=(g,T,C)=>(async function(A,N,U,$){let q=N.view.ru(U);q.Cs&&(q=await f_(A.localStore,N.query,!1).then((({documents:R})=>N.view.ru(R,q))));const J=$&&$.targetChanges.get(N.targetId),ee=$&&$.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(q,A.isPrimaryClient,J,ee);return x_(A,N.targetId,re.au),re.snapshot})(n,g,T,C);const a=await f_(n.localStore,e,!0),c=new UL(e,a.Qs),f=c.ru(a.documents),h=Rc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=c.applyChanges(f,n.isPrimaryClient,h);x_(n,t,p.au);const w=new zL(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function GL(n,e,t){const r=Ue(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!pf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&bg(r.remoteStore,o.targetId),Em(r,o.targetId)})).catch(el)):(Em(r,o.targetId),await vm(r.localStore,o.targetId,!0))}async function KL(n,e){const t=Ue(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),bg(t.remoteStore,r.targetId))}async function QL(n,e,t){const r=n4(n);try{const o=await(function(c,f){const h=Ue(c),p=nt.now(),w=f.reduce(((C,V)=>C.add(V.key)),Ge());let g,T;return h.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let V=Us(),A=Ge();return h.Ns.getEntries(C,w).next((N=>{V=N,V.forEach(((U,$)=>{$.isValidDocument()||(A=A.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(C,V))).next((N=>{g=N;const U=[];for(const $ of f){const q=uV($,g.get($.key).overlayedDocument);q!=null&&U.push(new Bi($.key,q,GT(q.value.mapValue),os.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,U,f)})).next((N=>{T=N;const U=N.applyToLocalDocumentSet(g,A);return h.documentOverlayCache.saveOverlays(C,N.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:sS(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,f,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new vt(qe)),p=p.insert(f,h),c.Vu[c.currentUser.toKey()]=p})(r,o.batchId,t),await Pc(r,o.changes),await Ef(r.remoteStore)}catch(o){const a=Pg(o,"Failed to persist write");t.reject(a)}}async function BS(n,e){const t=Ue(n);try{const r=await lL(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?et(c.hu,14607):o.removedDocuments.size>0&&(et(c.hu,42227),c.hu=!1))})),await Pc(t,r,e)}catch(r){await el(r)}}function E_(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const h=Ue(c);h.onlineState=f;let p=!1;h.queries.forEach(((w,g)=>{for(const T of g.Sa)T.va(f)&&(p=!0)})),p&&Ng(h)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YL(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new vt(ke.comparator);c=c.insert(a,hn.newNoDocument(a,je.min()));const f=Ge().add(a),h=new vf(je.min(),new Map,new vt(qe),c,f);await BS(r,h),r.du=r.du.remove(a),r.Au.delete(e),Og(r)}else await vm(r.localStore,e,!1).then((()=>Em(r,e,t))).catch(el)}async function XL(n,e){const t=Ue(n),r=e.batch.batchId;try{const o=await aL(t.localStore,e);HS(t,r,null),$S(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(t,o)}catch(o){await el(o)}}async function JL(n,e,t){const r=Ue(n);try{const o=await(function(c,f){const h=Ue(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let w;return h.mutationQueue.lookupMutationBatch(p,f).next((g=>(et(g!==null,37113),w=g.keys(),h.mutationQueue.removeMutationBatch(p,g)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,w,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,w))).next((()=>h.localDocuments.getDocuments(p,w)))}))})(r.localStore,e);HS(r,e,t),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pc(r,o)}catch(o){await el(o)}}function $S(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function HS(n,e,t){const r=Ue(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||WS(n,r)}))}function WS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(bg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Og(n))}function x_(n,e,t){for(const r of t)r instanceof FS?(n.Ru.addReference(r.key,e),ZL(n,r)):r instanceof US?(_e(Dg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||WS(n,r.key)):Ve(19791,{wu:r})}function ZL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(_e(Dg,"New document in limbo: "+t),n.Eu.add(r),Og(n))}function Og(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(ot.fromString(e)),r=n.fu.next();n.Au.set(r,new BL(t)),n.du=n.du.insert(t,r),kS(n.remoteStore,new Ti(is(yg(t.path)),r,"TargetPurposeLimboResolution",df.ce))}}async function Pc(n,e,t){const r=Ue(n),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Sg.As(h.targetId,p);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(h,p){const w=Ue(h);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>te.forEach(p,(T=>te.forEach(T.Es,(C=>w.persistence.referenceDelegate.addReference(g,T.targetId,C))).next((()=>te.forEach(T.ds,(C=>w.persistence.referenceDelegate.removeReference(g,T.targetId,C)))))))))}catch(g){if(!tl(g))throw g;_e(Ig,"Failed to update sequence numbers: "+g)}for(const g of p){const T=g.targetId;if(!g.fromCache){const C=w.Ms.get(T),V=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(V);w.Ms=w.Ms.insert(T,A)}}})(r.localStore,a))}async function e4(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){_e(Dg,"User change. New user:",e.toKey());const r=await bS(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((f=>{f.forEach((h=>{h.reject(new ge(Z.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(t,r.Ls)}}function t4(n,e){const t=Ue(n),r=t.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function qS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YL.bind(null,e),e.Pu.H_=jL.bind(null,e.eventManager),e.Pu.yu=FL.bind(null,e.eventManager),e}function n4(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JL.bind(null,e),e}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oL(this.persistence,new rL,e.initialUser,this.serializer)}Cu(e){return new IS(Tg.mi,this.serializer)}Du(e){return new hL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class r4 extends zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){et(this.persistence.referenceDelegate instanceof Fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new IS((r=>Fd.mi(r,t)),this.serializer)}}class xm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e4.bind(null,this.syncEngine),await ML(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LL})()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),r=(function(a){return new vL(a)})(e.databaseInfo);return(function(a,c,f,h){return new xL(a,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,c,f){return new SL(r,o,a,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>E_(this.syncEngine,t,0)),(function(){return m_.v()?new m_:new pL})())}createSyncEngine(e,t){return(function(o,a,c,f,h,p,w){const g=new $L(o,a,c,f,h,p);return w&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ue(t);_e(Co,"RemoteStore shutting down."),r.Ea.add(5),await kc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class s4{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{_e(Vi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(Vi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Vi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function T_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i4(n);_e(Vi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>y_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>y_(e.remoteStore,o))),n._onlineComponents=e}async function i4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Vi,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;La("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new zd)}}else _e(Vi,"Using default OfflineComponentProvider"),await kp(n,new r4(void 0));return n._offlineComponents}async function KS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Vi,"Using user provided OnlineComponentProvider"),await T_(n,n._uninitializedComponentsProvider._online)):(_e(Vi,"Using default OnlineComponentProvider"),await T_(n,new xm))),n._onlineComponents}function o4(n){return KS(n).then((e=>e.syncEngine))}async function QS(n){const e=await KS(n),t=e.eventManager;return t.onListen=HL.bind(null,e.syncEngine),t.onUnlisten=GL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KL.bind(null,e.syncEngine),t}function a4(n,e,t={}){const r=new Ds;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,f,h,p){const w=new GS({next:T=>{w.Nu(),c.enqueueAndForget((()=>LS(a,g)));const C=T.docs.has(f);!C&&T.fromCache?p.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?p.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new jS(yg(f.path),w,{includeMetadataChanges:!0,qa:!0});return VS(a,g)})(await QS(n),n.asyncQueue,e,t,r))),r.promise}function l4(n,e,t={}){const r=new Ds;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,f,h,p){const w=new GS({next:T=>{w.Nu(),c.enqueueAndForget((()=>LS(a,g))),T.fromCache&&h.source==="server"?p.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),g=new jS(f,w,{includeMetadataChanges:!0,qa:!0});return VS(a,g)})(await QS(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firestore.googleapis.com",I_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UV)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new pM;switch(r.type){case"firstParty":return new vM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=S_.get(t);r&&(_e("ComponentProvider","Removing Datastore"),S_.delete(t),r.terminate())})(this),Promise.resolve()}}function c4(n,e,t,r={}){n=Fs(n,xf);const o=Ya(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(Lx(`https://${f}`),jx("Firestore",!0)),a.host!==XS&&a.host!==f&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:f,ssl:o,emulatorOptions:r};if(!ki(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,w;if(typeof r.mockUserToken=="string")p=r.mockUserToken,w=fn.MOCK_USER;else{p=TN(r.mockUserToken,n._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new fn(g)}n._authCredentials=new mM(new MT(p,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class Ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cc(t,Ct._jsonSchema))return new Ct(e,r||null,new ke(ot.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Ot("string",Ct._jsonSchemaVersion),referencePath:Ot("string")};class Ci extends Mo{constructor(e,t,r){super(e,t,yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ke(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function JS(n,e,...t){if(n=xt(n),VT("collection","path",e),n instanceof xf){const r=ot.fromString(e,...t);return F0(r),new Ci(n,null,r)}{if(!(n instanceof Ct||n instanceof Ci))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return F0(r),new Ci(n.firestore,null,r)}}function Tf(n,e,...t){if(n=xt(n),arguments.length===1&&(e=dg.newId()),VT("doc","path",e),n instanceof xf){const r=ot.fromString(e,...t);return j0(r),new Ct(n,null,new ke(r))}{if(!(n instanceof Ct||n instanceof Ci))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return j0(r),new Ct(n.firestore,n instanceof Ci?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const r=Rp();r&&_e(C_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;_e(C_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,js("INTERNAL UNHANDLED ERROR: ",R_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=kg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:R_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function R_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Nc extends xf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function u4(n,e){const t=typeof n=="object"?n:tg(),r=typeof n=="string"?n:Dd,o=Po(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=EN("firestore");a&&c4(o,...a)}return o}function Mg(n){if(n._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||d4(n),n._firestoreClient}function d4(n){const e=n._freezeSettings(),t=(function(o,a,c,f){return new MM(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,YS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(nn.fromBase64String(e))}catch(t){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Ot("string",ar._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:Ot("string",ls._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cs(e.vectorValues);throw new ge(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:Ot("string",cs._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^__.*__$/;class h4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ac(e,this.data,t,this.fieldTransforms)}}class ZS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:n})}}class Lg{constructor(e,t,r,o,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eI(this.Ac)&&f4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wf(e)}Cc(e,t,r,o=!1){return new Lg({Ac:e,methodName:t,Dc:r,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=wf(n._databaseId);return new p4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m4(n,e,t,r,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Fg("Data must be an object, but it was:",c,r);const f=tI(r,c);let h,p;if(a.merge)h=new Wn(c.fieldMask),p=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const g of a.mergeFields){const T=Tm(e,g,t);if(!c.contains(T))throw new ge(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rI(w,T)||w.push(T)}h=new Wn(w),p=c.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,p=c.fieldTransforms;return new h4(new Pn(f),h,p)}class If extends Vg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function g4(n,e,t,r){const o=n.Cc(1,e,t);Fg("Data must be an object, but it was:",o,r);const a=[],c=Pn.empty();zi(r,((h,p)=>{const w=Ug(e,h,t);p=xt(p);const g=o.yc(w);if(p instanceof If)a.push(w);else{const T=Dc(p,g);T!=null&&(a.push(w),c.set(w,T))}}));const f=new Wn(a);return new ZS(c,f,o.fieldTransforms)}function y4(n,e,t,r,o,a){const c=n.Cc(1,e,t),f=[Tm(e,r,t)],h=[o];if(a.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)f.push(Tm(e,a[T])),h.push(a[T+1]);const p=[],w=Pn.empty();for(let T=f.length-1;T>=0;--T)if(!rI(p,f[T])){const C=f[T];let V=h[T];V=xt(V);const A=c.yc(C);if(V instanceof If)p.push(C);else{const N=Dc(V,A);N!=null&&(p.push(C),w.set(C,N))}}const g=new Wn(p);return new ZS(w,g,c.fieldTransforms)}function v4(n,e,t,r=!1){return Dc(t,n.Cc(r?4:3,e))}function Dc(n,e){if(nI(n=xt(n)))return Fg("Unsupported field value:",e,n),tI(n,e);if(n instanceof Vg)return(function(r,o){if(!eI(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const f of r){let h=Dc(f,o.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),c++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nt.fromDate(r);return{timestampValue:jd(o.serializer,a)}}if(r instanceof nt){const a=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(o.serializer,a)}}if(r instanceof ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ar)return{bytesValue:yS(o.serializer,r._byteString)};if(r instanceof Ct){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cs)return(function(c,f){return{mapValue:{fields:{[WT]:{stringValue:qT},[Od]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return vg(f.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${uf(r)}`)})(n,e)}function tI(n,e){const t={};return FT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(n,((r,o)=>{const a=Dc(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function nI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof ls||n instanceof ar||n instanceof Ct||n instanceof Vg||n instanceof cs)}function Fg(n,e,t){if(!nI(t)||!LT(t)){const r=uf(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Tm(n,e,t){if((e=xt(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Ug(n,e);throw Bd("Field path arguments must be of type string or ",n,!1,void 0,t)}const w4=new RegExp("[~\\*/\\[\\]]");function Ug(n,e,t){if(e.search(w4)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bd(n,e,t,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||c)&&(h+=" (found",a&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new ge(Z.INVALID_ARGUMENT,f+n+h)}function rI(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _4 extends sI{data(){return super.data()}}function bf(n,e){return typeof e=="string"?Ug(n,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class iI extends zg{}function x4(n,e,...t){let r=[];e instanceof zg&&r.push(e),r=r.concat(t),(function(a){const c=a.filter((h=>h instanceof Bg)).length,f=a.filter((h=>h instanceof Cf)).length;if(c>1||c>0&&f>0)throw new ge(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Cf extends iI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cf(e,t,r)}_apply(e){const t=this._parse(e);return oI(e._query,t),new Mo(e.firestore,e.converter,fm(e._query,t))}_parse(e){const t=jg(e.firestore);return(function(a,c,f,h,p,w,g){let T;if(p.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){P_(g,w);const V=[];for(const A of g)V.push(k_(h,a,A));T={arrayValue:{values:V}}}else T=k_(h,a,g)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||P_(g,w),T=v4(f,c,g,w==="in"||w==="not-in");return Dt.create(p,w,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function T4(n,e,t){const r=e,o=bf("where",n);return Cf._create(o,r,t)}class Bg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const f=a.getFlattenedFilters();for(const h of f)oI(c,h),c=fm(c,h)})(e._query,t),new Mo(e.firestore,e.converter,fm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends iI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $g(e,t)}_apply(e){const t=(function(o,a,c){if(o.startAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(a,c)})(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,(function(o,a){const c=o.explicitOrderBy.concat([a]);return new nl(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function S4(n,e="asc"){const t=e,r=bf("orderBy",n);return $g._create(r,t)}function k_(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new ge(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&t.indexOf("/")!==-1)throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!ke.isDocumentKey(r))throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(n,new ke(r))}if(t instanceof Ct)return G0(n,t._key);throw new ge(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(t)}.`)}function P_(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oI(n,e){const t=(function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class I4{convertValue(e,t="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Od].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new cs(t)}convertGeoPoint(e){return new ls(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);et(TS(r),9688,{name:e});const o=new pc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return o.isEqual(t)||js(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class tc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends sI{constructor(e,t,r,o,a,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:Ot("string",wo._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class yd extends wo{data(e={}){return super.data(e)}}class Na{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new yd(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const h=new yd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const h=new yd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,w=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:C4(f.type),doc:h,oldIndex:p,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(n){n=Fs(n,Ct);const e=Fs(n.firestore,Nc);return a4(Mg(e),n._key).then((t=>P4(e,n,t)))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Ot("string",Na._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class aI extends I4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function R4(n){n=Fs(n,Mo);const e=Fs(n.firestore,Nc),t=Mg(e),r=new aI(e);return E4(n._query),l4(t,n._query).then((o=>new Na(e,r,n,o)))}function lI(n,e,t){n=Fs(n,Ct);const r=Fs(n.firestore,Nc),o=b4(n.converter,e);return cI(r,[m4(jg(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,os.none())])}function k4(n,e,t,...r){n=Fs(n,Ct);const o=Fs(n.firestore,Nc),a=jg(o);let c;return c=typeof(e=xt(e))=="string"||e instanceof Sf?y4(a,"updateDoc",n._key,e,t,r):g4(a,"updateDoc",n._key,e),cI(o,[c.toMutation(n._key,os.exists(!0))])}function cI(n,e){return(function(r,o){const a=new Ds;return r.asyncQueue.enqueueAndForget((async()=>QL(await o4(r),o,a))),a.promise})(Mg(n),e)}function P4(n,e,t){const r=t.docs.get(e._key),o=new aI(n);return new wo(n,o,e._key,r,new tc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Za=o})(Xa),ds(new Cr("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),f=new Nc(new gM(r.getProvider("auth-internal")),new wM(c,r.getProvider("app-check-internal")),(function(p,w){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(p.options.projectId,w)})(c,o),c);return a={useFetchStreams:t,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),lr(O0,M0,e),lr(O0,M0,"esm2020")})();var N4="firebase",D4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(N4,D4,"app");const uI="@firebase/installations",Hg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1e4,fI=`w:${Hg}`,hI="FIS_v2",O4="https://firebaseinstallations.googleapis.com/v1",M4=3600*1e3,V4="installations",L4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new ko(V4,L4,j4);function pI(n){return n instanceof kr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI({projectId:n}){return`${O4}/projects/${n}/installations`}function gI(n){return{token:n.token,requestStatus:2,expiresIn:U4(n.expiresIn),creationTime:Date.now()}}async function yI(n,e){const r=(await e.json()).error;return Ao.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function F4(n,{refreshToken:e}){const t=vI(n);return t.append("Authorization",z4(e)),t}async function wI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function U4(n){return Number(n.replace("s","000"))}function z4(n){return`${hI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=mI(n),o=vI(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const c={fid:t,authVersion:hI,appId:n.appId,sdkVersion:fI},f={method:"POST",headers:o,body:JSON.stringify(c)},h=await wI(()=>fetch(r,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:gI(p.authToken)}}else throw await yI("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^[cdef][\w-]{21}$/,Sm="";function W4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=q4(n);return H4.test(t)?t:Sm}catch{return Sm}}function q4(n){return $4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;function xI(n,e){const t=Af(n);TI(t,e),G4(t,e)}function TI(n,e){const t=EI.get(n);if(t)for(const r of t)r(e)}function G4(n,e){const t=K4();t&&t.postMessage({key:n,fid:e}),Q4()}let vo=null;function K4(){return!vo&&"BroadcastChannel"in self&&(vo=new BroadcastChannel("[Firebase] FID Change"),vo.onmessage=n=>{TI(n.data.key,n.data.fid)}),vo}function Q4(){EI.size===0&&vo&&(vo.close(),vo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="firebase-installations-database",X4=1,Ro="firebase-installations-store";let Pp=null;function Wg(){return Pp||(Pp=Hx(Y4,X4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ro)}}})),Pp}async function $d(n,e){const t=Af(n),o=(await Wg()).transaction(Ro,"readwrite"),a=o.objectStore(Ro),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&xI(n,e.fid),e}async function SI(n){const e=Af(n),r=(await Wg()).transaction(Ro,"readwrite");await r.objectStore(Ro).delete(e),await r.done}async function Rf(n,e){const t=Af(n),o=(await Wg()).transaction(Ro,"readwrite"),a=o.objectStore(Ro),c=await a.get(t),f=e(c);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!c||c.fid!==f.fid)&&xI(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(n){let e;const t=await Rf(n.appConfig,r=>{const o=J4(r),a=Z4(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Sm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function J4(n){const e=n||{fid:W4(),registrationStatus:0};return II(e)}function Z4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ao.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ej(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tj(n)}:{installationEntry:e}}async function ej(n,e){try{const t=await B4(n,e);return $d(n.appConfig,t)}catch(t){throw pI(t)&&t.customData.serverCode===409?await SI(n.appConfig):await $d(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function tj(n){let e=await N_(n.appConfig);for(;e.registrationStatus===1;)await _I(100),e=await N_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await qg(n);return r||t}return e}function N_(n){return Rf(n,e=>{if(!e)throw Ao.create("installation-not-found");return II(e)})}function II(n){return nj(n)?{fid:n.fid,registrationStatus:0}:n}function nj(n){return n.registrationStatus===1&&n.registrationTime+dI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj({appConfig:n,heartbeatServiceProvider:e},t){const r=sj(n,t),o=F4(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const c={installation:{sdkVersion:fI,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},h=await wI(()=>fetch(r,f));if(h.ok){const p=await h.json();return gI(p)}else throw await yI("Generate Auth Token",h)}function sj(n,{fid:e}){return`${mI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(n,e=!1){let t;const r=await Rf(n.appConfig,a=>{if(!bI(a))throw Ao.create("not-registered");const c=a.authToken;if(!e&&aj(c))return a;if(c.requestStatus===1)return t=ij(n,e),a;{if(!navigator.onLine)throw Ao.create("app-offline");const f=cj(a);return t=oj(n,f),f}});return t?await t:r.authToken}async function ij(n,e){let t=await D_(n.appConfig);for(;t.authToken.requestStatus===1;)await _I(100),t=await D_(n.appConfig);const r=t.authToken;return r.requestStatus===0?Gg(n,e):r}function D_(n){return Rf(n,e=>{if(!bI(e))throw Ao.create("not-registered");const t=e.authToken;return uj(t)?{...e,authToken:{requestStatus:0}}:e})}async function oj(n,e){try{const t=await rj(n,e),r={...e,authToken:t};return await $d(n.appConfig,r),t}catch(t){if(pI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await SI(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $d(n.appConfig,r)}throw t}}function bI(n){return n!==void 0&&n.registrationStatus===2}function aj(n){return n.requestStatus===2&&!lj(n)}function lj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+M4}function cj(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function uj(n){return n.requestStatus===1&&n.requestTime+dI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(n){const e=n,{installationEntry:t,registrationPromise:r}=await qg(e);return r?r.catch(console.error):Gg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(n,e=!1){const t=n;return await hj(t),(await Gg(t,e)).token}async function hj(n){const{registrationPromise:e}=await qg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n){if(!n||!n.options)throw Np("App Configuration");if(!n.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Np(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Np(n){return Ao.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="installations",mj="installations-internal",gj=n=>{const e=n.getProvider("app").getImmediate(),t=pj(e),r=Po(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yj=n=>{const e=n.getProvider("app").getImmediate(),t=Po(e,CI).getImmediate();return{getId:()=>dj(t),getToken:o=>fj(t,o)}};function vj(){ds(new Cr(CI,gj,"PUBLIC")),ds(new Cr(mj,yj,"PRIVATE"))}vj();lr(uI,Hg);lr(uI,Hg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="analytics",wj="firebase_id",_j="origin",Ej=60*1e3,xj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gn=new ko("analytics","Analytics",Tj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(n){if(!n.startsWith(Kg)){const e=Gn.create("invalid-gtag-resource",{gtagURL:n});return _n.warn(e.message),""}return n}function AI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ij(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function bj(n,e){const t=Ij("firebase-js-sdk-policy",{createScriptURL:Sj}),r=document.createElement("script"),o=`${Kg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Cj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Aj(n,e,t,r,o,a){const c=r[o];try{if(c)await e[c];else{const h=(await AI(t)).find(p=>p.measurementId===o);h&&await e[h.appId]}}catch(f){_n.error(f)}n("config",o,a)}async function Rj(n,e,t,r,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await AI(t);for(const h of c){const p=f.find(g=>g.measurementId===h),w=p&&e[p.appId];if(w)a.push(w);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,o||{})}catch(a){_n.error(a)}}function kj(n,e,t,r){async function o(a,...c){try{if(a==="event"){const[f,h]=c;await Rj(n,e,t,f,h)}else if(a==="config"){const[f,h]=c;await Aj(n,e,t,r,f,h)}else if(a==="consent"){const[f,h]=c;n("consent",f,h)}else if(a==="get"){const[f,h,p]=c;n("get",f,h,p)}else if(a==="set"){const[f]=c;n("set",f)}else n(a,...c)}catch(f){_n.error(f)}}return o}function Pj(n,e,t,r,o){let a=function(...c){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=kj(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function Nj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=30,Oj=1e3;class Mj{constructor(e={},t=Oj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RI=new Mj;function Vj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Lj(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:Vj(t)},o=xj.replace("{app-id}",e),a=await fetch(o,r);if(a.status!==200&&a.status!==304){let c="";try{const f=await a.json();f.error?.message&&(c=f.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function jj(n,e=RI,t){const{appId:r,apiKey:o,measurementId:a}=n.options;if(!r)throw Gn.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw Gn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new zj;return setTimeout(async()=>{f.abort()},Ej),kI({appId:r,apiKey:o,measurementId:a},c,f,e)}async function kI(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=RI){const{appId:a,measurementId:c}=n;try{await Fj(r,e)}catch(f){if(c)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:c};throw f}try{const f=await Lj(n);return o.deleteThrottleMetadata(a),f}catch(f){const h=f;if(!Uj(h)){if(o.deleteThrottleMetadata(a),c)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:c};throw f}const p=Number(h?.customData?.httpStatus)===503?i0(t,o.intervalMillis,Dj):i0(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return o.setThrottleMetadata(a,w),_n.debug(`Calling attemptFetch again in ${p} millis`),kI(n,w,r,o)}}function Fj(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),r(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Uj(n){if(!(n instanceof kr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class zj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Bj(n,e,t,r,o){if(o&&o.global){n("event",t,r);return}else{const a=await e,c={...r,send_to:a};n("event",t,c)}}async function $j(n,e,t,r){if(r&&r.global){const o={};for(const a of Object.keys(t))o[`user_properties.${a}`]=t[a];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(){if(Ux())try{await zx()}catch(n){return _n.warn(Gn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return _n.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Wj(n,e,t,r,o,a,c){const f=jj(n);f.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>_n.error(T)),e.push(f);const h=Hj().then(T=>{if(T)return r.getId()}),[p,w]=await Promise.all([f,h]);Nj(a)||bj(a,p.measurementId),o("js",new Date);const g=c?.config??{};return g[_j]="firebase",g.update=!0,w!=null&&(g[wj]=w),o("config",p.measurementId,g),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.app=e}_delete(){return delete Da[this.app.options.appId],Promise.resolve()}}let Da={},O_=[];const M_={};let Dp="dataLayer",Gj="gtag",V_,Qg,L_=!1;function Kj(){const n=[];if(Fx()&&n.push("This is a browser extension environment."),NN()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Gn.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}function Qj(n,e,t){Kj();const r=n.options.appId;if(!r)throw Gn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(Da[r]!=null)throw Gn.create("already-exists",{id:r});if(!L_){Cj(Dp);const{wrappedGtag:a,gtagCore:c}=Pj(Da,O_,M_,Dp,Gj);Qg=a,V_=c,L_=!0}return Da[r]=Wj(n,O_,M_,e,V_,Dp,t),new qj(n)}function Yj(n=tg()){n=xt(n);const e=Po(n,Hd);return e.isInitialized()?e.getImmediate():Xj(n)}function Xj(n,e={}){const t=Po(n,Hd);if(t.isInitialized()){const o=t.getImmediate();if(ki(e,t.getOptions()))return o;throw Gn.create("already-initialized")}return t.initialize({options:e})}function Jj(n,e,t){n=xt(n),$j(Qg,Da[n.app.options.appId],e,t).catch(r=>_n.error(r))}function Zj(n,e,t,r){n=xt(n),Bj(Qg,Da[n.app.options.appId],e,t,r).catch(o=>_n.error(o))}const j_="@firebase/analytics",F_="0.10.19";function e5(){ds(new Cr(Hd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Qj(r,o,t)},"PUBLIC")),ds(new Cr("analytics-internal",n,"PRIVATE")),lr(j_,F_),lr(j_,F_,"esm2020");function n(e){try{const t=e.getProvider(Hd).getImmediate();return{logEvent:(r,o,a)=>Zj(t,r,o,a),setUserProperties:(r,o)=>Jj(t,r,o)}}catch(t){throw Gn.create("interop-component-reg-failed",{reason:t})}}}e5();const t5={apiKey:"AIzaSyB3fwdOMG_1KvYtPSUDz8nDIZFLcYlgQLg",authDomain:"nemora-eb68d.firebaseapp.com",projectId:"nemora-eb68d",storageBucket:"nemora-eb68d.firebasestorage.app",messagingSenderId:"983279568233",appId:"1:983279568233:web:c8727027ad4fe14431e9f8",measurementId:"G-VP8GPLVTG7"},Yg=Wx(t5);Yj(Yg);const kf=fM(Yg),Oc=u4(Yg),n5=async(n,e,t)=>{try{const r=await KD(kf,n,e),o=r.user;return await XD(o,{displayName:t}),await lI(Tf(Oc,"users",o.uid),{uid:o.uid,email:o.email,displayName:t,createdAt:new Date}),r}catch(r){throw console.error("Error signing up:",r),new Error(r.message||"Failed to sign up")}},r5=async(n,e)=>{try{return await QD(kf,n,e)}catch(t){throw console.error("Error signing in:",t),new Error(t.message||"Failed to sign in")}},s5=async()=>{try{await tO(kf)}catch(n){throw console.error("Error signing out:",n),new Error(n.message||"Failed to sign out")}},i5=async n=>{try{const e=Tf(Oc,"users",n),t=await A4(e);if(t.exists()){const r=t.data();return{uid:r.uid,email:r.email,displayName:r.displayName,createdAt:r.createdAt.toDate()}}return null}catch(e){throw console.error("Error getting user profile:",e),new Error(e.message||"Failed to get user profile")}};function o5({onAuthSuccess:n}){const[e,t]=I.useState(!0),[r,o]=I.useState(""),[a,c]=I.useState(""),[f,h]=I.useState(""),[p,w]=I.useState(!1),g=async T=>{T.preventDefault(),w(!0);try{if(e)await r5(r,a),Gt.success("Welcome back!"),n();else{if(!f.trim()){Gt.error("Please enter your full name"),w(!1);return}await n5(r,a,f),Gt.success("Account created successfully!"),n()}}catch(C){console.error("Auth error:",C),C.message.includes("auth/email-already-in-use")?Gt.error("Email already in use"):C.message.includes("auth/weak-password")?Gt.error("Password should be at least 6 characters"):C.message.includes("auth/invalid-email")?Gt.error("Invalid email address"):C.message.includes("auth/user-not-found")?Gt.error("No account found with this email"):C.message.includes("auth/wrong-password")?Gt.error("Incorrect password"):C.message.includes("auth/invalid-credential")?Gt.error("Invalid email or password"):Gt.error(C.message||"Authentication failed")}finally{w(!1)}};return _.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a1628] via-[#0d1b3a] to-[#0a1628] flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-20 left-10 w-1 h-1 bg-white rounded-full opacity-60 animate-pulse"}),_.jsx("div",{className:"absolute top-40 right-20 w-1 h-1 bg-white rounded-full opacity-40"}),_.jsx("div",{className:"absolute bottom-32 left-1/4 w-1 h-1 bg-white rounded-full opacity-50 animate-pulse",style:{animationDelay:"1s"}}),_.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full opacity-30"}),_.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1 h-1 bg-white rounded-full opacity-60 animate-pulse",style:{animationDelay:"2s"}})]}),_.jsx("h1",{className:"text-6xl font-bold text-white mb-6 relative z-10",children:"Nemora"}),_.jsx("p",{className:"text-xl text-white mb-12 relative z-10",children:"Welcome to Nemora, your new nemotron powered product management tool!"}),_.jsx("div",{className:"w-full max-w-3xl relative z-10",children:_.jsxs("div",{className:"border-2 border-cyan-400 rounded-lg p-8 bg-[#0a1628]/50 backdrop-blur-sm shadow-[0_0_30px_rgba(34,211,238,0.3)]",children:[_.jsx("h2",{className:"text-2xl font-semibold text-white mb-8",children:e?"Login":"Sign Up"}),_.jsxs("form",{onSubmit:g,className:"space-y-6",children:[!e&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),_.jsx(ts,{type:"text",placeholder:"John Doe",value:f,onChange:T=>h(T.target.value),required:!e,className:"w-full h-14 bg-transparent border-2 border-cyan-400 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-300 focus:ring-2 focus:ring-cyan-400/50 shadow-[0_0_10px_rgba(34,211,238,0.2)]"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email address"}),_.jsx(ts,{type:"email",placeholder:"you@example.com",value:r,onChange:T=>o(T.target.value),required:!0,className:"w-full h-14 bg-transparent border-2 border-cyan-400 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-300 focus:ring-2 focus:ring-cyan-400/50 shadow-[0_0_10px_rgba(34,211,238,0.2)]"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),_.jsx(ts,{type:"password",placeholder:"",value:a,onChange:T=>c(T.target.value),required:!0,minLength:6,className:"w-full h-14 bg-transparent border-2 border-cyan-400 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-300 focus:ring-2 focus:ring-cyan-400/50 shadow-[0_0_10px_rgba(34,211,238,0.2)]"})]}),_.jsx(Sr,{type:"submit",disabled:p,className:"w-full h-14 bg-transparent border-2 border-cyan-400 hover:bg-cyan-400/10 text-white font-semibold rounded-lg transition-all shadow-[0_0_15px_rgba(34,211,238,0.3)] hover:shadow-[0_0_25px_rgba(34,211,238,0.5)]",children:p?_.jsxs("span",{className:"flex items-center justify-center gap-2",children:[_.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e?"Logging in...":"Signing up..."]}):_.jsx("span",{children:e?"Login":"Sign Up"})})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsxs("p",{className:"text-sm text-gray-300",children:[e?"Don't have an account? ":"Already have an account? ",_.jsx("button",{type:"button",onClick:()=>{t(!e),h(""),o(""),c("")},className:"text-cyan-400 hover:text-cyan-300 font-medium hover:underline",children:e?"Sign up":"Login"})]})})]})})]})}const U_=({...n})=>_.jsx(uN,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n});function z_({title:n,defaultOpen:e=!0,children:t}){const[r,o]=I.useState(e);return _.jsxs("section",{className:"mb-6 rounded-xl border border-[var(--lc-border)] bg-[var(--lc-surface-soft)]",children:[_.jsxs("button",{type:"button",onClick:()=>o(!r),className:ft("flex w-full items-center justify-between px-4 py-3","text-sm font-medium text-[var(--lc-text)] hover:bg-[var(--lc-surface)] transition-colors duration-150"),children:[_.jsx("span",{children:n}),_.jsx("span",{className:ft("inline-flex h-5 w-5 items-center justify-center rounded-full border border-[var(--lc-border)] text-[10px] text-[var(--lc-muted)] transition-transform",r?"rotate-90":"rotate-0"),children:""})]}),_.jsx("div",{className:ft("overflow-hidden transition-all duration-300 ease-out",r?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:_.jsx("div",{className:"text-[var(--lc-text)]",children:t})})]})}const PI=I.createContext({user:null,userProfile:null,loading:!0}),a5=()=>{const n=I.useContext(PI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},l5=({children:n})=>{const[e,t]=I.useState(null),[r,o]=I.useState(null),[a,c]=I.useState(!0);I.useEffect(()=>{const h=eO(kf,async p=>{if(t(p),p)try{const w=await i5(p.uid);o(w)}catch(w){console.error("Error fetching user profile:",w),o(null)}else o(null);c(!1)});return()=>h()},[]);const f={user:e,userProfile:r,loading:a};return _.jsx(PI.Provider,{value:f,children:n})},c5=async(n,e)=>{try{const t=Tf(JS(Oc,"projects")),r=t.id,o={...e,userId:n,createdAt:new Date,updatedAt:new Date};return await lI(t,{...o,createdAt:nt.fromDate(o.createdAt),updatedAt:nt.fromDate(o.updatedAt)}),r}catch(t){throw console.error("Error creating project:",t),new Error(t.message||"Failed to create project")}},u5=async n=>{try{const e=JS(Oc,"projects"),t=x4(e,T4("userId","==",n),S4("updatedAt","desc")),r=await R4(t),o=[];return r.forEach(a=>{const c=a.data();o.push({id:a.id,...c,createdAt:c.createdAt.toDate(),updatedAt:c.updatedAt.toDate()})}),o}catch(e){throw console.error("Error getting user projects:",e),new Error(e.message||"Failed to get user projects")}},d5=async(n,e)=>{try{const t=Tf(Oc,"projects",n);await k4(t,{...e,updatedAt:nt.fromDate(new Date)})}catch(t){throw console.error("Error updating project:",t),new Error(t.message||"Failed to update project")}};function f5(){const{user:n,loading:e}=a5(),[t,r]=I.useState(null),[o,a]=I.useState({name:"",description:"",targetUsers:"",timeline:"6 months"}),[c,f]=I.useState(null),[h,p]=I.useState(null),[w,g]=I.useState(!1),[T,C]=I.useState(!1),[V,A]=I.useState(!1),[N,U]=I.useState(null),[$,q]=I.useState(null),[J,ee]=I.useState([]),[re,R]=I.useState({});I.useEffect(()=>{if(!n){r(null),f(null),ee([]),R({}),p(null);return}(async()=>{try{const L=await u5(n.uid);if(L.length>0){const K=L[0];r(K.id),a({name:K.name,description:K.description,targetUsers:K.targetUsers,timeline:K.timeline}),f({phases:K.phases,tasks:K.tasks,risks:K.risks,kpis:K.kpis}),ee(K.teamMembers),R(K.taskAssignments),p(K.reportData),Gt.success("Project loaded")}}catch(L){console.error("Error loading project:",L),Gt.error("Failed to load project")}})()},[n]);const S=async()=>{if(!(!n||!c))try{if(t)await d5(t,{name:o.name,description:o.description,targetUsers:o.targetUsers,timeline:o.timeline,phases:c.phases,tasks:c.tasks,risks:c.risks,kpis:c.kpis,teamMembers:J,taskAssignments:re,reportData:h});else{const X=await c5(n.uid,{name:o.name,description:o.description,targetUsers:o.targetUsers,timeline:o.timeline,phases:c.phases,tasks:c.tasks,risks:c.risks,kpis:c.kpis,teamMembers:J,taskAssignments:re,reportData:h});r(X),Gt.success("Project saved")}}catch(X){console.error("Error saving project:",X),Gt.error("Failed to save project")}};I.useEffect(()=>{if(c&&n){const X=setTimeout(()=>{S()},2e3);return()=>clearTimeout(X)}},[c,J,re,h,n]);const P=async()=>{try{await s5(),Gt.success("Logged out successfully")}catch(X){console.error("Error logging out:",X),Gt.error("Failed to log out")}},M=X=>{const L={...X,id:`member-${Date.now()}`};ee([...J,L])},O=X=>{ee(J.filter(K=>K.id!==X));const L={...re};Object.keys(L).forEach(K=>{L[K]=L[K].filter(ne=>ne!==X)}),R(L)},F=(X,L)=>{const K=re[X]||[];K.includes(L)||R({...re,[X]:[...K,L]})},k=(X,L)=>{const K=re[X]||[];R({...re,[X]:K.filter(ne=>ne!==L)})},we=async()=>{if(!o.name.trim()){U("Product name is required");return}if(!o.description.trim()){U("Description is required");return}U(null),g(!0);try{const X=await cp.generateLifecycle(o);f(X),p(null)}catch(X){U(X instanceof Error?X.message:"An error occurred")}finally{g(!1)}},Ae=async()=>{if(c){q(null),C(!0);try{const X=await cp.generateStatus(c,o);p(X)}catch(X){q(X instanceof Error?X.message:"An error occurred")}finally{C(!1)}}},ue=async()=>{if(!h||!c)return;A(!0);const X=c.tasks.filter(ne=>ne.status==="Done").length,L=c.tasks.length,K=Math.round(X/L*100);try{return await cp.sendToSlack({productName:o.name,statusSummary:h.statusSummary,progress:K,doneTasks:X,totalTasks:L,nextSteps:h.nextSteps,launchChecklist:h.launchChecklist}),!0}catch(ne){throw ne}finally{A(!1)}},pe=(X,L)=>{c&&f(K=>{if(!K)return K;const ne=K.tasks.map(ce=>ce.id===X?{...ce,status:L}:ce);return{...K,tasks:ne}})},le=(()=>{if(!c)return{doneTasks:0,totalTasks:0,percent:0};const X=c.tasks.filter(ne=>ne.status==="Done").length,L=c.tasks.length,K=L>0?Math.round(X/L*100):0;return{doneTasks:X,totalTasks:L,percent:K}})();return e?_.jsx("div",{className:"min-h-screen bg-[var(--lc-bg)] flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg animate-pulse",children:_.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("p",{className:"text-[var(--lc-muted)]",children:"Loading..."})]})}):n?_.jsxs("div",{className:"min-h-screen bg-[var(--lc-bg)] text-[var(--lc-text)] flex flex-col relative overflow-hidden",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),_.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-indigo-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),_.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-purple-400/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),_.jsx(uC,{onLogin:()=>{},onLogout:P,isLoggedIn:!!n}),_.jsx("main",{className:"px-8 py-6 pt-24 overflow-y-auto",style:{paddingTop:"96px"},children:_.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[_.jsx(hC,{}),_.jsx("div",{className:"animate-slide-up",children:_.jsx(Zk,{productInput:o,setProductInput:a,onGenerate:we,isGenerating:w,error:N})}),c&&_.jsxs("div",{className:"space-y-6 animate-fade-in",children:[_.jsx(eP,{phases:c.phases,tasks:c.tasks,progress:le}),_.jsx(z_,{title:"Team & Stakeholders",defaultOpen:!0,children:_.jsx(fN,{teamMembers:J,onAddMember:M,onRemoveMember:O})}),_.jsx(z_,{title:"Execution Plan",defaultOpen:!0,children:_.jsx(kP,{tasks:c.tasks,teamMembers:J,taskAssignments:re,onUpdateTaskStatus:pe,onAssignTask:F,onUnassignTask:k})}),_.jsx(PP,{risks:c.risks,kpis:c.kpis}),_.jsx(dN,{reportData:h,onGenerateStatus:Ae,onSendToSlack:ue,isGeneratingStatus:T,isSendingSlack:V,statusError:$,hasLifecycleData:!!c})]})]})}),_.jsx(U_,{position:"bottom-right"})]}):_.jsxs(_.Fragment,{children:[_.jsx(o5,{onAuthSuccess:()=>{}}),_.jsx(U_,{position:"bottom-right"})]})}qb.createRoot(document.getElementById("root")).render(_.jsx(l5,{children:_.jsx(f5,{})}));
